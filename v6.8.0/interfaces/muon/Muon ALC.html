<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Muon ALC</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Muon Analysis" href="Muon%20Analysis%202.html" />
    <link rel="prev" title="Frequency Domain Analysis" href="Frequency%20Domain%20Analysis.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.8</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://www.mantidproject.org">Home</a></li>
                <li><a href="https://download.mantidproject.org">Download</a></li>
                <li><a href="https://docs.mantidproject.org">Documentation</a></li>
                <li><a href="https://www.mantidproject.org/contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="../index.html" accesskey="U">Interfaces</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">Muon ALC</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="muon-alc">
<span id="muonalc-ref"></span><h1>Muon ALC<a class="headerlink" href="#muon-alc" title="Permalink to this heading">¶</a></h1>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#overview" id="id3">Overview</a></p></li>
<li><p><a class="reference internal" href="#global-options" id="id4">Global Options</a></p>
<ul>
<li><p><a class="reference internal" href="#export-results" id="id5">Export Results</a></p></li>
<li><p><a class="reference internal" href="#import-results" id="id6">Import Results</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#description" id="id7">Description</a></p>
<ul>
<li><p><a class="reference internal" href="#data-loading" id="id8">Data Loading</a></p>
<ul>
<li><p><a class="reference internal" href="#options" id="id9">Options</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#baseline-modelling" id="id10">Baseline Modelling</a></p>
<ul>
<li><p><a class="reference internal" href="#id1" id="id11">Options</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#peak-fitting" id="id12">Peak Fitting</a></p>
<ul>
<li><p><a class="reference internal" href="#id2" id="id13">Options</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#run-the-alc-interface" id="id14">Run the ALC interface</a></p></li>
</ul>
</nav>
<section id="overview">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Overview</a><a class="headerlink" href="#overview" title="Permalink to this heading">¶</a></h2>
<p>The Avoided Level Crossing (ALC) <span class="math notranslate nohighlight">\(\mu SR\)</span> technique probes the energy levels of a
muoniated radical system, and can be used to elucidate the regiochemistry of
muonium addition, dynamic processes, and reaction kinetics, through measurement
of the muon and proton hyperfine coupling interactions. Examples of how the ALC
technique can be used are presented in this
<a class="reference external" href="http://archive.mantidproject.org/images/3/39/Muon_level_crossing_resonance_leaflet.pdf">brochure</a>.</p>
<p>Radical systems are formed during muon thermalisation, during which a portion of
the implanted muons are able to capture electrons to form muonium (<span class="math notranslate nohighlight">\(\mu+e\)</span>). Muonium
adds to centres of unsaturation in a sample (double or triple bonds) to form a
muoniated radical species. The spins of the muon, unpaired electron, and protons
within the sample interact through the isotropic and anisotropic components of
the hyperfine interaction, forming a quantised system, described by a series of
discrete energy levels.</p>
<p>In an ALC experiment the magnetic field is incrementally scanned, recording a
specified number of positron events at each step. At certain fields, the energy
levels in the muon and sample system become nearly degenerate, and are able to
interact through the hyperfine coupling interaction. The spins oscillate between
the two energy states resulting in a dip in the polarisation, observed as a
resonance during the magnetic field scan. The three types of ALC resonance
(referred to as <span class="math notranslate nohighlight">\(\Delta 0\)</span>, <span class="math notranslate nohighlight">\(\Delta 1\)</span>, and <span class="math notranslate nohighlight">\(\Delta 2\)</span> resonances) are characterised by the selection
rule <span class="math notranslate nohighlight">\(\Delta M=0, \pm 1, \pm 2\)</span>, where <span class="math notranslate nohighlight">\(M\)</span> is the sum of the mz quantum numbers of the spins
of the muon, electron and proton. Isotropic hyperfine coupling interactions
manifest as <span class="math notranslate nohighlight">\(\Delta 0\)</span> resonances resulting from muon-nuclear spin flip-flop transitions.
The <span class="math notranslate nohighlight">\(\Delta 0\)</span> resonance field is dependent on the magnitude of both the muon and proton
hyperfine interaction (<span class="math notranslate nohighlight">\(A\mu\)</span> and <span class="math notranslate nohighlight">\(Ak\)</span>, respectively) and can occur in gaseous, liquid,
or solid phase samples. The muon spin flip transition that produces the <span class="math notranslate nohighlight">\(\Delta 1\)</span>
resonance only arises in the presence of anisotropy. Radical systems possessing
complete anisotropy produce a single broad resonance and systems with axial or
equatorial anisotropy produce an asymmetrical resonance line shape known as a
powder pattern. The <span class="math notranslate nohighlight">\(\Delta 2\)</span> resonance is also observed in radicals from anisotropic
environments. However, these are rarely observed experimentally due to their
characteristically weak intensity line shapes. The magnitude of the hyperfine
interaction is characteristic of the muon binding site, and can result in an
ALC resonance associated with each of the magnetically equivalent nuclei,
for each muoniated radical isomer.</p>
<p>The magnetic field position, the full width at half height (FWHH), and the
resonance line shape are the important parameters to be extracted from the
ALC spectrum. The field position of a resonance is related to the muon
and/or nuclear hyperfine coupling constant. They often show strong temperature
dependence and can reveal information regarding the structure of the investigated
system. The FWHH of a resonance may indicate any motional dynamics present in the
system, and can also be used to determine muonium addition rates. The anisotropic
environments experienced by radicals in solid samples can produce a variety of
‘powder pattern’ lineshapes, which are characteristic of the orientation of the
effective hyperfine tensors relative to the magnetic field, and can thus
indicate any reorientational motion present.</p>
<p>In order to extract these parameters accurately from an ALC spectrum it is
necessary to determine a baseline, perform a baseline subtraction and then
fit the peaks. The Muon ALC interface integrates this sequence of
operations hiding the complexity of the underlying algorithms.</p>
</section>
<section id="global-options">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Global Options</a><a class="headerlink" href="#global-options" title="Permalink to this heading">¶</a></h2>
<p>Global options are options visible and accessible from any step in the
interface. Currently, there are two buttons that can be used at any point during the analysis.</p>
<section id="export-results">
<h3><a class="toc-backref" href="#id5" role="doc-backlink">Export Results</a><a class="headerlink" href="#export-results" title="Permalink to this heading">¶</a></h3>
<p>The ‘Export results…’ button allows the user to export intermediate results at any step. When clicked,
it prompts the user to enter a label for the workspace group that will gather the ALC results. This
label is defaulted to ‘ALCResults’. In the DataLoading step, data are exported in a workspace named
&lt;Label&gt;_Loaded_Data, which contains a single spectrum. In the BaselineModelling step, data and model
are exported in a set of three workspaces: a workspace named &lt;Label&gt;_Baseline_Workspace, which contains
three spectra corresponding to the original data, model and corrected data respectively, a TableWorkspace
named &lt;Label&gt;_Baseline_Model with information on the fitting parameters, and a second TableWorkspace
named &lt;Label&gt;_Baseline_Sections containing information on the sections used to fit the baseline. When
exporting results in the PeakFitting steps, two workspaces will be created: a &lt;Label&gt;_Peaks_Workspace,
that contains at least three spectra: the corrected data (i.e., the data after the baseline model
subtraction), fitting function and difference curve. If more than one peak was fitted, individual peaks
will be stored in subsequent spectra. The &lt;Label&gt;_Peaks_FitResults TableWorkspace provides information
about the fitting parameters and errors.</p>
<p>Note that the ‘Export results…’ button exports as much information as possible, which means that all
the data stored in the interface will be exported when clicked, regardless of the current step. For
example, if the user starts a new analysis and the button is used in the ‘DataLoading’ step, only the
&lt;Label&gt;_Loaded_Data workspace will be created in the ADS. However, if the user proceeds with the analysis
and clicks ‘Export results…’ at the ‘BaselineModelling’ step, the interface will export not only the
&lt;Label&gt;_Baseline_* workspaces but also the &lt;Label&gt;_Loaded_Data workspace. In the same way, if the user
has completed the peak fitting analysis and uses the button in the PeakFitting step, not only the
&lt;Label&gt;_Peaks_* workspaces will be created, but also the &lt;Label&gt;_Baseline_* and the &lt;Label&gt;_Loaded_Data
workspaces. Also, note that if ‘Export results…’ is used at a specific step but results from a previous
analysis exist in a subsequent stage of the analysis, the latter will be exported as well.</p>
</section>
<section id="import-results">
<h3><a class="toc-backref" href="#id6" role="doc-backlink">Import Results</a><a class="headerlink" href="#import-results" title="Permalink to this heading">¶</a></h3>
<p>The ‘Import results…’ button allows the user to load previously analysed data, ideally saved using
‘Export results…’. When clicked, it prompts the user to enter a label for the workspace group from which
data will be imported, which is defaulted to ‘ALCResults’. The interface then searches for a workspace
corresponding to the
interface’s step from which it was called. This means that if the user is currently in the
DataLoading step, the interface will search for a workspace named &lt;Label&gt;_Loaded_Data. If
it is used from the BaselineModelling step, the workspace named &lt;Label&gt;_Baseline_Workspace
will be loaded. Finally, if PeakFitting is the current step in the analysis, the workspace
&lt;Label&gt;_Peaks_Workspaces will be imported. Note that using the ‘Import results…’ button
at a specific step does not produce the loading of data corresponding to previous or subsequent
steps. In addition, data at subsequent steps will not be cleared. For instance, if some data
were analysed in the PeakFitting step and you went back to BaselineModelling to import a new
set of runs, previous peaks would be kept in PeakFitting. Note that at this stage of development
‘Import results…’ does not load fitting results or fitting sections.</p>
</section>
</section>
<section id="description">
<h2><a class="toc-backref" href="#id7" role="doc-backlink">Description</a><a class="headerlink" href="#description" title="Permalink to this heading">¶</a></h2>
<p>This section describes the three steps in the analysis: Data Loading, Baseline Modelling and Peak
Fitting.</p>
<section id="data-loading">
<h3><a class="toc-backref" href="#id8" role="doc-backlink">Data Loading</a><a class="headerlink" href="#data-loading" title="Permalink to this heading">¶</a></h3>
<p>In the Data Loading step, the instrument will be decided by the users default instrument
in workbench, otherwise HIFI will be selected instead. The instrument can be manually
changed. Once changed if there are already runs found using the previous instrument,
the interface will automatically try to find the same runs for the new instrument.
A sequence of runs are loaded through the <strong>Runs</strong> field by entering a valid expression of
run numbers. The path is set once the entered run numbers have been found and is for
display purposes only i.e. it is not editable.</p>
<p>The interface will attempt to locate runs by first searching any user defined directories
and then the Data archive (only useful if you’re at ISIS). You can manage your user directories
with the <a class="reference internal" href="../framework/ManageUserDirectories.html#manageuserdirectories"><span class="std std-ref">manage user directories</span></a> button.</p>
<p>The input files must be Muon Nexus files with names beginning with at least one letter
and followed by a number. In addition, the user must supply the <strong>Log</strong> data that will
be used as X parameter from the list of available log values.
Some additional options may be specified: the <strong>Dead Time Corrections</strong>, if any, can be
loaded from the input dataset itself or from a custom file specified by the user. The
detector <strong>Grouping</strong> is defaulted to <strong>Auto</strong>, in which case the grouping information
is read from the run data, although it can be customized by setting the list of spectra
for the forward and backward groups. <strong>Alpha</strong> (the balance parameter) is defaulted to 1.0 and
can only be changed when analysing single period data.The user can also choose the <strong>Period</strong>
number that corresponds to the red period, and the number corresponding to the green period,
if the option <strong>Subtract</strong> is checked, and finally the type of <strong>Calculation</strong> together
with the time limits. A click on the <strong>Load</strong> button results in the calculation of the
asymmetry, displayed on the right panel.</p>
<p>Once data has been loaded, <strong>Auto add</strong> can be checked. This will watch for new files
to be added to the path and try to load them automatically.</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/MuonALCDataLoading.png"><img alt="../../_images/MuonALCDataLoading.png" src="../../_images/MuonALCDataLoading.png" style="width: 800px;" /></a>
</figure>
<section id="options">
<h4><a class="toc-backref" href="#id9" role="doc-backlink">Options</a><a class="headerlink" href="#options" title="Permalink to this heading">¶</a></h4>
<dl>
<dt>Instrument</dt><dd><p>The instrument</p>
</dd>
<dt>Manage User Directories</dt><dd><p>Opens a dialog where a user can specify which directories to load from</p>
</dd>
<dt>Path</dt><dd><p>The directory data has been loaded from</p>
</dd>
<dt>Runs</dt><dd><p>The range of nexus files in the series</p>
</dd>
<dt>Log</dt><dd><p>The name of the log value which will be used as the X-axis in the output workspace. The list of
possible logs is automatically populated when the first nexus file is browsed and selected. If
the run start/end time is chosen, they are plotted in seconds relative to the start time of the
first run.</p>
</dd>
<dt>Take log value at</dt><dd><blockquote>
<div><p>The function to apply to the time series log: Mean/Min/Max/First/Last.</p>
</div></blockquote>
<dl class="simple">
<dt>Load</dt><dd><p>Computes the asymmetry according to selected options and displays it against the
chosen log value.</p>
</dd>
</dl>
</dd>
<dt>Dead Time Correction</dt><dd><p>Type of dead time corrections to apply. Options are <em>None</em>, in which case no
corrections will be applied, <em>From Data File</em>, to load corrections from
the input dataset itself, or <em>From Custom File</em>, to load corrections from a
specified nexus file.</p>
</dd>
<dt>Grouping</dt><dd><p>Detector grouping to apply. <em>Auto</em> will load the grouping information contained
in the run file, while <em>Custom</em> allows to specify the list of spectra for both the
forward and backward groups. <em>Alpha</em> is the balance parameter and is only available
for single period data.</p>
</dd>
<dt>Periods</dt><dd><p>Period number to use as red data. The <em>Subtract</em> option, if checked, allows to
select the green period number that will be subtracted to the red data.</p>
</dd>
<dt>Calculation</dt><dd><p>Type of calculation, <em>Integral</em> or <em>Differential</em>, together with the time limits.</p>
</dd>
</dl>
<dl class="simple">
<dt>?</dt><dd><p>Shows this help page.</p>
</dd>
<dt>Loaded Data</dt><dd><p>Graph where the asymmetry as a function of the Log value is displayed. These are the
data passed to the BaselineModelling step.</p>
</dd>
</dl>
</section>
</section>
<section id="baseline-modelling">
<h3><a class="toc-backref" href="#id10" role="doc-backlink">Baseline Modelling</a><a class="headerlink" href="#baseline-modelling" title="Permalink to this heading">¶</a></h3>
<p>In the Baseline Modelling step, the user can fit a baseline by selecting which
sections of the data should be used in the fit, and what the baseline fit
function should be. To select a baseline function, right-click on the <strong>Function</strong>
region, then <strong>Add function</strong> and choose among the different possibilities. Then
pick the desired fitting sections by right-clicking in the <strong>Sections</strong> area as
many times as sections to use. Sections are also displayed on the <strong>Baseline model</strong>
graph and can be easily modified by clicking and dragging the corresponding
vertical lines.</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/ALCBaselineModelling.png"><img alt="../../_images/ALCBaselineModelling.png" src="../../_images/ALCBaselineModelling.png" style="width: 800px;" /></a>
</figure>
<section id="id1">
<h4><a class="toc-backref" href="#id11" role="doc-backlink">Options</a><a class="headerlink" href="#id1" title="Permalink to this heading">¶</a></h4>
<dl class="simple">
<dt>Function</dt><dd><p>Right-click on the blank area to add a baseline function.</p>
</dd>
<dt>Sections</dt><dd><p>Right-click on the blank area to add as many sections as needed to
select the different ranges to fit. Each section is coloured differently and
can be modified by dragging the vertical lines.</p>
</dd>
</dl>
<dl class="simple">
<dt>?</dt><dd><p>Shows this help page.</p>
</dd>
<dt>Fit</dt><dd><p>Fits the data.</p>
</dd>
<dt>Baseline model</dt><dd><p>Graph where the original data and the model are displayed, together with
the fitting ranges.</p>
</dd>
<dt>Corrected data</dt><dd><p>Graph where the corrected data, i.e., the original data with the baseline
subtracted, are displayed. These are the data passed to the PeakFitting
step.</p>
</dd>
</dl>
</section>
</section>
<section id="peak-fitting">
<span id="alcpeakfitting"></span><h3><a class="toc-backref" href="#id12" role="doc-backlink">Peak Fitting</a><a class="headerlink" href="#peak-fitting" title="Permalink to this heading">¶</a></h3>
<p>In the Peak Fitting step, the data with the baseline subtracted are shown in
the right panel. The user can study the peaks of interest all with the same simple
interface. To add a new peak, right-click on the <strong>Peaks</strong> region, then select
<strong>Add function</strong> and choose among the different possibilities in the category Peak.
Add as many peaks as needed. To activate the peak picker tool, click on one of
the functions in the browser and then left-click on the graph near the peak’s
center while holding the Shift key. This will move the picker tool associated
with the highlighted function to the desired location. To set the peak width,
click and drag while holding Crtl. You can then tune the height by clicking on
the appropriate point in the graph while holding Shift. Repeat the same steps
with the rest of the functions in the browser and hit <strong>Fit</strong> to fit the peaks.</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/ALCPeakFitting.png"><img alt="../../_images/ALCPeakFitting.png" src="../../_images/ALCPeakFitting.png" style="width: 800px;" /></a>
</figure>
<section id="id2">
<h4><a class="toc-backref" href="#id13" role="doc-backlink">Options</a><a class="headerlink" href="#id2" title="Permalink to this heading">¶</a></h4>
<dl class="simple">
<dt>Peaks</dt><dd><p>Right-click on the blank area to add as many peak functions as needed.</p>
</dd>
</dl>
<dl class="simple">
<dt>?</dt><dd><p>Shows this help page.</p>
</dd>
<dt>Fit</dt><dd><p>Fits the data.</p>
</dd>
<dt>Peak graph</dt><dd><p>Graph where the corrected data and the fitted peaks are displayed.</p>
</dd>
</dl>
</section>
</section>
</section>
<section id="run-the-alc-interface">
<h2><a class="toc-backref" href="#id14" role="doc-backlink">Run the ALC interface</a><a class="headerlink" href="#run-the-alc-interface" title="Permalink to this heading">¶</a></h2>
<p>The interface is available from the Interfaces menu: Interfaces -&gt; Muon -&gt; ALC.</p>
<p><strong>Categories</strong>: <a class="reference external" href="../ILL/categories/Interfaces.html">Interfaces</a> | <a class="reference external" href="../../algorithms/categories/Muon.html">Muon</a></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="Frequency%20Domain%20Analysis.html" title="Previous Chapter: Frequency Domain Analysis"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Frequency Dom...</span>
    </a>
  </li>
  <li>
    <a href="Muon%20Analysis%202.html" title="Next Chapter: Muon Analysis"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Muon Analysis &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>