<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>DGS Planner</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="MSlice" href="MSlice.html" />
    <link rel="prev" title="Crystal Field Python Interface" href="Crystal%20Field%20Python%20Interface.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.8</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://www.mantidproject.org">Home</a></li>
                <li><a href="https://download.mantidproject.org">Download</a></li>
                <li><a href="https://docs.mantidproject.org">Documentation</a></li>
                <li><a href="https://www.mantidproject.org/contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="../index.html" accesskey="U">Interfaces</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">DGS Planner</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="dgs-planner">
<span id="dgsplanner-ref"></span><h1>DGS Planner<a class="headerlink" href="#dgs-planner" title="Permalink to this heading">¶</a></h1>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#overview" id="id1">Overview</a></p></li>
<li><p><a class="reference internal" href="#instrument-options" id="id2">Instrument options</a></p></li>
<li><p><a class="reference internal" href="#sample-settings" id="id3">Sample settings</a></p></li>
<li><p><a class="reference internal" href="#viewing-axes" id="id4">Viewing axes</a></p></li>
<li><p><a class="reference internal" href="#plotting" id="id5">Plotting</a></p></li>
</ul>
</nav>
<figure class="align-right">
<a class="reference internal image-reference" href="../../_images/DGSPlanner.png"><img alt="DGSPlanner.png" src="../../_images/DGSPlanner.png" style="width: 734px;" /></a>
</figure>
<section id="overview">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">Overview</a><a class="headerlink" href="#overview" title="Permalink to this heading">¶</a></h2>
<p>DGSPlanner is an interface for plotting expected coverage
for direct geometry time-of-flight instruments. It is based on the
<a class="reference internal" href="../../algorithms/CalculateCoverageDGS-v1.html#algm-calculatecoveragedgs"><span class="std std-ref">CalculateCoverageDGS</span></a> algorithm.</p>
</section>
<section id="instrument-options">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Instrument options</a><a class="headerlink" href="#instrument-options" title="Permalink to this heading">¶</a></h2>
<p>One can select an <strong>Instrument</strong> from the list. Please contact
the Mantid developer team to add more options. The latest instrument
geometry is loaded from the instrument definition file. In the case
of HYSPEC, a value for the <strong>S2</strong> angle is required. The monochromator to sample distance is
chosen to be msd=1798.5.
The <strong>Incident Energy</strong> is in mili-electron-Volts. The <strong>Fast</strong> option will use only 25% of the detectors
to calculate the coverage.
One can use a previously saved Mantid workspace containing a mask, the <strong>Mask file</strong> option,
to eliminate from the coverage calculations detectors that are masked in the experiment.</p>
<p>For the constant wavelength instrument WAND² there are options for
<strong>S2</strong> and <strong>DetZ</strong> values to move the detector, the incident energy
is changed to wavelength and the <strong>DeltaE</strong> is fixed to ±1%.</p>
<p>The <strong>Goniometer</strong> settings follow the Mantid convention (see <a class="reference internal" href="../../algorithms/SetGoniometer-v1.html#algm-setgoniometer"><span class="std std-ref">SetGoniometer</span></a>.
The default values follow the goniometer description in <a class="reference external" href="http://horace.isis.rl.ac.uk/Generating_SQW_files">Horace</a>.
The name of the axis is just used for plotting. z direction (0,0,1) is along the beam, y direction (0,1,0)
is pointing vertically upward, and the x direction (1,0,0) is in the horizontal plane, perpendicular to z.
The <strong>Sense</strong> is either 1 for counterclockwise rotations, or -1 for clockwise rotation.
The minimum, maximum, and step values for each goniometer axis describe all sample positions for which the
trajectories calculation are made. If more than 10 orientations are selected, the user will be promted
to proceed, since this might take longer.</p>
</section>
<section id="sample-settings">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Sample settings</a><a class="headerlink" href="#sample-settings" title="Permalink to this heading">¶</a></h2>
<p>Information about the sample can be introduced either in terms of <strong>Lattice parameters</strong> and orientation vectors,
or the <strong>UB matrix</strong>. One can also load an ISAW UB matrix or load the UB matrix from the Nexus metadata. For
more information, look at <a class="reference internal" href="../../algorithms/SetUB-v1.html#algm-setub"><span class="std std-ref">SetUB</span></a></p>
</section>
<section id="viewing-axes">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Viewing axes</a><a class="headerlink" href="#viewing-axes" title="Permalink to this heading">¶</a></h2>
<p>The default projection axes are [H,0,0], [0,K,0], [0,0,L], and DeltaE. One can modify
the momentum transfer components by changing the <strong>Projection Basis</strong>. Modifying these values
will automatically change the viewing axes labels on the left.
For example, if Projection u is 1,1,1, the first label on the left
side is going to be [H,H,H].</p>
<p>The first viewing axis is going to be the x axis of the plot, the second is the y axis.
One can choose an integration range in the other two directions. When swapping viewing axes, the
program remembers settings for minimum, maximum, and step.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the angle between the x and y viewing axes is not 90 degrees, the plot will have non-orthogonal axes</p>
</div>
</section>
<section id="plotting">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Plotting</a><a class="headerlink" href="#plotting" title="Permalink to this heading">¶</a></h2>
<p>Clicking on the <strong>Plot</strong> button will generate a plot of the coverage for the selected instrument, for all the
goniometer settings. One can <strong>Overplot</strong> a different configuration (goniometer setting, incident energy, or
instrument). If the lattice parameters are different, or the projection basis / viewing axes have changed, the
<strong>Overplot</strong> will just automatically revert to <strong>Plot</strong>. If <strong>Color by angle</strong> option is selected,
each goniometer setting will have a different color. The blue indicates lower first angle.</p>
<p>In some case, for example when sample has a hexagonal lattice, one might wish to use the <strong>Aspect ratio 1:1</strong> option,
which would force the x and y to have the same lengths. Please do not use it if one of the axis is DeltaE, since this
can yield very elongated figures.</p>
<p>The <strong>?</strong> button will show this help page.</p>
<p>The <strong>Save Figure</strong> button will save the image on the right, and information about the instrument, goniometer, sample,
and integration limits into a png file.</p>
<p><strong>Category</strong>: <a class="reference external" href="../ILL/categories/Interfaces.html">Interfaces</a></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="Crystal%20Field%20Python%20Interface.html" title="Previous Chapter: Crystal Field Python Interface"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Crystal Field...</span>
    </a>
  </li>
  <li>
    <a href="MSlice.html" title="Next Chapter: MSlice"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">MSlice &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>