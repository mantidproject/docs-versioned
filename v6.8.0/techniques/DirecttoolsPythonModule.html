<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>directtools</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="ISIS Powder Diffraction Scripts - GEM Reference" href="ISISPowder-GEM-v1.html" />
    <link rel="prev" title="Data reduction for ILL’s direct geometry instruments" href="DirectILL.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.8</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://www.mantidproject.org">Home</a></li>
                <li><a href="https://download.mantidproject.org">Download</a></li>
                <li><a href="https://docs.mantidproject.org">Documentation</a></li>
                <li><a href="https://www.mantidproject.org/contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Techniques</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href=""><code class="xref py py-mod docutils literal notranslate"><span class="pre">directtools</span></code></a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="directtools">
<span id="directtools-python-module"></span><h1><a class="reference internal" href="#module-directtools" title="directtools"><code class="xref py py-mod docutils literal notranslate"><span class="pre">directtools</span></code></a><a class="headerlink" href="#directtools" title="Permalink to this heading">¶</a></h1>
<p><a class="reference internal" href="#module-directtools" title="directtools"><code class="xref py py-mod docutils literal notranslate"><span class="pre">directtools</span></code></a> is a Python module for quickly plotting standardized <span class="math notranslate nohighlight">\(S(Q,E)\)</span> color fill plots as well as line profiles (cuts) in constant <span class="math notranslate nohighlight">\(Q\)</span> and <span class="math notranslate nohighlight">\(E\)</span>. The module also provides a few utility functions for inspecting and manipulating the <span class="math notranslate nohighlight">\(S(Q,E)\)</span> workspace.</p>
<p>For a general introduction on using <a class="reference external" href="https://matplotlib.org/stable/index.html#module-matplotlib" title="(in Matplotlib v3.8.0)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">matplotlib</span></code></a> with Mantid, see <a class="reference internal" href="../plotting/index.html#plotting"><span class="std std-ref">this introduction</span></a></p>
<p>The input workspaces are expected to have some specific sample logs, namely <code class="docutils literal notranslate"><span class="pre">instrument.name</span></code>, <code class="docutils literal notranslate"><span class="pre">Ei</span></code>, <code class="docutils literal notranslate"><span class="pre">run_number</span></code>, <code class="docutils literal notranslate"><span class="pre">start_time</span></code>, <code class="docutils literal notranslate"><span class="pre">sample.temperature</span></code>.</p>
<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this heading">¶</a></h2>
<p>Examples of some key functionality of <a class="reference internal" href="#module-directtools" title="directtools"><code class="xref py py-mod docutils literal notranslate"><span class="pre">directtools</span></code></a> is presented below. For a full reference of all available function and classes, see the <a class="reference internal" href="#reference">Reference</a> section below.</p>
<section id="plotsofqw">
<h3><cite>plotSofQW</cite><a class="headerlink" href="#plotsofqw" title="Permalink to this heading">¶</a></h3>
<p>The default parameters for <a class="reference internal" href="#directtools.plotSofQW" title="directtools.plotSofQW"><code class="xref py py-func docutils literal notranslate"><span class="pre">directtools.plotSofQW()</span></code></a> give a view of the <span class="math notranslate nohighlight">\(S(Q,E)\)</span> workspace around the elastic peak with sensible limits for the axes and intensity:</p>
<figure class="align-default" id="id1">
<a class="screenshot reference internal image-reference" href="../_images/ImageNotFound.png"><img alt="../_images/ImageNotFound.png" class="screenshot" src="../_images/ImageNotFound.png" style="width: 200px;" /></a>
<figcaption>
<p><span class="caption-text">Enable :plots: using DOCS_PLOTDIRECTIVE in CMake</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>The <span class="math notranslate nohighlight">\(Q\)</span>, <span class="math notranslate nohighlight">\(E\)</span> and intensity limits can be changed using the optional parameters. The utility functions <a class="reference internal" href="#directtools.validQ" title="directtools.validQ"><code class="xref py py-func docutils literal notranslate"><span class="pre">directtools.validQ()</span></code></a> and <a class="reference internal" href="#directtools.nanminmax" title="directtools.nanminmax"><code class="xref py py-func docutils literal notranslate"><span class="pre">directtools.nanminmax()</span></code></a> might be helpful when determining suitable ranges:</p>
<figure class="align-default" id="id2">
<a class="screenshot reference internal image-reference" href="../_images/ImageNotFound.png"><img alt="../_images/ImageNotFound.png" class="screenshot" src="../_images/ImageNotFound.png" style="width: 200px;" /></a>
<figcaption>
<p><span class="caption-text">Enable :plots: using DOCS_PLOTDIRECTIVE in CMake</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="cuts-in-s-q-e">
<h3>Cuts in <span class="math notranslate nohighlight">\(S(Q,E)\)</span><a class="headerlink" href="#cuts-in-s-q-e" title="Permalink to this heading">¶</a></h3>
<p>An important aspect of examining the <span class="math notranslate nohighlight">\(S(Q,E)\)</span> workspace is to plot cuts at constant <span class="math notranslate nohighlight">\(Q\)</span> and <span class="math notranslate nohighlight">\(E\)</span>. This can be done by <a class="reference internal" href="#directtools.plotconstQ" title="directtools.plotconstQ"><code class="xref py py-func docutils literal notranslate"><span class="pre">directtools.plotconstQ()</span></code></a> and <a class="reference internal" href="#directtools.plotconstE" title="directtools.plotconstE"><code class="xref py py-func docutils literal notranslate"><span class="pre">directtools.plotconstE()</span></code></a>:</p>
<figure class="align-default" id="id3">
<a class="screenshot reference internal image-reference" href="../_images/ImageNotFound.png"><img alt="../_images/ImageNotFound.png" class="screenshot" src="../_images/ImageNotFound.png" style="width: 200px;" /></a>
<figcaption>
<p><span class="caption-text">Enable :plots: using DOCS_PLOTDIRECTIVE in CMake</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>Any of the workspace, cut centre or cut width arguments can be a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> instead. This enables data comparison:</p>
<figure class="align-default" id="id4">
<a class="screenshot reference internal image-reference" href="../_images/ImageNotFound.png"><img alt="../_images/ImageNotFound.png" class="screenshot" src="../_images/ImageNotFound.png" style="width: 200px;" /></a>
<figcaption>
<p><span class="caption-text">Enable :plots: using DOCS_PLOTDIRECTIVE in CMake</span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>The <a class="reference internal" href="#directtools.plotconstQ" title="directtools.plotconstQ"><code class="xref py py-func docutils literal notranslate"><span class="pre">directtools.plotconstQ()</span></code></a> and <a class="reference internal" href="#directtools.plotconstE" title="directtools.plotconstE"><code class="xref py py-func docutils literal notranslate"><span class="pre">directtools.plotconstE()</span></code></a> functions use <a class="reference internal" href="#directtools.plotcuts" title="directtools.plotcuts"><code class="xref py py-func docutils literal notranslate"><span class="pre">directtools.plotcuts()</span></code></a> to do the actual line profiles and plotting. The profiles are made by the <a class="reference internal" href="../algorithms/LineProfile-v1.html#algm-lineprofile"><span class="std std-ref">LineProfile v1</span></a> algorithm, and all three plotting functions return a list of the produced line profile workspace names.</p>
<p>If a line profile already exists, it can be plotted using <a class="reference internal" href="#directtools.plotprofiles" title="directtools.plotprofiles"><code class="xref py py-func docutils literal notranslate"><span class="pre">directtools.plotprofiles()</span></code></a>. This also accepts either a single line profile workspace or a list of workspaces enabling comparison:</p>
<figure class="align-default" id="id5">
<a class="screenshot reference internal image-reference" href="../_images/ImageNotFound.png"><img alt="../_images/ImageNotFound.png" class="screenshot" src="../_images/ImageNotFound.png" style="width: 200px;" /></a>
<figcaption>
<p><span class="caption-text">Enable :plots: using DOCS_PLOTDIRECTIVE in CMake</span><a class="headerlink" href="#id5" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="plotting-density-of-states">
<h3>Plotting density of states<a class="headerlink" href="#plotting-density-of-states" title="Permalink to this heading">¶</a></h3>
<p>The density of states data calculated by <a class="reference internal" href="../algorithms/ComputeIncoherentDOS-v1.html#algm-computeincoherentdos"><span class="std std-ref">ComputeIncoherentDOS</span></a> can be plotted by the <a class="reference internal" href="#directtools.plotDOS" title="directtools.plotDOS"><code class="xref py py-func docutils literal notranslate"><span class="pre">directtools.plotDOS()</span></code></a> function. The function accepts a single workspace or a list of workspaces as its arguments. The example below shows a comparison of densities of states calculated from <span class="math notranslate nohighlight">\(S(Q,E)\)</span> and <span class="math notranslate nohighlight">\(S(2\theta,E)\)</span>:</p>
<figure class="align-default" id="id6">
<a class="screenshot reference internal image-reference" href="../_images/ImageNotFound.png"><img alt="../_images/ImageNotFound.png" class="screenshot" src="../_images/ImageNotFound.png" style="width: 200px;" /></a>
<figcaption>
<p><span class="caption-text">Enable :plots: using DOCS_PLOTDIRECTIVE in CMake</span><a class="headerlink" href="#id6" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="convenience-tools">
<h3>Convenience tools<a class="headerlink" href="#convenience-tools" title="Permalink to this heading">¶</a></h3>
<p><a class="reference internal" href="#directtools.SampleLogs" title="directtools.SampleLogs"><code class="xref py py-class docutils literal notranslate"><span class="pre">directtools.SampleLogs</span></code></a> is a convenience class to import the sample logs of a workspace into a ‘struct’ like object in Python:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">directtools</span> <span class="k">as</span> <span class="nn">dt</span>
<span class="kn">from</span> <span class="nn">mantid.simpleapi</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">DirectILLCollectData</span><span class="p">(</span><span class="n">Run</span><span class="o">=</span><span class="s1">&#39;ILL/IN4/084447.nxs&#39;</span><span class="p">,</span> <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;data&#39;</span><span class="p">)</span>
<span class="n">DirectILLReduction</span><span class="p">(</span><span class="n">InputWorkspace</span><span class="o">=</span><span class="s1">&#39;data&#39;</span><span class="p">,</span> <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;SofQW&#39;</span><span class="p">)</span>

<span class="c1"># Works on any workspace, not just S(Q,E).</span>
<span class="n">logs</span> <span class="o">=</span> <span class="n">dt</span><span class="o">.</span><span class="n">SampleLogs</span><span class="p">(</span><span class="s1">&#39;SofQW&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">logs</span><span class="o">.</span><span class="n">instrument</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">logs</span><span class="o">.</span><span class="n">run_number</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>IN4
84447
</pre></div>
</div>
</section>
</section>
<section id="reference">
<h2>Reference<a class="headerlink" href="#reference" title="Permalink to this heading">¶</a></h2>
<section id="classes">
<h3>Classes<a class="headerlink" href="#classes" title="Permalink to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="directtools.SampleLogs">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">directtools.</span></span><span class="sig-name descname"><span class="pre">SampleLogs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">workspace</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#directtools.SampleLogs" title="Permalink to this definition">¶</a></dt>
<dd><p>A convenience class to access the sample logs of <a class="reference internal" href="../api/python/mantid/api/MatrixWorkspace.html#mantid.api.MatrixWorkspace" title="mantid.api.MatrixWorkspace"><code class="xref py py-class docutils literal notranslate"><span class="pre">mantid.api.MatrixWorkspace</span></code></a>.</p>
<p>Upon initialization, this class adds the sample logs as data attributes to itself. The
attributes get their names from the logs. Log names containing dots result in nested
log objects. Thus, if a workspace contains logs <code class="docutils literal notranslate"><span class="pre">'a'</span></code> and <code class="docutils literal notranslate"><span class="pre">'b.c'</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">logs</span> <span class="o">=</span> <span class="n">SampleLogs</span><span class="p">(</span><span class="n">workspace</span><span class="p">)</span>
<span class="c1"># This is equivalent of calling workspace.run().getProperty(&#39;a&#39;).value</span>
<span class="n">logs</span><span class="o">.</span><span class="n">a</span>
<span class="c1"># This is equivalent of calling workspace.run().getProperty(&#39;b.c&#39;).value</span>
<span class="n">logs</span><span class="o">.</span><span class="n">b</span><span class="o">.</span><span class="n">c</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="directtools.SampleLogs.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">workspace</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#directtools.SampleLogs.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize a <cite>SampleLogs</cite> object.
Transform sample log entries from workspace into attributes of this object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>workspace</strong> (<a class="reference internal" href="../api/python/mantid/api/MatrixWorkspace.html#mantid.api.MatrixWorkspace" title="mantid.api.MatrixWorkspace"><code class="xref py py-class docutils literal notranslate"><span class="pre">mantid.api.MatrixWorkspace</span></code></a>) – the workspace from which to extract the sample logs</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-directtools">
<span id="functions"></span><h3>Functions<a class="headerlink" href="#module-directtools" title="Permalink to this heading">¶</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="directtools.box2D">
<span class="sig-prename descclassname"><span class="pre">directtools.</span></span><span class="sig-name descname"><span class="pre">box2D</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vertAxis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">horMin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">horMax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vertMin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vertMax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">inf</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#directtools.box2D" title="Permalink to this definition">¶</a></dt>
<dd><p>Return slicing for a 2D numpy array limited by given min and max values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xs</strong> (a 2D <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.26)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>) – the 2D X data of a workspace from <a class="reference internal" href="../api/python/mantid/api/MatrixWorkspace.html#mantid.api.MatrixWorkspace.extractX" title="mantid.api.MatrixWorkspace.extractX"><code class="xref py py-func docutils literal notranslate"><span class="pre">mantid.api.MatrixWorkspace.extractX()</span></code></a></p></li>
<li><p><strong>vertAxis</strong> (a 1D <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.26)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>) – the vertical axis values of a workspace</p></li>
<li><p><strong>horMin</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a>) – the left edge of the box</p></li>
<li><p><strong>horMax</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a>) – the right edge of the box</p></li>
<li><p><strong>vertMin</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a>) – the bottom edge of the box</p></li>
<li><p><strong>vertMax</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a>) – the top edge of the box</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a tuple of two <a class="reference external" href="https://docs.python.org/3/library/functions.html#slice" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">slice</span></code></a> objects, the first one for vertical dimension, the second for horizontal.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="directtools.defaultrcparams">
<span class="sig-prename descclassname"><span class="pre">directtools.</span></span><span class="sig-name descname"><span class="pre">defaultrcparams</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#directtools.defaultrcparams" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a dictionary of directtools default matplotlib rc parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> of default <a class="reference external" href="https://matplotlib.org/stable/index.html#module-matplotlib" title="(in Matplotlib v3.8.0)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">matplotlib</span></code></a> rc parameters needed by <a class="reference internal" href="#module-directtools" title="directtools"><code class="xref py py-mod docutils literal notranslate"><span class="pre">directtools</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="directtools.dynamicsusceptibility">
<span class="sig-prename descclassname"><span class="pre">directtools.</span></span><span class="sig-name descname"><span class="pre">dynamicsusceptibility</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">workspace</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temperature</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputName</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zeroEnergyEpsilon</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-06</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#directtools.dynamicsusceptibility" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert <span class="math notranslate nohighlight">\(S(Q,E)\)</span> to susceptibility <span class="math notranslate nohighlight">\(\chi''(Q,E)\)</span>.</p>
<ol class="arabic simple">
<li><p>If the X units are not in DeltaE, the workspace is transposed</p></li>
<li><p>The Y data in <em>workspace</em> is multiplied by <span class="math notranslate nohighlight">\(1 - e^{\Delta E / (kT)}\)</span></p></li>
<li><p>Y data in the bin closest to 0 meV and within -<em>zeroEnergyEpsilon</em> &lt; <span class="math notranslate nohighlight">\(\Delta E\)</span> &lt; <em>zeroEnergyEpsilon</em> is set to 0</p></li>
<li><p>If the input was transposed, transpose the output as well</p></li>
</ol>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>workspace</strong> (<a class="reference internal" href="../api/python/mantid/api/MatrixWorkspace.html#mantid.api.MatrixWorkspace" title="mantid.api.MatrixWorkspace"><code class="xref py py-class docutils literal notranslate"><span class="pre">mantid.api.MatrixWorkspace</span></code></a>) – a <span class="math notranslate nohighlight">\(S(Q,E)\)</span> workspace to convert</p></li>
<li><p><strong>temperature</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a>) – temperature in Kelvin</p></li>
<li><p><strong>outputName</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em> or </em><em>None</em>) – name of the output workspace. If <code class="xref py py-class docutils literal notranslate"><span class="pre">None</span></code>, the output will be given some generated name.</p></li>
<li><p><strong>zeroEnergyEpsilon</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a>) – if a bin center is within this value from 0, the bin’s value is set to zero.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a <a class="reference internal" href="../api/python/mantid/api/MatrixWorkspace.html#mantid.api.MatrixWorkspace" title="mantid.api.MatrixWorkspace"><code class="xref py py-class docutils literal notranslate"><span class="pre">mantid.api.MatrixWorkspace</span></code></a> containing <span class="math notranslate nohighlight">\(\chi''(Q,E)\)</span></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="directtools.nanminmax">
<span class="sig-prename descclassname"><span class="pre">directtools.</span></span><span class="sig-name descname"><span class="pre">nanminmax</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">workspace</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">horMin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">horMax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vertMin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vertMax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">inf</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#directtools.nanminmax" title="Permalink to this definition">¶</a></dt>
<dd><p>Return min and max intensities of a workspace ignoring NaNs.</p>
<p>The search region can be limited by <em>horMin</em>, <em>horMax</em>, <em>vertMin</em> and <em>vertMax</em>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>workspace</strong> (<a class="reference internal" href="../api/python/mantid/api/MatrixWorkspace.html#mantid.api.MatrixWorkspace" title="mantid.api.MatrixWorkspace"><code class="xref py py-class docutils literal notranslate"><span class="pre">mantid.api.MatrixWorkspace</span></code></a>) – a workspace</p></li>
<li><p><strong>horMin</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a>) – the left edge of the search region</p></li>
<li><p><strong>horMax</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a>) – the right edge of the search region</p></li>
<li><p><strong>vertMin</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a>) – the bottom edge of the search region</p></li>
<li><p><strong>vertMax</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a>) – the top edge of the search region</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a tuple containing the minimum and maximum</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="directtools.plotDOS">
<span class="sig-prename descclassname"><span class="pre">directtools.</span></span><span class="sig-name descname"><span class="pre">plotDOS</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">workspaces</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">style</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'l'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xscale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'linear'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yscale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'linear'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#directtools.plotDOS" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot density of state workspaces.</p>
<p>Plots the given DOS workspaces.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>workspaces</strong> (str, <a class="reference internal" href="../api/python/mantid/api/MatrixWorkspace.html#mantid.api.MatrixWorkspace" title="mantid.api.MatrixWorkspace"><code class="xref py py-class docutils literal notranslate"><span class="pre">mantid.api.MatrixWorkspace</span></code></a> or a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> thereof) – a single workspace or a list thereof</p></li>
<li><p><strong>labels</strong> (str, a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> of strings or None) – a list of labels for the plot legend</p></li>
<li><p><strong>style</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – plot style: ‘l’ for lines, ‘m’ for markers, ‘lm’ for both</p></li>
<li><p><strong>xscale</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – horizontal axis scaling: ‘linear’, ‘log’, ‘symlog’, ‘logit’</p></li>
<li><p><strong>yscale</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – vertical axis scaling: ‘linear’, ‘log’, ‘symlog’, ‘logit’</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a tuple of (<code class="xref py py-mod docutils literal notranslate"><span class="pre">matplotlib.Figure</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">matplotlib.Axes</span></code>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="directtools.plotSofQW">
<span class="sig-prename descclassname"><span class="pre">directtools.</span></span><span class="sig-name descname"><span class="pre">plotSofQW</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">workspace</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">QMin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">QMax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">EMin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">EMax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">VMin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">VMax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colormap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'jet'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colorscale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'linear'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#directtools.plotSofQW" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot a 2D <span class="math notranslate nohighlight">\(S(Q,E)\)</span> workspace.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>workspace</strong> (str or <a class="reference internal" href="../api/python/mantid/api/MatrixWorkspace.html#mantid.api.MatrixWorkspace" title="mantid.api.MatrixWorkspace"><code class="xref py py-class docutils literal notranslate"><span class="pre">mantid.api.MatrixWorkspace</span></code></a>) – a workspace to plot</p></li>
<li><p><strong>QMin</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em> or </em><em>None</em>) – minimum <span class="math notranslate nohighlight">\(Q\)</span> to include in the plot</p></li>
<li><p><strong>QMax</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em> or </em><em>None</em>) – maximum <span class="math notranslate nohighlight">\(Q\)</span> to include in the plot</p></li>
<li><p><strong>EMin</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em> or </em><em>None</em>) – minimum energy transfer to include in the plot</p></li>
<li><p><strong>EMax</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em> or </em><em>None</em>) – maximum energy transfer to include in the plot</p></li>
<li><p><strong>VMin</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em> or </em><em>None</em>) – minimum intensity to show on the color bar</p></li>
<li><p><strong>VMax</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em> or </em><em>None</em>) – maximum intensity to show on the color bar</p></li>
<li><p><strong>colormap</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – name of the colormap</p></li>
<li><p><strong>colorscale</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – color map scaling: ‘linear’, ‘log’</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a tuple of (<code class="xref py py-mod docutils literal notranslate"><span class="pre">matplotlib.Figure</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">matplotlib.Axes</span></code>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="directtools.plotconstE">
<span class="sig-prename descclassname"><span class="pre">directtools.</span></span><span class="sig-name descname"><span class="pre">plotconstE</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">workspaces</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">E</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dE</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">style</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'l'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keepCutWorkspaces</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xscale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'linear'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yscale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'linear'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#directtools.plotconstE" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot line profiles at constant energy transfer from <span class="math notranslate nohighlight">\(S(Q,E)\)</span> workspace.</p>
<p>Creates cut workspaces using <a class="reference internal" href="../algorithms/LineProfile-v1.html#algm-lineprofile"><span class="std std-ref">LineProfile v1</span></a>, then plots the cuts. A list of workspaces,
constant energy transfers, or cut widths, or any combination thereof can be given as parameters.</p>
<p>The last entry in the returned tuple is a list of cut workspace names. This will be an empty list
is <em>keeCutWorkspaces</em> is set to <cite>False</cite> as the workspaces will not appear in the ADS.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>workspaces</strong> (str, <a class="reference internal" href="../api/python/mantid/api/MatrixWorkspace.html#mantid.api.MatrixWorkspace" title="mantid.api.MatrixWorkspace"><code class="xref py py-class docutils literal notranslate"><span class="pre">mantid.api.MatrixWorkspace</span></code></a> or a list thereof) – a single <span class="math notranslate nohighlight">\(S(Q,E)\)</span> workspace or list of workspaces to cut</p></li>
<li><p><strong>E</strong> (float or <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> of floats) – a constant energy transfer or a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> thereof</p></li>
<li><p><strong>dE</strong> (float or <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> of floats) – width of the cut or a list of widths</p></li>
<li><p><strong>style</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – plot style: ‘l’ for lines, ‘m’ for markers, ‘lm’ for both</p></li>
<li><p><strong>keepCutWorkspaces</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><em>bool</em></a>) – whether or not keep the cut workspaces in the ADS</p></li>
<li><p><strong>xscale</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – horizontal axis scaling: ‘linear’, ‘log’, ‘symlog’, ‘logit’</p></li>
<li><p><strong>yscale</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – vertical axis scaling: ‘linear’, ‘log’, ‘symlog’, ‘logit’</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple of (<code class="xref py py-class docutils literal notranslate"><span class="pre">matplotlib.Figure</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">matplotlib.Axes</span></code>, a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> of names)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="directtools.plotconstQ">
<span class="sig-prename descclassname"><span class="pre">directtools.</span></span><span class="sig-name descname"><span class="pre">plotconstQ</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">workspaces</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dQ</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">style</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'l'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keepCutWorkspaces</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xscale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'linear'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yscale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'linear'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#directtools.plotconstQ" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot line profiles at constant momentum transfer from <span class="math notranslate nohighlight">\(S(Q,E)\)</span> workspace.</p>
<p>Creates cut workspaces using <a class="reference internal" href="../algorithms/LineProfile-v1.html#algm-lineprofile"><span class="std std-ref">LineProfile v1</span></a>, then plots the cuts. A list of workspaces,
constant momentum transfers, or cut widths, or any combination thereof can be given as parameters.</p>
<p>The last entry in the returned tuple is a list of cut workspace names. This will be an empty list
is <em>keeCutWorkspaces</em> is set to <cite>False</cite> as the workspaces will not appear in the ADS.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>workspaces</strong> (str, <a class="reference internal" href="../api/python/mantid/api/MatrixWorkspace.html#mantid.api.MatrixWorkspace" title="mantid.api.MatrixWorkspace"><code class="xref py py-class docutils literal notranslate"><span class="pre">mantid.api.MatrixWorkspace</span></code></a> or a list thereof) – a single <span class="math notranslate nohighlight">\(S(Q,E)\)</span> workspace or list of workspaces to cut</p></li>
<li><p><strong>Q</strong> (float or <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> of floats) – a constant momentum transfer or a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> thereof</p></li>
<li><p><strong>dQ</strong> (float or <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> of floats) – width of the cut or a list of widths</p></li>
<li><p><strong>style</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – plot style: ‘l’ for lines, ‘m’ for markers, ‘lm’ for both</p></li>
<li><p><strong>keepCutWorkspaces</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><em>bool</em></a>) – whether or not keep the cut workspaces in the ADS</p></li>
<li><p><strong>xscale</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – horizontal axis scaling: ‘linear’, ‘log’, ‘symlog’, ‘logit’</p></li>
<li><p><strong>yscale</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – vertical axis scaling: ‘linear’, ‘log’, ‘symlog’, ‘logit’</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple of (<code class="xref py py-class docutils literal notranslate"><span class="pre">matplotlib.Figure</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">matplotlib.Axes</span></code>, a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> of names)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="directtools.plotcuts">
<span class="sig-prename descclassname"><span class="pre">directtools.</span></span><span class="sig-name descname"><span class="pre">plotcuts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">direction</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">workspaces</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cuts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">widths</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quantity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">style</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'l'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keepCutWorkspaces</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xscale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'linear'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yscale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'linear'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#directtools.plotcuts" title="Permalink to this definition">¶</a></dt>
<dd><p>Cut and plot multiple line profiles.</p>
<p>Creates cut workspaces using <a class="reference internal" href="../algorithms/LineProfile-v1.html#algm-lineprofile"><span class="std std-ref">LineProfile v1</span></a>, then plots the cuts. A list of workspaces,
cut centres, or cut widths, or any combination thereof can be given as parameters.</p>
<p>The last entry in the returned tuple is a list of cut workspace names. This will be an empty list
is <em>keeCutWorkspaces</em> is set to <cite>False</cite> as the workspaces will not appear in the ADS.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>direction</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – Cut direction. Only <code class="docutils literal notranslate"><span class="pre">'Horizontal'</span></code> and <code class="docutils literal notranslate"><span class="pre">'Vertical'</span></code> are accepted</p></li>
<li><p><strong>workspaces</strong> (str, <a class="reference internal" href="../api/python/mantid/api/MatrixWorkspace.html#mantid.api.MatrixWorkspace" title="mantid.api.MatrixWorkspace"><code class="xref py py-class docutils literal notranslate"><span class="pre">mantid.api.MatrixWorkspace</span></code></a> or a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> thereof) – a single workspace or a list thereof</p></li>
<li><p><strong>cuts</strong> (float or a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> thereof) – the center of the cut or a list of centers</p></li>
<li><p><strong>widths</strong> (float or a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> thereof) – the width of the cut or a list of widths</p></li>
<li><p><strong>quantity</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – name of the physical quantity along which the cut is made, used for legend label</p></li>
<li><p><strong>unit</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – unit of <em>quantity</em></p></li>
<li><p><strong>style</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – plot style: ‘l’ for lines, ‘m’ for markers, ‘lm’ for both</p></li>
<li><p><strong>keepCutWorkspaces</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><em>bool</em></a>) – whether or not keep the cut workspaces in the ADS</p></li>
<li><p><strong>xscale</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – horizontal axis scaling: ‘linear’, ‘log’, ‘symlog’, ‘logit’</p></li>
<li><p><strong>yscale</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – vertical axis scaling: ‘linear’, ‘log’, ‘symlog’, ‘logit’</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple of (<code class="xref py py-class docutils literal notranslate"><span class="pre">matplotlib.Figure</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">matplotlib.Axes</span></code>, a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> of names)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="directtools.plotprofiles">
<span class="sig-prename descclassname"><span class="pre">directtools.</span></span><span class="sig-name descname"><span class="pre">plotprofiles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">workspaces</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">style</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'l'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xscale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'linear'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yscale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'linear'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#directtools.plotprofiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot line profile workspaces.</p>
<p>Plots the given single histogram cut workspaces.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>workspaces</strong> (str, <a class="reference internal" href="../api/python/mantid/api/MatrixWorkspace.html#mantid.api.MatrixWorkspace" title="mantid.api.MatrixWorkspace"><code class="xref py py-class docutils literal notranslate"><span class="pre">mantid.api.MatrixWorkspace</span></code></a> or a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> thereof) – a single workspace or a list thereof</p></li>
<li><p><strong>labels</strong> (str, a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> of strings or None) – a list of cut labels for the plot legend</p></li>
<li><p><strong>style</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – plot style: ‘l’ for lines, ‘m’ for markers, ‘lm’ for both</p></li>
<li><p><strong>xscale</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – horizontal axis scaling: ‘linear’, ‘log’, ‘symlog’, ‘logit’</p></li>
<li><p><strong>yscale</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – vertical axis scaling: ‘linear’, ‘log’, ‘symlog’, ‘logit’</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a tuple of (<code class="xref py py-mod docutils literal notranslate"><span class="pre">matplotlib.Figure</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">matplotlib.Axes</span></code>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="directtools.subplots">
<span class="sig-prename descclassname"><span class="pre">directtools.</span></span><span class="sig-name descname"><span class="pre">subplots</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#directtools.subplots" title="Permalink to this definition">¶</a></dt>
<dd><p>Return matplotlib figure and axes with Mantid projection.</p>
<p>The returned figure and axes have the proper projection to plot Mantid workspaces directly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a>) – keyword arguments that are directly passed to <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.subplots.html#matplotlib.pyplot.subplots" title="(in Matplotlib v3.8.0)"><code class="xref py py-func docutils literal notranslate"><span class="pre">matplotlib.pyplot.subplots()</span></code></a>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a tuple of (<code class="xref py py-class docutils literal notranslate"><span class="pre">matplotlib.Figure</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">matplotlib.Axes</span></code>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="directtools.validQ">
<span class="sig-prename descclassname"><span class="pre">directtools.</span></span><span class="sig-name descname"><span class="pre">validQ</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">workspace</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">E</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#directtools.validQ" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a <span class="math notranslate nohighlight">\(Q\)</span> range at given energy transfer where <span class="math notranslate nohighlight">\(S(Q,E)\)</span> is defined.</p>
<p><span class="math notranslate nohighlight">\(S(Q,E)\)</span> is undefined when Y = NaN</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>workspace</strong> (str or <a class="reference internal" href="../api/python/mantid/api/MatrixWorkspace.html#mantid.api.MatrixWorkspace" title="mantid.api.MatrixWorkspace"><code class="xref py py-class docutils literal notranslate"><span class="pre">mantid.api.MatrixWorkspace</span></code></a>) – A <span class="math notranslate nohighlight">\(S(Q,E)\)</span> workspace to investigate</p></li>
<li><p><strong>E</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a>) – energy transfer at which to evaluate the range</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a tuple of (<span class="math notranslate nohighlight">\(Q_{min}\)</span>, <span class="math notranslate nohighlight">\(Q_{max}\)</span>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="directtools.wsreport">
<span class="sig-prename descclassname"><span class="pre">directtools.</span></span><span class="sig-name descname"><span class="pre">wsreport</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">workspace</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#directtools.wsreport" title="Permalink to this definition">¶</a></dt>
<dd><p>Print some useful information from sample logs.</p>
<p>The logs are expected to contain some ILL specific fields.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>workspace</strong> (str or <a class="reference internal" href="../api/python/mantid/api/MatrixWorkspace.html#mantid.api.MatrixWorkspace" title="mantid.api.MatrixWorkspace"><code class="xref py py-class docutils literal notranslate"><span class="pre">mantid.api.MatrixWorkspace</span></code></a>) – a workspace from which to extract the logs</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<p><strong>Category</strong>: <a class="reference external" href="categories/Techniques.html">Techniques</a></p>
</section>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="DirectILL.html" title="Previous Chapter: Data reduction for ILL’s direct geometry instruments"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Data reductio...</span>
    </a>
  </li>
  <li>
    <a href="ISISPowder-GEM-v1.html" title="Next Chapter: ISIS Powder Diffraction Scripts - GEM Reference"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">ISIS Powder D... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>