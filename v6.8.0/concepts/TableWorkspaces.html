<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Table Workspaces</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Units" href="UnitFactory.html" />
    <link rel="prev" title="Symmetry groups" href="SymmetryGroups.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.8</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://www.mantidproject.org">Home</a></li>
                <li><a href="https://download.mantidproject.org">Download</a></li>
                <li><a href="https://docs.mantidproject.org">Documentation</a></li>
                <li><a href="https://www.mantidproject.org/contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Concepts</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">Table Workspaces</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="table-workspaces">
<span id="id1"></span><h1>Table Workspaces<a class="headerlink" href="#table-workspaces" title="Permalink to this heading">¶</a></h1>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#overview" id="id2">Overview</a></p></li>
<li><p><a class="reference internal" href="#working-with-table-workspaces-in-python" id="id3">Working with Table Workspaces in Python</a></p>
<ul>
<li><p><a class="reference internal" href="#accessing-workspaces" id="id4">Accessing Workspaces</a></p></li>
<li><p><a class="reference internal" href="#creating-a-table-workspace-in-python" id="id5">Creating a Table Workspace in Python</a></p></li>
<li><p><a class="reference internal" href="#table-workspace-properties" id="id6">Table Workspace Properties</a></p></li>
<li><p><a class="reference internal" href="#converting-to-pandas-dataframes" id="id7">Converting To Pandas DataFrames</a></p></li>
<li><p><a class="reference internal" href="#pickling-workspaces" id="id8">Pickling Workspaces</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#working-with-table-workspaces-in-c" id="id9">Working with Table Workspaces in C++</a></p>
<ul>
<li><p><a class="reference internal" href="#table-rows" id="id10">Table rows</a></p></li>
<li><p><a class="reference internal" href="#defining-new-column-types" id="id11">Defining new column types</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#other-information-on-workspaces" id="id12">Other Information on Workspaces</a></p></li>
</ul>
</nav>
<section id="overview">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Overview</a><a class="headerlink" href="#overview" title="Permalink to this heading">¶</a></h2>
<p>Table workspaces are general purpose workspaces for storing data of
mixed types. A table workspace is organized in columns. Each column has
a name and a type - the type of the data in that column. Data can be accessed by column, by row, or by cell</p>
</section>
<section id="working-with-table-workspaces-in-python">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Working with Table Workspaces in Python</a><a class="headerlink" href="#working-with-table-workspaces-in-python" title="Permalink to this heading">¶</a></h2>
<p>For full details of the Table Workspaces python type itself please see <a class="reference internal" href="../api/python/mantid/api/ITableWorkspace.html#mantid.api.ITableWorkspace" title="mantid.api.ITableWorkspace"><code class="xref py py-obj docutils literal notranslate"><span class="pre">this</span> <span class="pre">page</span></code></a>.</p>
<section id="accessing-workspaces">
<h3><a class="toc-backref" href="#id4" role="doc-backlink">Accessing Workspaces</a><a class="headerlink" href="#accessing-workspaces" title="Permalink to this heading">¶</a></h3>
<p>The methods for getting a variable to an Table Workspace is the same as shown in the <a class="reference internal" href="WorkingWithWorspaces.html#workspace-accessing-workspaces"><span class="std std-ref">Workspace</span></a> help page.</p>
<p>If you want to check if a variable points to something that is an Table Workspace you can use this:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mantid.api</span> <span class="kn">import</span> <span class="n">ITableWorkspace</span>

<span class="n">tableWS</span> <span class="o">=</span> <span class="n">CreateEmptyTableWorkspace</span><span class="p">()</span>

<span class="k">if</span> <span class="n">tableWS</span> <span class="ow">is</span> <span class="n">ITableWorkspace</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">tableWS</span><span class="o">.</span><span class="n">getName</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot; is a &quot;</span> <span class="o">+</span> <span class="n">tableWS</span><span class="o">.</span><span class="n">id</span><span class="p">())</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>tableWS is a TableWorkspace
</pre></div>
</div>
</section>
<section id="creating-a-table-workspace-in-python">
<h3><a class="toc-backref" href="#id5" role="doc-backlink">Creating a Table Workspace in Python</a><a class="headerlink" href="#creating-a-table-workspace-in-python" title="Permalink to this heading">¶</a></h3>
<p>Most of the time Table workspaces are the output of certain algorithms, but you can create them yourself should you wish.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mantid.kernel</span> <span class="kn">import</span> <span class="n">V3D</span>

<span class="c1"># Create PositionTable</span>
<span class="n">tableWS</span> <span class="o">=</span> <span class="n">CreateEmptyTableWorkspace</span><span class="p">()</span>

<span class="c1"># Add some columns, Recognized types are: int,float,double,bool,str,V3D,long64</span>
<span class="n">tableWS</span><span class="o">.</span><span class="n">addColumn</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s2">&quot;int&quot;</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Detector ID&quot;</span><span class="p">,</span><span class="n">plottype</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>
<span class="n">tableWS</span><span class="o">.</span><span class="n">addColumn</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s2">&quot;str&quot;</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Detector Name&quot;</span><span class="p">,</span><span class="n">plottype</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>
<span class="n">tableWS</span><span class="o">.</span><span class="n">addColumn</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s2">&quot;V3D&quot;</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Detector Position&quot;</span><span class="p">,</span><span class="n">plottype</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>
<span class="n">tableWS</span><span class="o">.</span><span class="n">addColumn</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s1">&#39;float&#39;</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Value&quot;</span><span class="p">,</span><span class="n">plottype</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">tableWS</span><span class="o">.</span><span class="n">addColumn</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s1">&#39;float&#39;</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Error&quot;</span><span class="p">,</span><span class="n">plottype</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">tableWS</span><span class="o">.</span><span class="n">setLinkedYCol</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>

<span class="c1"># Populate the columns for three detectors</span>
<span class="n">detIDList</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="n">detPosList</span> <span class="o">=</span> <span class="p">[</span> <span class="n">V3D</span><span class="p">(</span><span class="mf">9.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">),</span> <span class="n">V3D</span><span class="p">(</span><span class="mf">10.0</span><span class="p">,</span><span class="mf">3.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">),</span> <span class="n">V3D</span><span class="p">(</span><span class="mf">12.0</span><span class="p">,</span><span class="mf">3.0</span><span class="p">,</span><span class="mf">6.0</span><span class="p">)]</span>
<span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">detIDList</span><span class="p">)):</span>
    <span class="n">nextRow</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;Detector ID&#39;</span><span class="p">:</span> <span class="n">detIDList</span><span class="p">[</span><span class="n">j</span><span class="p">],</span>
                <span class="s1">&#39;Detector Name&#39;</span><span class="p">:</span> <span class="s2">&quot;Detector </span><span class="si">{0}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">detIDList</span><span class="p">[</span><span class="n">j</span><span class="p">]),</span>
                <span class="s1">&#39;Detector Position&#39;</span><span class="p">:</span> <span class="n">detPosList</span><span class="p">[</span><span class="n">j</span><span class="p">],</span>
                <span class="s1">&#39;Value&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
                <span class="s1">&#39;Error&#39;</span><span class="p">:</span> <span class="mi">1</span> <span class="p">}</span>
    <span class="n">tableWS</span><span class="o">.</span><span class="n">addRow</span> <span class="p">(</span> <span class="n">nextRow</span> <span class="p">)</span>
</pre></div>
</div>
</section>
<section id="table-workspace-properties">
<h3><a class="toc-backref" href="#id6" role="doc-backlink">Table Workspace Properties</a><a class="headerlink" href="#table-workspace-properties" title="Permalink to this heading">¶</a></h3>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#setup as above</span>

<span class="c1"># Rows</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Row count: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">tableWS</span><span class="o">.</span><span class="n">rowCount</span><span class="p">()))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Detector Position: </span><span class="si">{0}</span><span class="s2">, Detector Name: </span><span class="si">{1}</span><span class="s2">, Detector ID: </span><span class="si">{2}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">tableWS</span><span class="o">.</span><span class="n">row</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="s2">&quot;Detector Position&quot;</span><span class="p">],</span>
                <span class="n">tableWS</span><span class="o">.</span><span class="n">row</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="s2">&quot;Detector Name&quot;</span><span class="p">],</span>
                <span class="n">tableWS</span><span class="o">.</span><span class="n">row</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="s2">&quot;Detector ID&quot;</span><span class="p">]))</span> <span class="c1"># row values as a dictionary</span>
<span class="c1"># Resize the table</span>
<span class="n">tableWS</span><span class="o">.</span><span class="n">setRowCount</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="c1"># Add Rows</span>
<span class="n">tableWS</span><span class="o">.</span><span class="n">addRow</span><span class="p">(</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;new Detector 1&quot;</span><span class="p">,</span> <span class="n">V3D</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)])</span>
<span class="c1"># or using a dictionary</span>
<span class="n">nextRow</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;Detector ID&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
                <span class="s1">&#39;Detector Name&#39;</span><span class="p">:</span> <span class="s2">&quot;new Detector 2&quot;</span><span class="p">,</span>
                <span class="s1">&#39;Detector Position&#39;</span><span class="p">:</span>  <span class="n">V3D</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span> <span class="p">}</span>
<span class="n">tableWS</span><span class="o">.</span><span class="n">addRow</span> <span class="p">(</span> <span class="n">nextRow</span> <span class="p">)</span>

<span class="c1"># Columns</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Column count: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">tableWS</span><span class="o">.</span><span class="n">columnCount</span><span class="p">()))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Column names: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">tableWS</span><span class="o">.</span><span class="n">getColumnNames</span><span class="p">()))</span>
<span class="n">columnValuesList</span> <span class="o">=</span> <span class="n">tableWS</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># convert table to dictionary</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">tableWS</span><span class="o">.</span><span class="n">toDict</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Detector names: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;Detector Name&#39;</span><span class="p">]))</span>

<span class="c1"># To remove a column</span>
<span class="n">tableWS</span><span class="o">.</span><span class="n">removeColumn</span><span class="p">(</span><span class="s2">&quot;Detector Name&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="converting-to-pandas-dataframes">
<h3><a class="toc-backref" href="#id7" role="doc-backlink">Converting To Pandas DataFrames</a><a class="headerlink" href="#converting-to-pandas-dataframes" title="Permalink to this heading">¶</a></h3>
<p>Table workspaces can be easily converted to a pandas <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v2.1.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> using the following code snippet.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">toDict</span><span class="p">())</span>
</pre></div>
</div>
<p>If only a subset of the data from the table is required, or you’re working with an existing <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v2.1.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> and want to append columns from the Table workspace this can be achieved as follows.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">tableWS</span><span class="o">.</span><span class="n">getColumnNames</span><span class="p">():</span>
    <span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">tableWS</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="pickling-workspaces">
<h3><a class="toc-backref" href="#id8" role="doc-backlink">Pickling Workspaces</a><a class="headerlink" href="#pickling-workspaces" title="Permalink to this heading">¶</a></h3>
<p>A TableWorkspace may be <cite>pickled &lt;https://docs.python.org/2/library/pickle.html/&gt;</cite> and de-pickled in python. Users should prefer using cPickle over pickle, and make sure that the protocol option is set to the HIGHEST_PROTOCOL to ensure that the serialization/deserialization process is as fast as possible.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">cPickle</span> <span class="k">as</span> <span class="nn">pickle</span>
<span class="n">pickled</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">ws2d</span><span class="p">,</span> <span class="n">pickle</span><span class="o">.</span><span class="n">HIGHEST_PROTOCOL</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="working-with-table-workspaces-in-c">
<h2><a class="toc-backref" href="#id9" role="doc-backlink">Working with Table Workspaces in C++</a><a class="headerlink" href="#working-with-table-workspaces-in-c" title="Permalink to this heading">¶</a></h2>
<p>Table workspaces can be created using the workspace factory:</p>
<p><code class="docutils literal notranslate"><span class="pre">ITableWorkspace_sptr</span> <span class="pre">table</span> <span class="pre">=</span> <span class="pre">WorkspaceFactory::Instance().createTable(&quot;TableWorkspace&quot;);</span></code></p>
<p>Columns are added using the addColumn method:</p>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">table-&gt;addColumn(&quot;str&quot;,&quot;Parameter</span> <span class="pre">Name&quot;);</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">table-&gt;addColumn(&quot;double&quot;,&quot;Value&quot;);</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">table-&gt;addColumn(&quot;double&quot;,&quot;Error&quot;);</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">table-&gt;addColumn(&quot;int&quot;,&quot;Index&quot;);</span></code></div>
</div>
<p>Here the first argument is a symbolic name of the column’s data type and
the second argument is the name of the column. The predefined types are:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Symbolic name</p></th>
<th class="head"><p>C++ type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>int</p></td>
<td><p>int</p></td>
</tr>
<tr class="row-odd"><td><p>float</p></td>
<td><p>float</p></td>
</tr>
<tr class="row-even"><td><p>double</p></td>
<td><p>double</p></td>
</tr>
<tr class="row-odd"><td><p>bool</p></td>
<td><p>bool</p></td>
</tr>
<tr class="row-even"><td><p>str</p></td>
<td><p>std::string</p></td>
</tr>
<tr class="row-odd"><td><p>V3D</p></td>
<td><p>Mantid::Geometry::V3D</p></td>
</tr>
<tr class="row-even"><td><p>long64</p></td>
<td><p>int64_t</p></td>
</tr>
<tr class="row-odd"><td><p>vector_int</p></td>
<td><p>std::vector&lt;int&gt;</p></td>
</tr>
<tr class="row-even"><td><p>vector_double</p></td>
<td><p>std::vector&lt;double&gt;</p></td>
</tr>
</tbody>
</table>
<p>The data in the table can be accessed in a number of ways. The most
simple way is to call templated method T&amp; cell(row,col), where col is
the index of the column in the workspace and row is the index of the
cell in the column. Columns are indexed in the order they are created
with addColumn. There are also specialized methods for four predefined
data types: int&amp; Int(row,col), double&amp; Double(row,col), std::string&amp;
String(row,col), bool&amp; Bool(row,col). Columns use std::vector to store
the data. To get access to the vector use getVector(name). To get the
column object use getColumn(name).</p>
<p>Only columns of type int, double and str can currently be saved to Nexus
by <a class="reference internal" href="../algorithms/SaveNexus-v1.html#algm-savenexus"><span class="std std-ref">SaveNexus</span></a> or
<a class="reference internal" href="../algorithms/SaveNexusProcessed-v1.html#algm-savenexusprocessed"><span class="std std-ref">SaveNexusProcessed</span></a>. Columns of other types will
simply be omitted from the Nexus file without any error message.</p>
<section id="table-rows">
<h3><a class="toc-backref" href="#id10" role="doc-backlink">Table rows</a><a class="headerlink" href="#table-rows" title="Permalink to this heading">¶</a></h3>
<p>Cells with the same index form a row. TableRow class represents a row.
Use getRow(int) or getFirstRow() to access existing rows. For example:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">key</span><span class="p">;</span><span class="w"></span>
<span class="kt">double</span><span class="w"> </span><span class="n">value</span><span class="p">;</span><span class="w"></span>
<span class="n">TableRow</span><span class="w"> </span><span class="n">row</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">table</span><span class="o">-&gt;</span><span class="n">getFirstRow</span><span class="p">();</span><span class="w"></span>
<span class="k">do</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="n">row</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">value</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;key=&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; value=&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="k">while</span><span class="p">(</span><span class="n">row</span><span class="p">.</span><span class="n">next</span><span class="p">());</span><span class="w"></span>
</pre></div>
</div>
<p>TableRow can also be use for writing into a table:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">TableRow</span><span class="w"> </span><span class="n">row</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">table</span><span class="o">-&gt;</span><span class="n">appendRow</span><span class="p">();</span><span class="w"></span>
<span class="w">    </span><span class="n">row</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">keys</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">values</span><span class="p">[</span><span class="n">i</span><span class="p">];</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="defining-new-column-types">
<h3><a class="toc-backref" href="#id11" role="doc-backlink">Defining new column types</a><a class="headerlink" href="#defining-new-column-types" title="Permalink to this heading">¶</a></h3>
<p>Users can define new data types to be used in TableWorkspace.
TableColumn.h defines macro
DECLARE_TABLECOLUMN(c_plus_plus_type,symbolic_name).
c_plus_plus_type must be a copyable type and operators &lt;&lt; and &gt;&gt; must
be defined. There is also DECLARE_TABLEPOINTERCOLUMN macro for
declaring non-copyable types, but it has never been used.</p>
</section>
</section>
<section id="other-information-on-workspaces">
<h2><a class="toc-backref" href="#id12" role="doc-backlink">Other Information on Workspaces</a><a class="headerlink" href="#other-information-on-workspaces" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><dl class="simple">
<dt><a class="reference internal" href="Workspace.html#workspace"><span class="std std-ref">Workspace</span></a> - Overview of workspaces, which include the following classes:</dt><dd><ul>
<li><p><a class="reference internal" href="MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a> - A base class that contains
among others:</p>
<ul>
<li><p>WorkspaceSingleValue - Holds a single number (and X &amp; error value,
if desired). Mainly used for workspace algebra, e.g. to divide all
bins in a 2D workspace by a single value.</p></li>
<li><p><a class="reference internal" href="Workspace2D.html#workspace2d"><span class="std std-ref">Workspace2D</span></a> - A workspace for holding two
dimensional data in memory, this is the most commonly used
workspace.</p></li>
<li><p><a class="reference internal" href="EventWorkspace.html#eventworkspace"><span class="std std-ref">EventWorkspace</span></a> - A workspace that retains the
individual neutron event data.</p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#table-workspaces"><span class="std std-ref">TableWorkspace</span></a> - A workspace holding data in
rows of columns having a particular type (e.g. text, integer, …).</p></li>
<li><p><a class="reference internal" href="WorkspaceGroup.html#workspacegroup"><span class="std std-ref">WorkspaceGroup</span></a> - A container for a collection of
workspaces. Algorithms given a group as input run sequentially on
each member of the group.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<p><strong>Category</strong>: <a class="reference external" href="../api/python/mantid/api/categories/Concepts.html">Concepts</a></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="SymmetryGroups.html" title="Previous Chapter: Symmetry groups"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Symmetry groups</span>
    </a>
  </li>
  <li>
    <a href="UnitFactory.html" title="Next Chapter: Units"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Units &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>