<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Symmetry groups</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Table Workspaces" href="TableWorkspaces.html" />
    <link rel="prev" title="Shared Pointer" href="SharedPointer.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.8</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://www.mantidproject.org">Home</a></li>
                <li><a href="https://download.mantidproject.org">Download</a></li>
                <li><a href="https://docs.mantidproject.org">Documentation</a></li>
                <li><a href="https://www.mantidproject.org/contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Concepts</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">Symmetry groups</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="symmetry-groups">
<span id="id1"></span><h1>Symmetry groups<a class="headerlink" href="#symmetry-groups" title="Permalink to this heading">¶</a></h1>
<p>This is an introduction to group theoretical concepts for symmetry in Mantid. It is the basis for further descriptions covering point groups and space groups.</p>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this heading">¶</a></h2>
<p>Symmetry in space of any dimensionality can be described by symmetry groups. This and the following guides cover symmetry in three dimensions, as it is most commonly used in crystallography and how it is integrated into Mantid. All code samples are given as Python code and can be executed directly in the program.</p>
</section>
<section id="groups">
<h2>Groups<a class="headerlink" href="#groups" title="Permalink to this heading">¶</a></h2>
<p>A group <span class="math notranslate nohighlight">\((G, \cdot)\)</span> is defined as a set of elements <span class="math notranslate nohighlight">\(G\)</span> with a binary operation <span class="math notranslate nohighlight">\(\cdot\)</span> which combines two elements of <span class="math notranslate nohighlight">\(G\)</span>. <span class="math notranslate nohighlight">\((G, \cdot)\)</span> is a group if the four group axioms are satisfied <a class="reference internal" href="#id5" id="id2"><span>[Groups]</span></a>:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p><strong>Closure</strong>: For all <span class="math notranslate nohighlight">\(a, b\)</span> in <span class="math notranslate nohighlight">\(G\)</span> the result of <span class="math notranslate nohighlight">\(a \cdot b\)</span> is also in <span class="math notranslate nohighlight">\(G\)</span>.</p></li>
<li><p><strong>Associativity</strong>: For all <span class="math notranslate nohighlight">\(a, b\)</span> in <span class="math notranslate nohighlight">\(G\)</span>, <span class="math notranslate nohighlight">\((a \cdot b) \cdot c\)</span> is equal to <span class="math notranslate nohighlight">\(a \cdot (b \cdot c)\)</span>.</p></li>
<li><p><strong>Identity element</strong>: There exists an element <span class="math notranslate nohighlight">\(e\)</span> in <span class="math notranslate nohighlight">\(G\)</span> such that <span class="math notranslate nohighlight">\(e \cdot a = a\)</span>.</p></li>
<li><p><strong>Inverse element</strong>: For each <span class="math notranslate nohighlight">\(a\)</span> in <span class="math notranslate nohighlight">\(G\)</span> there exists an element <span class="math notranslate nohighlight">\(b\)</span> in <span class="math notranslate nohighlight">\(G\)</span> such that <span class="math notranslate nohighlight">\(a \cdot b = e\)</span>.</p></li>
</ol>
</div></blockquote>
<p>There are many examples for groups, for example the group defined by the set of signed integer numbers and the addition operation. Any two integers added result again in an integer, integer addition is associative, there is an identity element (the number 0) and for each integer there is an inverse element (the number with the same magnitude, but opposite sign). For describing symmetry, groups are required that consist of a set of symmetry operations and a binary operation that combines them. The next section describes how symmetry operations can be represented and how to work with them in Mantid.</p>
</section>
<section id="symmetry-operations">
<h2>Symmetry operations<a class="headerlink" href="#symmetry-operations" title="Permalink to this heading">¶</a></h2>
<section id="theory">
<h3>Theory<a class="headerlink" href="#theory" title="Permalink to this heading">¶</a></h3>
<p>As symmetry operations are used for the definition of space groups, the mathematics behind this are covered in depth in the International Tables for Crystallography A (ITA), namely part 11 <a class="reference internal" href="#itasymmetry" id="id3"><span>[ITASymmetry]</span></a>. A symmetry operation describes the transformation of an object <span class="math notranslate nohighlight">\(O\)</span> into its image <span class="math notranslate nohighlight">\(O'\)</span>:</p>
<div class="math notranslate nohighlight">
\[O' = S \cdot O\]</div>
<p>For a coordinate <span class="math notranslate nohighlight">\(\mathbf{x}\)</span> in three dimensions, any transformation can be described using a transformation matrix <span class="math notranslate nohighlight">\(\mathbf{W}\)</span> and a translation vector <span class="math notranslate nohighlight">\(\mathbf{w}\)</span>. This leads to the following equation:</p>
<div class="math notranslate nohighlight">
\[\mathbf{x}' = \mathbf{W} \cdot \mathbf{x} + \mathbf{w}\]</div>
<p><span class="math notranslate nohighlight">\(\mathbf{W}\)</span> is a <span class="math notranslate nohighlight">\(3\times3\)</span>-matrix and for affine transformations, the determinant of the matrix is always equal to 1 or -1 (except for hexagonal coordinates, which are handled transparently in Mantid so this is not covered here).</p>
<p>Coordinates <span class="math notranslate nohighlight">\(x\)</span> are assumed to be fractional in terms of a unit cell, which defines the smallest unit of an infinite lattice that is repeated over and over.</p>
<p>Of course it is also possible to transform vectors (such as reciprocal vectors <span class="math notranslate nohighlight">\(\mathbf{h}\)</span> described by Miller indices h, k and l), in which case the translation does not apply and the matrix needs to be inverted and transposed:</p>
<div class="math notranslate nohighlight">
\[\mathbf{h}' = {\mathbf{W}_i^{-1}}^T \cdot \mathbf{h}\]</div>
<p>For the definition of the group <span class="math notranslate nohighlight">\((G, \cdot)\)</span> this means that <span class="math notranslate nohighlight">\(G\)</span> is a set of matrix and vector pairs <span class="math notranslate nohighlight">\((\mathbf{W}_i, \mathbf{w}_i) = S_i\)</span>. All that’s missing for completing the description of a symmetry group is the definition of the binary operation <span class="math notranslate nohighlight">\(\cdot\)</span>:</p>
<div class="math notranslate nohighlight">
\[S_3 = S_1 \cdot S_2 = \left(\mathbf{W}_1 \cdot \mathbf{W}_2, \left[\mathbf{W}_1 \cdot \mathbf{w}_2\right] + \mathbf{w}_1\right)\]</div>
<p>While matrix and vector pairs are very well suited for modelling symmetry operaitions in a computer language, they are not very convenient for human language. A very common notation is the “Jones-faithful” system, which is for example used in the symmetry operations section in the space group descriptions in ITA. It uses <span class="math notranslate nohighlight">\((x,y,z)\)</span> triplets to describe the rows of the matrix (<span class="math notranslate nohighlight">\(x\)</span> meaning <span class="math notranslate nohighlight">\(1, 0, 0\)</span> and so on) and the translation vector (for example <span class="math notranslate nohighlight">\(x,y,z+1/2\)</span> for a translation of half a unit cell vector in <span class="math notranslate nohighlight">\(c\)</span>-direction). The following table shows some more examples:</p>
<table class="docutils align-default" id="id8">
<caption><span class="caption-text">Examples for symmetry operations in Jones-faithful notation.</span><a class="headerlink" href="#id8" title="Permalink to this table">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Symbol</p></th>
<th class="head"><p>Symmetry operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">x,y,z</span></code></p></td>
<td><p>Identity</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-x,-y,-z</span></code></p></td>
<td><p>Inversion</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-x,-y,z</span></code></p></td>
<td><p>2-fold rotation around <span class="math notranslate nohighlight">\(z\)</span></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">x,y,-z</span></code></p></td>
<td><p>Mirror plane perpendicular to <span class="math notranslate nohighlight">\(z\)</span></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-x,-y,z+1/2</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(2_1\)</span> screw axis along <span class="math notranslate nohighlight">\(z\)</span></p></td>
</tr>
</tbody>
</table>
<p>There are several advantages to this notation. First of all it’s very concise and secondly it directly shows how a point <span class="math notranslate nohighlight">\(x\)</span> behaves under the symmetry transformation. As such this notation was chosen for generation of symmetry operations in Mantid.</p>
<p>Last but not least, each symmetry operation has a so called order <span class="math notranslate nohighlight">\(k\)</span>, which describes how many times the operation has to be chained together to arrive at identity:</p>
<div class="math notranslate nohighlight">
\[I = S^k = S \cdot S \cdot \dots \cdot S\]</div>
<p>The same is true for transforming coordinates as well. Applying a symmetry operation of order <span class="math notranslate nohighlight">\(k\)</span> exactly <span class="math notranslate nohighlight">\(k\)</span> times to a point <span class="math notranslate nohighlight">\(x\)</span> will result in <span class="math notranslate nohighlight">\(x\)</span> again, which is the definition of identity.</p>
</section>
<section id="symmetry-operations-in-mantid">
<h3>Symmetry operations in Mantid<a class="headerlink" href="#symmetry-operations-in-mantid" title="Permalink to this heading">¶</a></h3>
<p>Symmetry operations are implemented in Mantid following the scheme described above with matrix and vector pairs, it is written in C++ and resides in the <cite>Geometry</cite> library. How to use this code is described in the doxygen documentation and shall not be covered at this point. Instead this section describes how symmetry operations can be used in the Python environment of Mantid.</p>
<p>As described above, the operations are represented using the Jones-faithful notation, so they can be created by a factory that parses these strings. It returns a <cite>SymmetryOperation</cite>-object which can be queried for certain characteristics. The most obvious one is the identifier string. It may differ from the one used to create the operation, because the strings are normalized internally so that a specific matrix and vector pair always has the same identifier.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mantid.geometry</span> <span class="kn">import</span> <span class="n">SymmetryOperationFactory</span>

<span class="c1"># This time the identifier is already normalized</span>
<span class="n">symOp</span> <span class="o">=</span> <span class="n">SymmetryOperationFactory</span><span class="o">.</span><span class="n">createSymOp</span><span class="p">(</span><span class="s2">&quot;x,y,-z&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">symOp</span><span class="o">.</span><span class="n">getIdentifier</span><span class="p">())</span>

<span class="c1"># This is an example for an identifier that changes</span>
<span class="n">symOp</span> <span class="o">=</span> <span class="n">SymmetryOperationFactory</span><span class="o">.</span><span class="n">createSymOp</span><span class="p">(</span><span class="s2">&quot;1/2+x,y,z&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">symOp</span><span class="o">.</span><span class="n">getIdentifier</span><span class="p">())</span>
</pre></div>
</div>
<p>Executing the above code yields the following output, which shows how the operation identifier is modified in some cases:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>x,y,-z
x+1/2,y,z
</pre></div>
</div>
<p>For ease of use with multiple symmetry operations it’s also possible to create multiple operations at once, using a semi-colon separated string of identifiers:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mantid.geometry</span> <span class="kn">import</span> <span class="n">SymmetryOperationFactory</span>

<span class="c1"># Create a list of symmetry operations</span>
<span class="n">symOps</span> <span class="o">=</span> <span class="n">SymmetryOperationFactory</span><span class="o">.</span><span class="n">createSymOps</span><span class="p">(</span><span class="s2">&quot;x,y,-z; -x,-y,-z; z,x,y&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Number of operations: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">symOps</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Operations:&quot;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">op</span> <span class="ow">in</span> <span class="n">symOps</span><span class="p">:</span>
   <span class="nb">print</span><span class="p">(</span><span class="n">op</span><span class="o">.</span><span class="n">getIdentifier</span><span class="p">())</span>
</pre></div>
</div>
<p>This prints each identifier on a new line:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Number of operations: 3
Operations:
x,y,-z
-x,-y,-z
z,x,y
</pre></div>
</div>
<p>Symmetry operation objects can be used to transform coordinates or Miller indices, which are handled differently as detailed in the theory section above, so different methods exists for each of the two tasks.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mantid.geometry</span> <span class="kn">import</span> <span class="n">SymmetryOperationFactory</span>

<span class="n">symOp</span> <span class="o">=</span> <span class="n">SymmetryOperationFactory</span><span class="o">.</span><span class="n">createSymOp</span><span class="p">(</span><span class="s2">&quot;x-y,x,z&quot;</span><span class="p">)</span>

<span class="n">coordinates</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">]</span>
<span class="n">coordinatesPrime</span> <span class="o">=</span> <span class="n">symOp</span><span class="o">.</span><span class="n">transformCoordinates</span><span class="p">(</span><span class="n">coordinates</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Transformed coordinates: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">coordinatesPrime</span><span class="p">))</span>
</pre></div>
</div>
<p>This script generates a symmetry operation that is used in hexagonal coordinate systems and uses it to transform the given coordinates:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Transformed coordinates: [-0.1,0.3,0.5]
</pre></div>
</div>
<p>As transforming HKLs requires slightly different math, there is a special method for this as well:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mantid.geometry</span> <span class="kn">import</span> <span class="n">SymmetryOperationFactory</span>

<span class="n">symOp</span> <span class="o">=</span> <span class="n">SymmetryOperationFactory</span><span class="o">.</span><span class="n">createSymOp</span><span class="p">(</span><span class="s2">&quot;x,y,-z&quot;</span><span class="p">)</span>

<span class="n">hkl</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">hklPrime</span> <span class="o">=</span> <span class="n">symOp</span><span class="o">.</span><span class="n">transformHKL</span><span class="p">(</span><span class="n">hkl</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Transformed hkl: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">hklPrime</span><span class="p">))</span>
</pre></div>
</div>
<p>The above code will print the transformed Miller index triplet:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Transformed hkl: [1,-1,-3]
</pre></div>
</div>
<p>It’s also possible to query the order of a symmetry operation. The next example generates a fourfold rotation around the <span class="math notranslate nohighlight">\(z\)</span>-axis and prints some information about it.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mantid.geometry</span> <span class="kn">import</span> <span class="n">SymmetryOperationFactory</span>

<span class="n">symOp</span> <span class="o">=</span> <span class="n">SymmetryOperationFactory</span><span class="o">.</span><span class="n">createSymOp</span><span class="p">(</span><span class="s2">&quot;-y,x,z&quot;</span><span class="p">)</span>

<span class="n">k</span> <span class="o">=</span> <span class="n">symOp</span><span class="o">.</span><span class="n">getOrder</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Order of the symmetry operation: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">k</span><span class="p">))</span>

<span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Original point: [&quot;</span><span class="o">+</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot; </span><span class="si">%.1f</span><span class="s2">&quot;</span><span class="o">%</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">x</span><span class="p">))</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">+</span><span class="s2">&quot;]&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">k</span><span class="p">):</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">symOp</span><span class="o">.</span><span class="n">transformCoordinates</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;After </span><span class="si">{0}</span><span class="s2"> application(s): </span><span class="si">{1}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">x</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Order of the symmetry operation: 4
Original point: [0.3, 0.4, 0.5]
After 1 application(s): [-0.4,0.3,0.5]
After 2 application(s): [-0.3,-0.4,0.5]
After 3 application(s): [0.4,-0.3,0.5]
After 4 application(s): [0.3,0.4,0.5]
</pre></div>
</div>
</section>
<section id="symmetry-elements">
<h3>Symmetry elements<a class="headerlink" href="#symmetry-elements" title="Permalink to this heading">¶</a></h3>
<p>Sometimes it’s easier to describe symmetry in terms of the symmetry element that is associated to an operation. Several notation systems exist for these elements, but Hermann-Mauguin symbols are most commonly used in crystallography. Information on how to read these symbols can be found in ITA. Except identity, inversions and translations, all symmetry elements have a characteristic axis. In case of mirror and glide planes, this axis is perpendicular to the plane.</p>
<p>Section 11.2 in the same book describes how to derive symmetry elements from matrix and vector pairs. The algorithms from that text are implemented in Mantid as well, so after a symmetry operation has been created using the factory, another factory can be used to generate the symmetry element corresponding to the operation. The resulting object can be queried for its Hermann-Mauguin symbol, its axis and its rotation sense (only for rotation axes). For identity, inversion and translation this returns <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">0,</span> <span class="pre">0]</span></code>.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mantid.geometry</span> <span class="kn">import</span> <span class="n">SymmetryOperationFactory</span><span class="p">,</span> <span class="n">SymmetryElementFactory</span>

<span class="n">symOp</span> <span class="o">=</span> <span class="n">SymmetryOperationFactory</span><span class="o">.</span><span class="n">createSymOp</span><span class="p">(</span><span class="s2">&quot;x,y,-z&quot;</span><span class="p">)</span>
<span class="n">element</span> <span class="o">=</span> <span class="n">SymmetryElementFactory</span><span class="o">.</span><span class="n">createSymElement</span><span class="p">(</span><span class="n">symOp</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The element corresponding to &#39;x,y,-z&#39; has the following symbol: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">element</span><span class="o">.</span><span class="n">getHMSymbol</span><span class="p">()))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The mirror plane is perpendicular to: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">element</span><span class="o">.</span><span class="n">getAxis</span><span class="p">()))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Sense of rotation (or NoRotation): &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">element</span><span class="o">.</span><span class="n">getRotationSense</span><span class="p">()))</span>
</pre></div>
</div>
<p>In this case, it’s a mirror plane perpendicular to the <span class="math notranslate nohighlight">\(z\)</span>-axis:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>The element corresponding to &#39;x,y,-z&#39; has the following symbol: m
The mirror plane is perpendicular to: [0,0,1]
Sense of rotation (or NoRotation): NoRotation
</pre></div>
</div>
</section>
</section>
<section id="id4">
<h2>Symmetry groups<a class="headerlink" href="#id4" title="Permalink to this heading">¶</a></h2>
<p>In the previous section, symmetry operations and a binary operation combining them were introduced, which is finally sufficient to define symmetry groups. For the purpose of defining groups, it is assumed that coordinates <span class="math notranslate nohighlight">\(x\)</span> and <span class="math notranslate nohighlight">\(x + 1\)</span>, <span class="math notranslate nohighlight">\(x + 2\)</span>, <span class="math notranslate nohighlight">\(x - 1\)</span> and so forth are equivalent. That means that translation vectors are limited to have it’s elements on the interval <span class="math notranslate nohighlight">\([0, 1)\)</span>. The most simple group possible contains only one element, the identity:</p>
<div class="math notranslate nohighlight">
\[G = \left\{1\right\}\]</div>
<p>This group fulfills all four group axioms. The identity matrix multiplied with itself is again identity, so the group is closed. Associativity holds as well, since it does not matter in which order multiple identical operations are performed. Since the only element of the group is the identity, the third axiom is fulfilled as well. So is the fourth, since the inverse of the identity is again identity. This group exists as the point group <span class="math notranslate nohighlight">\(1\)</span> and describes objects that do not show any symmetry except identity.</p>
<p>As more operations are added to a group, it can be useful to display the group in terms of a group table, which makes it easy to check the group axioms. The following example group contains the symmetry operations <span class="math notranslate nohighlight">\(1\)</span>, <span class="math notranslate nohighlight">\(\bar{1}\)</span>, <span class="math notranslate nohighlight">\(2\)</span> and <span class="math notranslate nohighlight">\(m\)</span>, the latter two being characterized by the same axis. The cells of the group tables show the result of the binary operation combining the symmetry operations in the header row and header column:</p>
<table class="docutils align-default" id="id9">
<caption><span class="caption-text">Group table example</span><a class="headerlink" href="#id9" title="Permalink to this table">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head stub"></th>
<th class="head"><p><span class="math notranslate nohighlight">\(1\)</span></p></th>
<th class="head"><p><span class="math notranslate nohighlight">\(\bar{1}\)</span></p></th>
<th class="head"><p><span class="math notranslate nohighlight">\(2\)</span></p></th>
<th class="head"><p><span class="math notranslate nohighlight">\(m\)</span></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><th class="stub"><p><span class="math notranslate nohighlight">\(1\)</span></p></th>
<td><p><span class="math notranslate nohighlight">\(1\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(\bar{1}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(2\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(m\)</span></p></td>
</tr>
<tr class="row-odd"><th class="stub"><p><span class="math notranslate nohighlight">\(\bar{1}\)</span></p></th>
<td><p><span class="math notranslate nohighlight">\(\bar{1}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(1\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(m\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(2\)</span></p></td>
</tr>
<tr class="row-even"><th class="stub"><p><span class="math notranslate nohighlight">\(2\)</span></p></th>
<td><p><span class="math notranslate nohighlight">\(2\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(m\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(1\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(\bar{1}\)</span></p></td>
</tr>
<tr class="row-odd"><th class="stub"><p><span class="math notranslate nohighlight">\(m\)</span></p></th>
<td><p><span class="math notranslate nohighlight">\(m\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(2\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(\bar{1}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(1\)</span></p></td>
</tr>
</tbody>
</table>
<p>Combining the symmetry operations does not result into any new operations, so the group is closed. Each element has an inverse (in this case, each element is its own inverse). :math:` and an identity element exists (all elements in the first row are the same as in the header row). Groups are available through the Python interface of Mantid. The following code generates the group in the table above (with the y-axis being characteristic for rotation and mirror symmetry) and checks whether this set of symmetry operations is indeed a Group:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mantid.geometry</span> <span class="kn">import</span> <span class="n">Group</span>

<span class="n">group</span> <span class="o">=</span> <span class="n">Group</span><span class="p">(</span><span class="s2">&quot;x,y,z; -x,-y,-z; -x,y,-z; x,-y,z&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Order of group: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">group</span><span class="o">.</span><span class="n">getOrder</span><span class="p">()))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fulfills group axioms: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">group</span><span class="o">.</span><span class="n">isGroup</span><span class="p">()))</span>
</pre></div>
</div>
<p>This code confirms what was demonstrated by the group table above, the specified set of symmetry operations fulfills the group axioms:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Order of group: 4
Fulfills group axioms: True
</pre></div>
</div>
<p>For more fine-grained information, the four axioms can also be checked separately. Please note that the associativity axiom is always fulfilled due to the way the binary operation for symmetry operations is defined, it’s included for completeness reasons. In the next example, the inversion operation is removed and the four axioms are checked:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mantid.geometry</span> <span class="kn">import</span> <span class="n">Group</span><span class="p">,</span> <span class="n">GroupAxiom</span>

<span class="n">group</span> <span class="o">=</span> <span class="n">Group</span><span class="p">(</span><span class="s2">&quot;x,y,z; -x,y,-z; x,-y,z&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Group axioms fulfilled:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;  1. Closure: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">group</span><span class="o">.</span><span class="n">fulfillsAxiom</span><span class="p">(</span><span class="n">GroupAxiom</span><span class="o">.</span><span class="n">Closure</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;  2. Associativity: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">group</span><span class="o">.</span><span class="n">fulfillsAxiom</span><span class="p">(</span><span class="n">GroupAxiom</span><span class="o">.</span><span class="n">Associativity</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;  3. Identity: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">group</span><span class="o">.</span><span class="n">fulfillsAxiom</span><span class="p">(</span><span class="n">GroupAxiom</span><span class="o">.</span><span class="n">Identity</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;  4. Inversion: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">group</span><span class="o">.</span><span class="n">fulfillsAxiom</span><span class="p">(</span><span class="n">GroupAxiom</span><span class="o">.</span><span class="n">Inversion</span><span class="p">)))</span>
</pre></div>
</div>
<p>The code reveals that axioms 2 - 4 are fulfilled, but that the group is not closed:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Group axioms fulfilled:
  1. Closure: False
  2. Associativity: True
  3. Identity: True
  4. Inversion: True
</pre></div>
</div>
<p>Looking into the group table above shows the reason: The combination of a mirror plane and a two-fold rotation axis implies the presence of an inversion center. Similarly, the identity can be removed:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mantid.geometry</span> <span class="kn">import</span> <span class="n">Group</span><span class="p">,</span> <span class="n">GroupAxiom</span>

<span class="n">group</span> <span class="o">=</span> <span class="n">Group</span><span class="p">(</span><span class="s2">&quot;-x,-y,-z; -x,y,-z; x,-y,z&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Group axioms fulfilled:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;  1. Closure: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">group</span><span class="o">.</span><span class="n">fulfillsAxiom</span><span class="p">(</span><span class="n">GroupAxiom</span><span class="o">.</span><span class="n">Closure</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;  2. Associativity: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">group</span><span class="o">.</span><span class="n">fulfillsAxiom</span><span class="p">(</span><span class="n">GroupAxiom</span><span class="o">.</span><span class="n">Associativity</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;  3. Identity: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">group</span><span class="o">.</span><span class="n">fulfillsAxiom</span><span class="p">(</span><span class="n">GroupAxiom</span><span class="o">.</span><span class="n">Identity</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;  4. Inversion: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">group</span><span class="o">.</span><span class="n">fulfillsAxiom</span><span class="p">(</span><span class="n">GroupAxiom</span><span class="o">.</span><span class="n">Inversion</span><span class="p">)))</span>
</pre></div>
</div>
<p>In contrast to removing the inversion, the group now also lacks an identity element:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Group axioms fulfilled:
  1. Closure: False
  2. Associativity: True
  3. Identity: False
  4. Inversion: True
</pre></div>
</div>
<p>Using these specific checks can be helpful for finding out why a certain set of symmetry operations is not a group.</p>
<p>Some groups are so called cyclic groups, all elements of the group can be expressed as powers of one symmetry operation (which are explained above) from 0 to <span class="math notranslate nohighlight">\(k-1\)</span>, where <cite>k</cite> is the order of the operation. The group with elements <span class="math notranslate nohighlight">\(1\)</span> and <span class="math notranslate nohighlight">\(2\)</span> is an example for such a cyclic group, it can be expressed as <span class="math notranslate nohighlight">\(2^0 = 1\)</span> and <span class="math notranslate nohighlight">\(2^1 = 2\)</span>.</p>
<p>Just like in the case of symmetry operations, it’s also possible to define a binary operation that combines two groups. For this, each symmetry operation of the first group is multiplied with each symmetry operation of the second group. If the resulting new set of operations fulfills the group axioms, the product of the two groups is again a group.</p>
<p>These general group concepts are available in the C++ library of Mantid and are described in the API documentation (<a class="reference external" href="http://doxygen.mantidproject.org/nightly/d4/d82/classMantid_1_1Geometry_1_1SymmetryOperation.html">Mantid::Geometry::SymmetryOperation</a>, <a class="reference external" href="http://doxygen.mantidproject.org/nightly/df/d22/classMantid_1_1Geometry_1_1SymmetryElement.html">Mantid::Geometry::SymmetryElement</a>, <a class="reference external" href="http://doxygen.mantidproject.org/nightly/d3/d80/classMantid_1_1Geometry_1_1Group.html">Mantid::Geometry::Group</a>). The most important specializations of symmetry groups implemented in Mantid are point- and space groups. They are explained in an additional <a class="reference internal" href="PointAndSpaceGroups.html#point-and-space-groups"><span class="std std-ref">document</span></a>.</p>
<div role="list" class="citation-list">
<div class="citation" id="id5" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">Groups</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="http://en.wikipedia.org/wiki/Group_%28mathematics%29#Definition">Wikipedia article on groups</a>. Can be found in different formulations in various places such as <a class="reference external" href="http://mathworld.wolfram.com/Group.html">Wolfram MathWorld</a>.</p>
</div>
<div class="citation" id="itasymmetry" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id3">ITASymmetry</a><span class="fn-bracket">]</span></span>
<p>International Tables for Crystallography (2006). Vol. A, part 11, p. 810 (chapters <a class="reference external" href="http://it.iucr.org/Ab/ch11o1v0001/">11.1</a> and <a class="reference external" href="http://it.iucr.org/Ab/ch11o2v0001/">11.2</a>).</p>
</div>
</div>
<p><strong>Category</strong>: <a class="reference external" href="../api/python/mantid/api/categories/Concepts.html">Concepts</a></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="SharedPointer.html" title="Previous Chapter: Shared Pointer"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Shared Pointer</span>
    </a>
  </li>
  <li>
    <a href="TableWorkspaces.html" title="Next Chapter: Table Workspaces"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Table Workspaces &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>