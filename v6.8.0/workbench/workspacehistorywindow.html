<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Workspace History Window</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Workspace Toolbox" href="workspacetreewidget.html" />
    <link rel="prev" title="Workspace Calculator" href="workspacecalculator.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.8</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://www.mantidproject.org">Home</a></li>
                <li><a href="https://download.mantidproject.org">Download</a></li>
                <li><a href="https://docs.mantidproject.org">Documentation</a></li>
                <li><a href="https://www.mantidproject.org/contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Workbench</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">Workspace History Window</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="workspace-history-window">
<span id="workbenchworkspacehistorywindow"></span><h1>Workspace History Window<a class="headerlink" href="#workspace-history-window" title="Permalink to this heading">¶</a></h1>
<p>This window displays the algorithm history attached to a selected workspace. The window is accessed by right clicking
the workspace name in the <a class="reference internal" href="workspacetreewidget.html#workbenchworkspacetoolbox"><span class="std std-ref">Workspace Toolbox</span></a> and selecting “Show History”.</p>
<figure class="align-center">
<img alt="../_images/WorkspaceHistoryWindowLabelled.png" src="../_images/WorkspaceHistoryWindowLabelled.png" />
</figure>
<section id="algorithms">
<h2>Algorithms<a class="headerlink" href="#algorithms" title="Permalink to this heading">¶</a></h2>
<p>The algorithms box displays the list of algorithms, in order, as they were executed on the workspace. Some types of
algorithms, known as workflow algorithms, also record the algorithms they use internally. These algorithms are initially
displayed having just the parent algorithm in the list but with an option to expand the tree next to the item. Clicking
this item displays an indented list of the child algorithms used by this step.</p>
<p>The “Unroll” check box will also appear next to workflow algorithms. This option is used in conjunction with the options
in the scripting section.</p>
</section>
<section id="properties">
<h2>Properties<a class="headerlink" href="#properties" title="Permalink to this heading">¶</a></h2>
<p>Clicking on an algorithm from the algorithms box updates the “Properties” tree with the values of the inputs and outputs
captured when the algorithm was executed.</p>
</section>
<section id="environment">
<h2>Environment<a class="headerlink" href="#environment" title="Permalink to this heading">¶</a></h2>
<p>This section displays information regarding the execution data and duration of an algorithm when highlighted in the list. It also
displays a information regarding the OS and version of mantid used to execute the algorithm.</p>
</section>
<section id="scripting">
<h2>Scripting<a class="headerlink" href="#scripting" title="Permalink to this heading">¶</a></h2>
<p>The scripting section allows a Python script to be generated from the history of the workspace. “Script To File” will request
a name and directory for where to save the script whereas “Script to Clipboard” will copy the script to the system clipboard.</p>
<p>When generating the script there are several options undre “Algorithm Versions” that control how the calls to algorithms will
look in the generated script:</p>
<ul class="simple">
<li><p><em>Only specify Old Versions</em>: will cause a <code class="docutils literal notranslate"><span class="pre">Version=</span></code> argument to be given when calling an algorithm in the cases where the
version of the algorithm executed is older than the current highest version</p></li>
<li><p><em>Never Specify Versions</em>: will not append any <code class="docutils literal notranslate"><span class="pre">Version=</span></code> arguments in any algorithm calls in the script</p></li>
<li><p><em>Always Specify Versions</em>: will specify a <code class="docutils literal notranslate"><span class="pre">Version=</span></code> argument for each algorithm call in the generated script with the version
to match the version that was executed in the history.</p></li>
</ul>
<section id="unrolling">
<h3>Unrolling<a class="headerlink" href="#unrolling" title="Permalink to this heading">¶</a></h3>
<p>When a workflow algorithm appears in the history the user is offered a check box next to the algorithm within the list box that is
marked <code class="docutils literal notranslate"><span class="pre">Unroll</span></code>. Checking this box and clicking either of the “Script to…” options will the cause the generated script to
display the list of child algorithms rather than a single call to the parent algorithm. For example, in the case of the example
in the screen shot above, the generated scripts would produce</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Load</span><span class="p">(</span><span class="n">Filename</span><span class="o">=</span><span class="s1">&#39;/tmp/data/CNCS_23936_event.nxs+/tmp/data/CNCS_23937_event.nxs&#39;</span><span class="p">,</span> <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;sum&#39;</span><span class="p">)</span>
<span class="n">DgsReduction</span><span class="p">(</span><span class="n">SampleInputWorkspace</span><span class="o">=</span><span class="s1">&#39;sum&#39;</span><span class="p">,</span> <span class="n">EnergyTransferRange</span><span class="o">=</span><span class="s1">&#39;-0.2,0.05,2.2&#39;</span><span class="p">,</span> <span class="n">GroupingFile</span><span class="o">=</span><span class="s1">&#39;CNCS_powder_group.xml&#39;</span><span class="p">,</span> <span class="n">IncidentBeamNormalisation</span><span class="o">=</span><span class="s1">&#39;ByCurrent&#39;</span><span class="p">,</span> <span class="n">TimeIndepBackgroundSub</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">TibTofRangeStart</span><span class="o">=</span><span class="mf">42648.741698242302</span><span class="p">,</span> <span class="n">TibTofRangeEnd</span><span class="o">=</span><span class="mf">45048.741698242302</span><span class="p">,</span> <span class="n">DetectorVanadiumInputFile</span><span class="o">=</span><span class="s1">&#39;/home/dmn58364/Code/mantidproject/mantid/builds/debug/ExternalData/Testing/Data/SystemTest/CNCS_51936_event.nxs&#39;</span><span class="p">,</span> <span class="n">SaveProcessedDetVan</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">SaveProcDetVanFilename</span><span class="o">=</span><span class="s1">&#39;/home/dmn58364/Code/mantidproject/mantid/builds/debug/van.nx5&#39;</span><span class="p">,</span> <span class="n">UseBoundsForDetVan</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">DetVanIntRangeLow</span><span class="o">=</span><span class="mi">52000</span><span class="p">,</span> <span class="n">DetVanIntRangeHigh</span><span class="o">=</span><span class="mi">53000</span><span class="p">,</span> <span class="n">DetVanIntRangeUnits</span><span class="o">=</span><span class="s1">&#39;TOF&#39;</span><span class="p">,</span> <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;reduced&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>when <code class="docutils literal notranslate"><span class="pre">Unroll</span></code> is not checked and</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Load</span><span class="p">(</span><span class="n">Filename</span><span class="o">=</span><span class="s1">&#39;tmp/data/CNCS_23936_event.nxs+/tmp/data/CNCS_23937_event.nxs&#39;</span><span class="p">,</span> <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;sum&#39;</span><span class="p">)</span>

<span class="c1"># Child algorithms of DgsReduction</span>
<span class="n">LoadDetectorsGroupingFile</span><span class="p">(</span><span class="n">InputFile</span><span class="o">=</span><span class="s1">&#39;CNCS_powder_group.xml&#39;</span><span class="p">,</span> <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;__TMP0x1643e400&#39;</span><span class="p">)</span>
<span class="n">Load</span><span class="p">(</span><span class="n">Filename</span><span class="o">=</span><span class="s1">&#39;/tmp/data/CNCS_51936_event.nxs&#39;</span><span class="p">,</span> <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;__TMP0x105f1000&#39;</span><span class="p">)</span>
<span class="n">AddSampleLog</span><span class="p">(</span><span class="n">Workspace</span><span class="o">=</span><span class="s1">&#39;__TMP0x105f1000&#39;</span><span class="p">,</span> <span class="n">LogName</span><span class="o">=</span><span class="s1">&#39;Filename&#39;</span><span class="p">,</span> <span class="n">LogText</span><span class="o">=</span><span class="s1">&#39;/tmp/data/CNCS_51936_event.nxs&#39;</span><span class="p">)</span>
<span class="n">DgsDiagnose</span><span class="p">(</span><span class="n">DetVanWorkspace</span><span class="o">=</span><span class="s1">&#39;__TMP0x105f1000&#39;</span><span class="p">,</span> <span class="n">SampleWorkspace</span><span class="o">=</span><span class="s1">&#39;sum&#39;</span><span class="p">,</span> <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;__TMP0x19148d20&#39;</span><span class="p">)</span>
<span class="n">DgsProcessDetectorVanadium</span><span class="p">(</span><span class="n">InputWorkspace</span><span class="o">=</span><span class="s1">&#39;__TMP0x105f1000&#39;</span><span class="p">,</span> <span class="n">MaskWorkspace</span><span class="o">=</span><span class="s1">&#39;__TMP0x19148d20&#39;</span><span class="p">,</span> <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;__TMP0xde82400&#39;</span><span class="p">)</span>
<span class="n">DgsConvertToEnergyTransfer</span><span class="p">(</span><span class="n">InputWorkspace</span><span class="o">=</span><span class="s1">&#39;sum&#39;</span><span class="p">,</span> <span class="n">IntegratedDetectorVanadium</span><span class="o">=</span><span class="s1">&#39;__TMP0xde82400&#39;</span><span class="p">,</span> <span class="n">MaskWorkspace</span><span class="o">=</span><span class="s1">&#39;__TMP0x19148d20&#39;</span><span class="p">,</span> <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;reduced&#39;</span><span class="p">,</span> <span class="n">OutputTibWorkspace</span><span class="o">=</span><span class="s1">&#39;__TMP0x628bf400&#39;</span><span class="p">)</span>
<span class="c1"># End of child algorithms of DgsReduction</span>
</pre></div>
</div>
<p>when <code class="docutils literal notranslate"><span class="pre">Unroll</span></code> is checked. Please note that the exact values of some of the workspace inputs will not match exactly when run on your
own machine. This is expected.</p>
</section>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="workspacecalculator.html" title="Previous Chapter: Workspace Calculator"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Workspace Calculator</span>
    </a>
  </li>
  <li>
    <a href="workspacetreewidget.html" title="Next Chapter: Workspace Toolbox"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Workspace Toolbox &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>