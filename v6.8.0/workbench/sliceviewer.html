<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Sliceviewer</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Workbench’s smaller features" href="smallerfeatures.html" />
    <link rel="prev" title="Settings" href="settings.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.8</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://www.mantidproject.org">Home</a></li>
                <li><a href="https://download.mantidproject.org">Download</a></li>
                <li><a href="https://docs.mantidproject.org">Documentation</a></li>
                <li><a href="https://www.mantidproject.org/contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Workbench</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">Sliceviewer</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="sliceviewer">
<span id="id1"></span><h1>Sliceviewer<a class="headerlink" href="#sliceviewer" title="Permalink to this heading">¶</a></h1>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#overview" id="id2">Overview</a></p></li>
<li><p><a class="reference internal" href="#peaksworkspace-overlay" id="id3">PeaksWorkspace Overlay</a></p>
<ul>
<li><p><a class="reference internal" href="#adding-or-removing-peaks" id="id4">Adding or removing peaks</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#non-orthogonal-axes-view" id="id5">Non-Orthogonal Axes View</a></p></li>
<li><p><a class="reference internal" href="#roi-preview-extraction" id="id6">ROI Preview &amp; Extraction</a></p></li>
<li><p><a class="reference internal" href="#non-axis-aligned-cutting-tool" id="id7">Non-axis aligned cutting tool</a></p></li>
<li><p><a class="reference internal" href="#cursor-information-widget" id="id8">Cursor Information Widget</a></p></li>
<li><p><a class="reference internal" href="#colorbar-autoscaling" id="id9">Colorbar Autoscaling</a></p></li>
</ul>
</nav>
<section id="overview">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Overview</a><a class="headerlink" href="#overview" title="Permalink to this heading">¶</a></h2>
<figure class="align-center">
<img alt="../_images/wb-sliceviewer51-roi.png" class="screenshot" src="../_images/wb-sliceviewer51-roi.png" />
</figure>
<p>The Sliceviewer is a viewer supporting <a class="reference internal" href="../concepts/MDWorkspace.html#mdworkspace"><span class="std std-ref">MDEventWorkspace</span></a>, <a class="reference internal" href="../concepts/MDWorkspace.html#mdworkspace"><span class="std std-ref">MDHistoWorkspace</span></a> &amp; <a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">Matrix Workspace</span></a>.
For multi-dimensional workspaces, you can view both MDWorkspaces and MDHistoWorkspaces, a 2D “slice” of the higher dimensional space
is shown, whereas a MarixWorkspace simply shows the 2 defined dimensions.</p>
<p>Some of the key features of the Sliceviewer provided are:</p>
<ul class="simple">
<li><p>Overlay of peaks workspaces</p></li>
<li><p>Non-orthogonal axes view mode, including peaks workspace overlays</p></li>
<li><p>ROI preview and extraction</p></li>
<li><p>Non-axis aligned cutting tool</p></li>
<li><p>Cursor information widget that, for a MatrixWorkspace, includes quantities such as <span class="math notranslate nohighlight">\(l1, l2, 2\theta\)</span> etc</p></li>
<li><p>Arrow keys can now be used to move the cursor a pixel at a time when single-pixel line plots are enabled</p></li>
</ul>
<p>The following sections illustrate some of these key features.</p>
</section>
<section id="peaksworkspace-overlay">
<span id="sliceviewer-peaks-overlay"></span><h2><a class="toc-backref" href="#id3" role="doc-backlink">PeaksWorkspace Overlay</a><a class="headerlink" href="#peaksworkspace-overlay" title="Permalink to this heading">¶</a></h2>
<p>The peaks overlay button allows selection of one or more PeaksWorkspaces to display on top of the main data image.
This is only enabled for MD workspaces.</p>
<figure class="align-center">
<img alt="../_images/wb-sliceviewer51-peaksbutton.png" class="screenshot" src="../_images/wb-sliceviewer51-peaksbutton.png" />
</figure>
<p>Peaks are displayed at the locations defined by each peak center
with an ‘x’, while optionally displaying any peak shape if a given peak has
been integrated.</p>
<figure class="align-center">
<a class="screenshot reference internal image-reference" href="../_images/wb-sliceviewer52-peaksoverlay.png"><img alt="../_images/wb-sliceviewer52-peaksoverlay.png" class="screenshot" src="../_images/wb-sliceviewer52-peaksoverlay.png" style="width: 75%;" /></a>
</figure>
<section id="adding-or-removing-peaks">
<span id="sliceviewer-peak-actions"></span><h3><a class="toc-backref" href="#id4" role="doc-backlink">Adding or removing peaks</a><a class="headerlink" href="#adding-or-removing-peaks" title="Permalink to this heading">¶</a></h3>
<p>Peaks can be added or removed from an overlayed peaks workspace by
selecting the desired peaks workspace from the drop down box (1) and
selecting either <code class="docutils literal notranslate"><span class="pre">Add</span> <span class="pre">Peaks</span></code> or <code class="docutils literal notranslate"><span class="pre">Remove</span> <span class="pre">Peaks</span></code> (2), then clicking
on the plot (3).</p>
<figure class="align-center">
<a class="screenshot reference internal image-reference" href="../_images/wb-sliceviewer52-peaks-actions.png"><img alt="../_images/wb-sliceviewer52-peaks-actions.png" class="screenshot" src="../_images/wb-sliceviewer52-peaks-actions.png" style="width: 75%;" /></a>
</figure>
<p>When adding peaks the position selected with the mouse click and the
sliders are used, along with the MD Frame (Q_lab, Q_sample, HKL) to
create and add a peak to the seleceted peaks workspace. If units are
HKL then the peaks workspace requires an orientated lattice to be
defined on it, one can be copied from the data workspace with
<a class="reference internal" href="../algorithms/CopySample-v1.html#algm-copysample"><span class="std std-ref">CopySample</span></a> or can be set with <a class="reference internal" href="../algorithms/SetUB-v1.html#algm-setub"><span class="std std-ref">SetUB</span></a>..</p>
<p>When removing peaks, the closest peak to the position selected will be
removed from the peaks workspace, regardless of whether it is plotted
or not.</p>
</section>
</section>
<section id="non-orthogonal-axes-view">
<span id="sliceviewer-nonortho"></span><h2><a class="toc-backref" href="#id5" role="doc-backlink">Non-Orthogonal Axes View</a><a class="headerlink" href="#non-orthogonal-axes-view" title="Permalink to this heading">¶</a></h2>
<p>If the units of an MDWorkspace are HKL and the workspace has an attached
UB matrix then the option to display the image using axes aligned with the
crystal (so-called non-orthogonal view) will be now be visible:</p>
<figure class="align-center">
<img alt="../_images/wb-sliceviewer51-nonorthobutton.png" class="screenshot" src="../_images/wb-sliceviewer51-nonorthobutton.png" />
</figure>
<p>Activating this option transforms the axes taking into account the lattice
angles encoded by the UB matrix:</p>
<figure class="align-center">
<a class="screenshot reference internal image-reference" href="../_images/wb-sliceviewer51-nonorthogonal.png"><img alt="../_images/wb-sliceviewer51-nonorthogonal.png" class="screenshot" src="../_images/wb-sliceviewer51-nonorthogonal.png" style="width: 75%;" /></a>
</figure>
</section>
<section id="roi-preview-extraction">
<span id="sliceviewer-roi"></span><h2><a class="toc-backref" href="#id6" role="doc-backlink">ROI Preview &amp; Extraction</a><a class="headerlink" href="#roi-preview-extraction" title="Permalink to this heading">¶</a></h2>
<p>In addition to the single-pixel line plots that were present in the previous release,
a new tool to allow selection of a rectangular region of interest has been added:</p>
<figure class="align-center">
<img alt="../_images/wb-sliceviewer51-roibutton.png" class="screenshot" src="../_images/wb-sliceviewer51-roibutton.png" />
</figure>
<p>Selecting this tool enables the line plots attached to the image axes but instead of
the line plots being the sum over a single pixel in the orthogonal direction the sum
is now limited to the selected region:</p>
<figure class="align-center">
<a class="screenshot reference internal image-reference" href="../_images/wb-sliceviewer51-roi.png"><img alt="../_images/wb-sliceviewer51-roi.png" class="screenshot" src="../_images/wb-sliceviewer51-roi.png" style="width: 75%;" /></a>
</figure>
<p>A new status bar has been added at the bottom to indicate that the cuts can be extracted
to separate workspaces by using the relevant keys. Similar keys and status information is
presented in the single-pixel line plots mode.</p>
</section>
<section id="non-axis-aligned-cutting-tool">
<span id="sliceviewer-nonaxiscuts"></span><h2><a class="toc-backref" href="#id7" role="doc-backlink">Non-axis aligned cutting tool</a><a class="headerlink" href="#non-axis-aligned-cutting-tool" title="Permalink to this heading">¶</a></h2>
<p>The cut viewer tool allows the user to interactively make arbitrary 1D cuts to 2D slices of MD workspaces
with 3 Q-dimensions. The cut viewer tool consists of a pane on the right with a table and the 1D plot of the
chosen cut. The table stores the vectors defining the cut (u1 and u2 in the plane of the slice and u3 out of
plane), start, stop, nbins and step size. A representation of the cut is plotted on the slice
with end points and centre that can be dragged and an adjustable thickness, which will automatically update the values
in the table.</p>
<figure class="align-center">
<a class="screenshot reference internal image-reference" href="../_images/SliceViewer_CutViewer.png"><img alt="../_images/SliceViewer_CutViewer.png" class="screenshot" src="../_images/SliceViewer_CutViewer.png" style="width: 75%;" /></a>
</figure>
<p>Note at present this tool cannot be used for workspaces that contain non-Q dimensions.</p>
</section>
<section id="cursor-information-widget">
<span id="sliceviewer-cursor"></span><h2><a class="toc-backref" href="#id8" role="doc-backlink">Cursor Information Widget</a><a class="headerlink" href="#cursor-information-widget" title="Permalink to this heading">¶</a></h2>
<p>The revamped Sliceviewer has merged several features from the SpectrumViewer
in MantidPlot. One of these new features is the ability to show information
regarding a given pixel as the mouse cursor moves of the image. The new table
shows the following quantities for a MatrixWorkspace:</p>
<ul class="simple">
<li><p>Signal</p></li>
<li><p>Spectrum Number</p></li>
<li><p>Detector ID</p></li>
<li><p>Two Theta</p></li>
<li><p>Azimuthal angle</p></li>
<li><p>Time-of-flight</p></li>
<li><p>Wavelength</p></li>
<li><p>Energy</p></li>
<li><p>dSpacing</p></li>
<li><p>|Q|</p></li>
</ul>
<figure class="align-center">
<a class="screenshot reference internal image-reference" href="../_images/wb-sliceviewer51-cursorinfo-matrix.png"><img alt="../_images/wb-sliceviewer51-cursorinfo-matrix.png" class="screenshot" src="../_images/wb-sliceviewer51-cursorinfo-matrix.png" style="width: 75%;" /></a>
</figure>
<p>and for an MDWorkspace:</p>
<ul class="simple">
<li><p>Signal</p></li>
<li><p>x</p></li>
<li><p>y</p></li>
<li><p>H, K, L (if workspace has HKL coordinates)</p></li>
</ul>
<figure class="align-center">
<a class="screenshot reference internal image-reference" href="../_images/wb-sliceviewer51-cursorinfo-md.png"><img alt="../_images/wb-sliceviewer51-cursorinfo-md.png" class="screenshot" src="../_images/wb-sliceviewer51-cursorinfo-md.png" style="width: 75%;" /></a>
</figure>
<p>Underneath the cursor there is a checkbox labelled <code class="docutils literal notranslate"><span class="pre">Track</span> <span class="pre">Cursor</span></code>.
When checked, the information in the table is updated as the cursor moves
around the image. If unchecked, the information within the table is updated
only when the left-mouse button is clicked within the image.</p>
</section>
<section id="colorbar-autoscaling">
<h2><a class="toc-backref" href="#id9" role="doc-backlink">Colorbar Autoscaling</a><a class="headerlink" href="#colorbar-autoscaling" title="Permalink to this heading">¶</a></h2>
<p>Autoscaling options allow the colorbar limits to automatically be updated.
There are several options to help “quickly” re-scale the limits.
Some of the options are based on several statistical methods for determining outliers.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Lower-Limit</p></th>
<th class="head"><p>Upper-Limit</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Min/Max</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">min</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">max</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>3-Sigma</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ave</span> <span class="pre">-</span> <span class="pre">3</span> <span class="pre">x</span> <span class="pre">std</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ave</span> <span class="pre">+</span> <span class="pre">3</span> <span class="pre">x</span> <span class="pre">std</span></code></p></td>
</tr>
<tr class="row-even"><td><p>1.5-Interquartile Range</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Q1</span> <span class="pre">-</span> <span class="pre">1.5</span> <span class="pre">x</span> <span class="pre">IQR</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Q3</span> <span class="pre">+</span> <span class="pre">1.5</span> <span class="pre">x</span> <span class="pre">IQR</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>1.5-Median Absolute Deviation</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">med</span> <span class="pre">-</span> <span class="pre">1.5</span> <span class="pre">x</span> <span class="pre">mad</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">med</span> <span class="pre">+</span> <span class="pre">1.5</span> <span class="pre">x</span> <span class="pre">mad</span></code></p></td>
</tr>
</tbody>
</table>
<figure class="align-center">
<a class="screenshot reference internal image-reference" href="../_images/wb-sliceviewer67-colorbar.png"><img alt="../_images/wb-sliceviewer67-colorbar.png" class="screenshot" src="../_images/wb-sliceviewer67-colorbar.png" style="width: 20%;" /></a>
</figure>
<dl class="simple">
<dt>The abbreviations are listed as follows:</dt><dd><ul class="simple">
<li><p>min = minimum</p></li>
<li><p>max = maximum</p></li>
<li><p>ave = average (or mean)</p></li>
<li><p>std = standard deviation</p></li>
<li><p>Q1  = 1st quartile (or 25th-percentile)</p></li>
<li><p>Q3  = 3rd quartile (or 75th-percentile)</p></li>
<li><p>IQR = interquartile range</p></li>
<li><p>med = median (or 2nd quartile or 50th-percentile)</p></li>
<li><p>mad = median absolute deviation</p></li>
</ul>
</dd>
</dl>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="settings.html" title="Previous Chapter: Settings"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Settings</span>
    </a>
  </li>
  <li>
    <a href="smallerfeatures.html" title="Next Chapter: Workbench’s smaller features"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Workbench’s s... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>