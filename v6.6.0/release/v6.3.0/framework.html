<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Framework Changes</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Indirect Geometry Changes" href="indirect_geometry.html" />
    <link rel="prev" title="Direct Geometry Changes" href="direct_geometry.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.6</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://docs.mantidproject.org/nightly/">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="../index.html" >Release Notes</a> &#187;</li>
          
            <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">Mantid 6.3.0 Release Notes</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">Framework Changes</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="framework-changes">
<h1>Framework Changes<a class="headerlink" href="#framework-changes" title="Permalink to this heading">¶</a></h1>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#removals" id="id6">Removals</a></p></li>
<li><p><a class="reference internal" href="#algorithms" id="id7">Algorithms</a></p>
<ul>
<li><p><a class="reference internal" href="#new-features" id="id8">New Features</a></p></li>
<li><p><a class="reference internal" href="#improvements" id="id9">Improvements</a></p></li>
<li><p><a class="reference internal" href="#bugfixes" id="id10">Bugfixes</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#documentation" id="id11">Documentation</a></p>
<ul>
<li><p><a class="reference internal" href="#id1" id="id12">Improvements</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#fit-functions" id="id13">Fit Functions</a></p>
<ul>
<li><p><a class="reference internal" href="#id2" id="id14">New Features</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#fitting" id="id15">Fitting</a></p>
<ul>
<li><p><a class="reference internal" href="#id3" id="id16">Bugfixes</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#geometry" id="id17">Geometry</a></p>
<ul>
<li><p><a class="reference internal" href="#id4" id="id18">Bugfixes</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#python" id="id19">Python</a></p>
<ul>
<li><p><a class="reference internal" href="#id5" id="id20">New features</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#mantidworkbench" id="id21">MantidWorkbench</a></p></li>
</ul>
</nav>
<section id="removals">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">Removals</a><a class="headerlink" href="#removals" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>Both <code class="docutils literal notranslate"><span class="pre">RemoteAlgorithms</span></code> and <code class="docutils literal notranslate"><span class="pre">RemoteJobManagers</span></code> subpackages have been removed due to lack of use since v3.7.</p></li>
</ul>
</section>
<section id="algorithms">
<h2><a class="toc-backref" href="#id7" role="doc-backlink">Algorithms</a><a class="headerlink" href="#algorithms" title="Permalink to this heading">¶</a></h2>
<section id="new-features">
<h3><a class="toc-backref" href="#id8" role="doc-backlink">New Features</a><a class="headerlink" href="#new-features" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Introduced a naming convention for <code class="docutils literal notranslate"><span class="pre">algorithms</span></code>, and <code class="docutils literal notranslate"><span class="pre">deprecated</span> <span class="pre">aliases</span></code> as the preferred method for renaming a C++ or Python algorithms.</p></li>
<li><p>Enabled deprecation of Python algorithms; instructions on how to deprecate a C++ or Python algorithm are available in the developer documentation.</p></li>
<li><p>Improvement for the Liquids Reflectometer at SNS. Added functionality to the <a class="reference internal" href="../../algorithms/LRReflectivityOutput-v1.html#algm-lrreflectivityoutput"><span class="std std-ref">LRReflectivityOutput</span></a> algorithm to automatically compute the Q resolution from the data. An option has been added to the <a class="reference internal" href="../../algorithms/LRAutoReduction-v1.html#algm-lrautoreduction"><span class="std std-ref">LRAutoReduction</span></a> algorithm to switch this feature on and off.</p></li>
<li><p>Added a <a class="reference internal" href="../../fitting/fitfunctions/PowerLaw.html#func-powerlaw"><span class="std std-ref">Power Law</span></a> function to General Fit Functions.</p></li>
</ul>
</section>
<section id="improvements">
<h3><a class="toc-backref" href="#id9" role="doc-backlink">Improvements</a><a class="headerlink" href="#improvements" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>A relative error option, <code class="docutils literal notranslate"><span class="pre">ToleranceRelErr</span></code>, is now enabled for peak table workspaces in <a class="reference internal" href="../../algorithms/CompareWorkspaces-v1.html#algm-compareworkspaces"><span class="std std-ref">CompareWorkspaces</span></a>.</p></li>
<li><p>Added the option <code class="docutils literal notranslate"><span class="pre">SetErrors</span></code> to <a class="reference internal" href="../../algorithms/CreateSimulationWorkspace-v1.html#algm-createsimulationworkspace"><span class="std std-ref">CreateSimulationWorkspace</span></a> algorithm to set bin errors.</p></li>
<li><p>The option <code class="docutils literal notranslate"><span class="pre">ImportanceSampling</span></code> has been added to <a class="reference internal" href="../../algorithms/DiscusMultipleScatteringCorrection-v1.html#algm-discusmultiplescatteringcorrection"><span class="std std-ref">DiscusMultipleScatteringCorrection</span></a> so that it handles spikes in the structure factor S(Q) better.</p></li>
<li><p>Added the parameter <code class="docutils literal notranslate"><span class="pre">MaxScatterPtAttempts</span></code> to <a class="reference internal" href="../../algorithms/DiscusMultipleScatteringCorrection-v1.html#algm-discusmultiplescatteringcorrection"><span class="std std-ref">DiscusMultipleScatteringCorrection</span></a> to control number of attempts to generate initial scatter point.</p></li>
<li><p><a class="reference internal" href="../../algorithms/GenerateLogbook-v1.html#algm-generatelogbook"><span class="std std-ref">GenerateLogbook</span></a> now allows to perform binary operations even when certain entries do not exist, e.g. to create a string with all polarisation orientations contained in a collection of data files.</p></li>
<li><p>Event nexuses produced at ILL can now be loaded using <a class="reference internal" href="../../algorithms/LoadEventNexus-v1.html#algm-loadeventnexus"><span class="std std-ref">LoadEventNexus</span></a>.</p></li>
<li><p><a class="reference internal" href="../../algorithms/Rebin-v1.html#algm-rebin"><span class="std std-ref">Rebin</span></a> now has an option <code class="docutils literal notranslate"><span class="pre">UseReverseLogarithmic</span></code> for binning with reverse logarithmic and inverse power bins.</p></li>
<li><p><a class="reference internal" href="../../algorithms/SaveAscii-v2.html#algm-saveascii"><span class="std std-ref">SaveAscii</span></a> and <a class="reference internal" href="../../algorithms/SaveCanSAS1D-v2.html#algm-savecansas1d"><span class="std std-ref">SaveCanSAS1D</span></a> have a new property <code class="docutils literal notranslate"><span class="pre">OneSpectrumPerFile</span></code>, controlling whether or not to save each spectrum in an individual file or all the spectra into a single file.</p></li>
<li><p><a class="reference internal" href="../../algorithms/SetSample-v1.html#algm-setsample"><span class="std std-ref">SetSample</span></a> can now load sample environment XML files from any directory using <code class="docutils literal notranslate"><span class="pre">SetSample(ws,</span> <span class="pre">Environment={'Name':</span> <span class="pre">'NameOfXMLFile',</span> <span class="pre">'Path':'/path/to/file/'})</span></code>.</p></li>
<li><p><a class="reference internal" href="../../algorithms/SetSampleFromLogs-v1.html#algm-setsamplefromlogs"><span class="std std-ref">SetSampleFromLogs</span></a> will now fail if the resulting sample shape has a volume of 0.</p></li>
</ul>
</section>
<section id="bugfixes">
<h3><a class="toc-backref" href="#id10" role="doc-backlink">Bugfixes</a><a class="headerlink" href="#bugfixes" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Fixed a bug with <a class="reference internal" href="../../algorithms/CalculatePlaczek-v1.html#algm-calculateplaczek"><span class="std std-ref">CalculatePlaczek</span></a> algorithm for computing Placzek correction factors that fixed the previously implemented formula for transforming k to e, and the summation for second order Placezek corrections.</p></li>
<li><p><a class="reference internal" href="../../algorithms/ConvertAxesToRealSpace-v1.html#algm-convertaxestorealspace"><span class="std std-ref">ConvertAxesToRealSpace</span></a> no longer crashes Mantid if using an invalid file.</p></li>
<li><p>Calculation of log binning factor in <a class="reference internal" href="../../algorithms/DiffractionFocussing-v2.html#algm-diffractionfocussing"><span class="std std-ref">DiffractionFocussing</span></a> adjusted to remove a small discrepancy between total x range before/after rebinning.</p></li>
<li><p>Fixed a bug in <a class="reference internal" href="../../algorithms/DiscusMultipleScatteringCorrection-v1.html#algm-discusmultiplescatteringcorrection"><span class="std std-ref">DiscusMultipleScatteringCorrection</span></a> where the calculation aborts with an exception due to a floating point rounding error when the track segment is close to vertical. Also fixed bug in calculation of track direction after scatter if pre-scatter track was pointing exactly down - sign of z component of new direction was incorrect.</p></li>
<li><p>Fixed a bug in <a class="reference internal" href="../../algorithms/Integration-v1.html#algm-integration"><span class="std std-ref">Integration</span></a> when using <code class="docutils literal notranslate"><span class="pre">UsePartialBinsOption</span></code> with integration limits that are either equal or close together.</p></li>
<li><p>The <a class="reference internal" href="../../algorithms/Load-v1.html#algm-load"><span class="std std-ref">Load</span></a> algorithm now reports the correct history.</p></li>
<li><p>Fixed a bug in <a class="reference internal" href="../../algorithms/LoadAndMerge-v1.html#algm-loadandmerge"><span class="std std-ref">LoadAndMerge</span></a> where <code class="docutils literal notranslate"><span class="pre">LoaderVersion</span></code> choice was previously ignored.</p></li>
<li><p>Fixed a bug in <a class="reference internal" href="../../algorithms/LoadEventNexus-v1.html#algm-loadeventnexus"><span class="std std-ref">LoadEventNexus</span></a> in checking valid event ID’s and to make sure to always exclude data in <code class="docutils literal notranslate"><span class="pre">error</span></code> and <code class="docutils literal notranslate"><span class="pre">unmapped</span></code> banks.</p></li>
<li><p>Fixed a bug in <a class="reference internal" href="../../algorithms/MonteCarloAbsorption-v1.html#algm-montecarloabsorption"><span class="std std-ref">MonteCarloAbsorption</span></a>. If the algorithm was run with the Sparse Workspace feature enabled on a workspace containing spectra
that didn’t have any detectors, it failed with an error.</p></li>
<li><p>Fixed a bug in <a class="reference internal" href="../../algorithms/Integration-v1.html#algm-integration"><span class="std std-ref">Integration</span></a> when using it with a <code class="docutils literal notranslate"><span class="pre">RebinnedOutput</span></code> workspace (e.g from <a class="reference internal" href="../../algorithms/SofQWNormalisedPolygon-v1.html#algm-sofqwnormalisedpolygon"><span class="std std-ref">SofQWNormalisedPolygon</span></a>) where the output was not correctly normalised.</p></li>
<li><p>Fixed a bug in <a class="reference internal" href="../../algorithms/SaveNexus-v1.html#algm-savenexus"><span class="std std-ref">SaveNexus</span></a> - ragged workspace x-values are now saved correctly when workspace indices are supplied.</p></li>
</ul>
</section>
</section>
<section id="documentation">
<h2><a class="toc-backref" href="#id11" role="doc-backlink">Documentation</a><a class="headerlink" href="#documentation" title="Permalink to this heading">¶</a></h2>
<section id="id1">
<h3><a class="toc-backref" href="#id12" role="doc-backlink">Improvements</a><a class="headerlink" href="#id1" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>The source links at the bottom of each algorithm page no longer include the last-modified date. The dates were misleading in most cases as no meaningful
changes to the algorithm had actually occurred and could be something as simple as formatting changes. Moving forward, each algorithm will now document any significant changes of behaviour across versions in a dedicated
section within its own page.</p></li>
</ul>
</section>
</section>
<section id="fit-functions">
<h2><a class="toc-backref" href="#id13" role="doc-backlink">Fit Functions</a><a class="headerlink" href="#fit-functions" title="Permalink to this heading">¶</a></h2>
<section id="id2">
<h3><a class="toc-backref" href="#id14" role="doc-backlink">New Features</a><a class="headerlink" href="#id2" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Fixed a bug in <a class="reference internal" href="../../fitting/fitfunctions/UserFunction.html#func-userfunction"><span class="std std-ref">UserFunction</span></a> where the view would not be updated with the parameters in the formula entered.</p></li>
</ul>
</section>
</section>
<section id="fitting">
<h2><a class="toc-backref" href="#id15" role="doc-backlink">Fitting</a><a class="headerlink" href="#fitting" title="Permalink to this heading">¶</a></h2>
<section id="id3">
<h3><a class="toc-backref" href="#id16" role="doc-backlink">Bugfixes</a><a class="headerlink" href="#id3" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>The errors/confidence-bounds on a fitted curve are determined using the covariance matrix without scaling (since v6.0 the matrix was scaled by the reduced chi-squared). This change makes them consistent with the errors on the best fit parameters.</p></li>
</ul>
</section>
</section>
<section id="geometry">
<h2><a class="toc-backref" href="#id17" role="doc-backlink">Geometry</a><a class="headerlink" href="#geometry" title="Permalink to this heading">¶</a></h2>
<section id="id4">
<h3><a class="toc-backref" href="#id18" role="doc-backlink">Bugfixes</a><a class="headerlink" href="#id4" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Fixed an issue in <code class="docutils literal notranslate"><span class="pre">CSGObject</span></code> such that the intercept type is no longer tied to an arbitrary value that make Track returns unstable results.</p></li>
</ul>
</section>
</section>
<section id="python">
<h2><a class="toc-backref" href="#id19" role="doc-backlink">Python</a><a class="headerlink" href="#python" title="Permalink to this heading">¶</a></h2>
<section id="id5">
<h3><a class="toc-backref" href="#id20" role="doc-backlink">New features</a><a class="headerlink" href="#id5" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">isGroup</span></code> can now be used to determine if a workspace/table workspace is a grouped workspace object.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">createChildAlgorithm</span></code> now accepts property keyword arguments to set the child algorithm’s properties during creation:</p>
<ul>
<li><p>Existing arguments, such as <code class="docutils literal notranslate"><span class="pre">version</span></code>, <code class="docutils literal notranslate"><span class="pre">start</span></code> and <code class="docutils literal notranslate"><span class="pre">end</span> <span class="pre">progress</span></code> etc. are unaffected by this change.</p></li>
<li><p>E.g. <code class="docutils literal notranslate"><span class="pre">createChildAlgorithm(&quot;CreateSampleWorkspace&quot;,</span> <span class="pre">version=1,</span> <span class="pre">XUnit=&quot;Wavelength&quot;)</span></code>.</p></li>
</ul>
</li>
<li><p>The package on Windows now includes the <a class="reference external" href="https://pypi.org/project/euphonic/">euphonic</a> package
for calculating phonon bandstructures.</p></li>
</ul>
</section>
</section>
<section id="mantidworkbench">
<h2><a class="toc-backref" href="#id21" role="doc-backlink">MantidWorkbench</a><a class="headerlink" href="#mantidworkbench" title="Permalink to this heading">¶</a></h2>
<p>See <a class="reference internal" href="mantidworkbench.html"><span class="doc">Mantid Workbench Changes</span></a>.</p>
<p><a class="reference internal" href="index.html#v6-3-0"><span class="std std-ref">Release 6.3.0</span></a></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="direct_geometry.html" title="Previous Chapter: Direct Geometry Changes"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Direct Geomet...</span>
    </a>
  </li>
  <li>
    <a href="indirect_geometry.html" title="Next Chapter: Indirect Geometry Changes"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Indirect Geom... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>