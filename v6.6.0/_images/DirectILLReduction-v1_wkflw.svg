<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 7.1.0 (20230122.1345)
 -->
<!-- Title: DirectILLReduction Pages: 1 -->
<svg width="814pt" height="1044pt"
 viewBox="0.00 0.00 814.28 1044.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1040)">
<title>DirectILLReduction</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-1040 810.28,-1040 810.28,4 -4,4"/>
<text text-anchor="middle" x="403.14" y="-1020.8" font-family="Helvetica,sans-Serif" font-size="14.00">DirectILLReduction workflow diagram</text>
<!-- inputDiagnostics -->
<g id="node1" class="node">
<title>inputDiagnostics</title>
<ellipse fill="khaki" stroke="black" cx="580.89" cy="-922" rx="112.38" ry="18"/>
<text text-anchor="middle" x="580.89" y="-918.3" font-family="Helvetica,sans-Serif" font-size="14.00">DiagnosticsWorkspace</text>
</g>
<!-- ApplyDiagnostics -->
<g id="node11" class="node">
<title>ApplyDiagnostics</title>
<path fill="lightskyblue" stroke="black" d="M623.39,-853C623.39,-853 538.39,-853 538.39,-853 532.39,-853 526.39,-847 526.39,-841 526.39,-841 526.39,-829 526.39,-829 526.39,-823 532.39,-817 538.39,-817 538.39,-817 623.39,-817 623.39,-817 629.39,-817 635.39,-823 635.39,-829 635.39,-829 635.39,-841 635.39,-841 635.39,-847 629.39,-853 623.39,-853"/>
<text text-anchor="middle" x="580.89" y="-831.3" font-family="Helvetica,sans-Serif" font-size="14.00">Mask spectra</text>
</g>
<!-- inputDiagnostics&#45;&gt;ApplyDiagnostics -->
<g id="edge4" class="edge">
<title>inputDiagnostics&#45;&gt;ApplyDiagnostics</title>
<path fill="none" stroke="black" d="M580.89,-903.8C580.89,-892.58 580.89,-877.67 580.89,-864.69"/>
<polygon fill="black" stroke="black" points="584.39,-864.98 580.89,-854.98 577.39,-864.98 584.39,-864.98"/>
</g>
<!-- inputVana -->
<g id="node2" class="node">
<title>inputVana</title>
<ellipse fill="khaki" stroke="black" cx="354.89" cy="-835" rx="153.27" ry="18"/>
<text text-anchor="middle" x="354.89" y="-831.3" font-family="Helvetica,sans-Serif" font-size="14.00">IntegratedVanadiumWorkspace</text>
</g>
<!-- Normalize -->
<g id="node17" class="node">
<title>Normalize</title>
<path fill="lightskyblue" stroke="black" d="M372.89,-780C372.89,-780 336.89,-780 336.89,-780 330.89,-780 324.89,-774 324.89,-768 324.89,-768 324.89,-756 324.89,-756 324.89,-750 330.89,-744 336.89,-744 336.89,-744 372.89,-744 372.89,-744 378.89,-744 384.89,-750 384.89,-756 384.89,-756 384.89,-768 384.89,-768 384.89,-774 378.89,-780 372.89,-780"/>
<text text-anchor="middle" x="354.89" y="-758.3" font-family="Helvetica,sans-Serif" font-size="14.00">Divide</text>
</g>
<!-- inputVana&#45;&gt;Normalize -->
<g id="edge6" class="edge">
<title>inputVana&#45;&gt;Normalize</title>
<path fill="none" stroke="black" d="M354.89,-816.81C354.89,-809.23 354.89,-800.1 354.89,-791.54"/>
<polygon fill="black" stroke="black" points="358.39,-791.54 354.89,-781.54 351.39,-791.54 358.39,-791.54"/>
</g>
<!-- inputWS -->
<g id="node3" class="node">
<title>inputWS</title>
<ellipse fill="khaki" stroke="black" cx="205.89" cy="-995" rx="84.49" ry="18"/>
<text text-anchor="middle" x="205.89" y="-991.3" font-family="Helvetica,sans-Serif" font-size="14.00">InputWorkspace</text>
</g>
<!-- inputDiagnosticsGiven -->
<g id="node9" class="node">
<title>inputDiagnosticsGiven</title>
<polygon fill="limegreen" stroke="black" points="205.89,-940 0.11,-922 205.89,-904 411.67,-922 205.89,-940"/>
<text text-anchor="middle" x="205.89" y="-918.3" font-family="Helvetica,sans-Serif" font-size="14.00">DiagnosticsWorkspace given?</text>
</g>
<!-- inputWS&#45;&gt;inputDiagnosticsGiven -->
<g id="edge1" class="edge">
<title>inputWS&#45;&gt;inputDiagnosticsGiven</title>
<path fill="none" stroke="black" d="M205.89,-976.81C205.89,-969.23 205.89,-960.1 205.89,-951.54"/>
<polygon fill="black" stroke="black" points="209.39,-951.54 205.89,-941.54 202.39,-951.54 209.39,-951.54"/>
</g>
<!-- outputWS -->
<g id="node4" class="node">
<title>outputWS</title>
<ellipse fill="khaki" stroke="black" cx="704.89" cy="-18" rx="92.08" ry="18"/>
<text text-anchor="middle" x="704.89" y="-14.3" font-family="Helvetica,sans-Serif" font-size="14.00">OutputWorkspace</text>
</g>
<!-- outputOptionalWS -->
<g id="node5" class="node">
<title>outputOptionalWS</title>
<ellipse fill="khaki" stroke="black" cx="423.89" cy="-91" rx="164.37" ry="18"/>
<text text-anchor="middle" x="423.89" y="-87.3" font-family="Helvetica,sans-Serif" font-size="14.00">OutputSofThetaEnergyWorkspace</text>
</g>
<!-- qBinParams -->
<g id="node6" class="node">
<title>qBinParams</title>
<ellipse fill="khaki" stroke="black" cx="704.89" cy="-164" rx="101.28" ry="18"/>
<text text-anchor="middle" x="704.89" y="-160.3" font-family="Helvetica,sans-Serif" font-size="14.00">q rebinning settings</text>
</g>
<!-- SofQW -->
<g id="node19" class="node">
<title>SofQW</title>
<path fill="lightskyblue" stroke="black" d="M791.39,-109C791.39,-109 618.39,-109 618.39,-109 612.39,-109 606.39,-103 606.39,-97 606.39,-97 606.39,-85 606.39,-85 606.39,-79 612.39,-73 618.39,-73 618.39,-73 791.39,-73 791.39,-73 797.39,-73 803.39,-79 803.39,-85 803.39,-85 803.39,-97 803.39,-97 803.39,-103 797.39,-109 791.39,-109"/>
<text text-anchor="middle" x="704.89" y="-87.3" font-family="Helvetica,sans-Serif" font-size="14.00">SofQWNormalisedPolygon</text>
</g>
<!-- qBinParams&#45;&gt;SofQW -->
<g id="edge19" class="edge">
<title>qBinParams&#45;&gt;SofQW</title>
<path fill="none" stroke="black" d="M704.89,-145.81C704.89,-138.23 704.89,-129.1 704.89,-120.54"/>
<polygon fill="black" stroke="black" points="708.39,-120.54 704.89,-110.54 701.39,-120.54 708.39,-120.54"/>
</g>
<!-- wRebinParams -->
<g id="node7" class="node">
<title>wRebinParams</title>
<ellipse fill="khaki" stroke="black" cx="596.89" cy="-383" rx="128.08" ry="18"/>
<text text-anchor="middle" x="596.89" y="-379.3" font-family="Helvetica,sans-Serif" font-size="14.00">Energy rebinning settings</text>
</g>
<!-- Rebin -->
<g id="node18" class="node">
<title>Rebin</title>
<path fill="lightskyblue" stroke="black" d="M525.39,-328C525.39,-328 422.39,-328 422.39,-328 416.39,-328 410.39,-322 410.39,-316 410.39,-316 410.39,-304 410.39,-304 410.39,-298 416.39,-292 422.39,-292 422.39,-292 525.39,-292 525.39,-292 531.39,-292 537.39,-298 537.39,-304 537.39,-304 537.39,-316 537.39,-316 537.39,-322 531.39,-328 525.39,-328"/>
<text text-anchor="middle" x="473.89" y="-306.3" font-family="Helvetica,sans-Serif" font-size="14.00">Rebin in energy</text>
</g>
<!-- wRebinParams&#45;&gt;Rebin -->
<g id="edge14" class="edge">
<title>wRebinParams&#45;&gt;Rebin</title>
<path fill="none" stroke="black" d="M567.43,-364.99C551.39,-355.73 531.31,-344.15 513.88,-334.08"/>
<polygon fill="black" stroke="black" points="515.69,-331.09 505.28,-329.12 512.19,-337.15 515.69,-331.09"/>
</g>
<!-- absoluteUnitsEnabled -->
<g id="node8" class="node">
<title>absoluteUnitsEnabled</title>
<polygon fill="limegreen" stroke="black" points="354.89,-707 157.15,-689 354.89,-671 552.63,-689 354.89,-707"/>
<text text-anchor="middle" x="354.89" y="-685.3" font-family="Helvetica,sans-Serif" font-size="14.00">Normalise to absolute units?</text>
</g>
<!-- AbsoluteUnits -->
<g id="node10" class="node">
<title>AbsoluteUnits</title>
<path fill="lightskyblue" stroke="black" d="M536.89,-620C536.89,-620 386.89,-620 386.89,-620 380.89,-620 374.89,-614 374.89,-608 374.89,-608 374.89,-596 374.89,-596 374.89,-590 380.89,-584 386.89,-584 386.89,-584 536.89,-584 536.89,-584 542.89,-584 548.89,-590 548.89,-596 548.89,-596 548.89,-608 548.89,-608 548.89,-614 542.89,-620 536.89,-620"/>
<text text-anchor="middle" x="461.89" y="-598.3" font-family="Helvetica,sans-Serif" font-size="14.00">Scale to absolute units</text>
</g>
<!-- absoluteUnitsEnabled&#45;&gt;AbsoluteUnits -->
<g id="edge9" class="edge">
<title>absoluteUnitsEnabled&#45;&gt;AbsoluteUnits</title>
<path fill="none" stroke="black" d="M374.52,-672.41C390.41,-659.78 413.09,-641.77 431.35,-627.26"/>
<polygon fill="black" stroke="black" points="433.34,-630.15 439,-621.19 428.99,-624.67 433.34,-630.15"/>
<text text-anchor="middle" x="426.39" y="-641.8" font-family="Helvetica,sans-Serif" font-size="14.00">yes</text>
</g>
<!-- ConvertToEnergy -->
<g id="node13" class="node">
<title>ConvertToEnergy</title>
<path fill="lightskyblue" stroke="black" d="M456.39,-547C456.39,-547 245.39,-547 245.39,-547 239.39,-547 233.39,-541 233.39,-535 233.39,-535 233.39,-523 233.39,-523 233.39,-517 239.39,-511 245.39,-511 245.39,-511 456.39,-511 456.39,-511 462.39,-511 468.39,-517 468.39,-523 468.39,-523 468.39,-535 468.39,-535 468.39,-541 462.39,-547 456.39,-547"/>
<text text-anchor="middle" x="350.89" y="-525.3" font-family="Helvetica,sans-Serif" font-size="14.00">Convert TOF to energy transfer</text>
</g>
<!-- absoluteUnitsEnabled&#45;&gt;ConvertToEnergy -->
<g id="edge8" class="edge">
<title>absoluteUnitsEnabled&#45;&gt;ConvertToEnergy</title>
<path fill="none" stroke="black" d="M352.62,-670.71C350.93,-656.99 348.78,-637.3 347.89,-620 347.07,-604.02 347.45,-599.99 347.89,-584 348.12,-575.8 348.54,-566.91 349,-558.76"/>
<polygon fill="black" stroke="black" points="352.48,-559.2 349.58,-549.01 345.49,-558.78 352.48,-559.2"/>
<text text-anchor="middle" x="356.89" y="-598.3" font-family="Helvetica,sans-Serif" font-size="14.00">no</text>
</g>
<!-- inputDiagnosticsGiven&#45;&gt;ApplyDiagnostics -->
<g id="edge3" class="edge">
<title>inputDiagnosticsGiven&#45;&gt;ApplyDiagnostics</title>
<path fill="none" stroke="black" d="M265.69,-908.75C326.05,-896.19 422.2,-875.7 515.1,-853.38"/>
<polygon fill="black" stroke="black" points="515.75,-856.82 524.65,-851.07 514.11,-850.02 515.75,-856.82"/>
<text text-anchor="middle" x="443.39" y="-874.8" font-family="Helvetica,sans-Serif" font-size="14.00">yes</text>
</g>
<!-- inputDiagnosticsGiven&#45;&gt;Normalize -->
<g id="edge2" class="edge">
<title>inputDiagnosticsGiven&#45;&gt;Normalize</title>
<path fill="none" stroke="black" d="M192.9,-904.67C177.17,-882.78 155.1,-843.6 174.89,-817 191.44,-794.75 265.38,-778.24 313.19,-769.66"/>
<polygon fill="black" stroke="black" points="313.7,-773.12 322.95,-767.96 312.49,-766.23 313.7,-773.12"/>
<text text-anchor="middle" x="183.89" y="-831.3" font-family="Helvetica,sans-Serif" font-size="14.00">no</text>
</g>
<!-- AbsoluteUnits&#45;&gt;ConvertToEnergy -->
<g id="edge10" class="edge">
<title>AbsoluteUnits&#45;&gt;ConvertToEnergy</title>
<path fill="none" stroke="black" d="M434.74,-583.63C420.49,-574.52 402.84,-563.23 387.42,-553.36"/>
<polygon fill="black" stroke="black" points="389.73,-550.69 379.42,-548.25 385.96,-556.59 389.73,-550.69"/>
</g>
<!-- ApplyDiagnostics&#45;&gt;Normalize -->
<g id="edge5" class="edge">
<title>ApplyDiagnostics&#45;&gt;Normalize</title>
<path fill="none" stroke="black" d="M525.89,-816.72C485.75,-804.11 432.22,-787.29 395.81,-775.86"/>
<polygon fill="black" stroke="black" points="397.13,-772.6 386.54,-772.94 395.03,-779.28 397.13,-772.6"/>
</g>
<!-- ConvertToDistribution -->
<g id="node12" class="node">
<title>ConvertToDistribution</title>
<path fill="lightskyblue" stroke="black" d="M545.39,-255C545.39,-255 402.39,-255 402.39,-255 396.39,-255 390.39,-249 390.39,-243 390.39,-243 390.39,-231 390.39,-231 390.39,-225 396.39,-219 402.39,-219 402.39,-219 545.39,-219 545.39,-219 551.39,-219 557.39,-225 557.39,-231 557.39,-231 557.39,-243 557.39,-243 557.39,-249 551.39,-255 545.39,-255"/>
<text text-anchor="middle" x="473.89" y="-233.3" font-family="Helvetica,sans-Serif" font-size="14.00">ConvertToDistribution</text>
</g>
<!-- GroupDetectors -->
<g id="node16" class="node">
<title>GroupDetectors</title>
<path fill="lightskyblue" stroke="black" d="M524.39,-182C524.39,-182 423.39,-182 423.39,-182 417.39,-182 411.39,-176 411.39,-170 411.39,-170 411.39,-158 411.39,-158 411.39,-152 417.39,-146 423.39,-146 423.39,-146 524.39,-146 524.39,-146 530.39,-146 536.39,-152 536.39,-158 536.39,-158 536.39,-170 536.39,-170 536.39,-176 530.39,-182 524.39,-182"/>
<text text-anchor="middle" x="473.89" y="-160.3" font-family="Helvetica,sans-Serif" font-size="14.00">GroupDetectors</text>
</g>
<!-- ConvertToDistribution&#45;&gt;GroupDetectors -->
<g id="edge16" class="edge">
<title>ConvertToDistribution&#45;&gt;GroupDetectors</title>
<path fill="none" stroke="black" d="M473.89,-218.81C473.89,-211.23 473.89,-202.1 473.89,-193.54"/>
<polygon fill="black" stroke="black" points="477.39,-193.54 473.89,-183.54 470.39,-193.54 477.39,-193.54"/>
</g>
<!-- CorrectKiKf -->
<g id="node14" class="node">
<title>CorrectKiKf</title>
<path fill="lightskyblue" stroke="black" d="M385.89,-474C385.89,-474 315.89,-474 315.89,-474 309.89,-474 303.89,-468 303.89,-462 303.89,-462 303.89,-450 303.89,-450 303.89,-444 309.89,-438 315.89,-438 315.89,-438 385.89,-438 385.89,-438 391.89,-438 397.89,-444 397.89,-450 397.89,-450 397.89,-462 397.89,-462 397.89,-468 391.89,-474 385.89,-474"/>
<text text-anchor="middle" x="350.89" y="-452.3" font-family="Helvetica,sans-Serif" font-size="14.00">CorrectKiKf</text>
</g>
<!-- ConvertToEnergy&#45;&gt;CorrectKiKf -->
<g id="edge11" class="edge">
<title>ConvertToEnergy&#45;&gt;CorrectKiKf</title>
<path fill="none" stroke="black" d="M350.89,-510.81C350.89,-503.23 350.89,-494.1 350.89,-485.54"/>
<polygon fill="black" stroke="black" points="354.39,-485.54 350.89,-475.54 347.39,-485.54 354.39,-485.54"/>
</g>
<!-- DetectorEfficiency -->
<g id="node15" class="node">
<title>DetectorEfficiency</title>
<path fill="lightskyblue" stroke="black" d="M438.89,-401C438.89,-401 262.89,-401 262.89,-401 256.89,-401 250.89,-395 250.89,-389 250.89,-389 250.89,-377 250.89,-377 250.89,-371 256.89,-365 262.89,-365 262.89,-365 438.89,-365 438.89,-365 444.89,-365 450.89,-371 450.89,-377 450.89,-377 450.89,-389 450.89,-389 450.89,-395 444.89,-401 438.89,-401"/>
<text text-anchor="middle" x="350.89" y="-379.3" font-family="Helvetica,sans-Serif" font-size="14.00">DetectorEfficiencyCorUser</text>
</g>
<!-- CorrectKiKf&#45;&gt;DetectorEfficiency -->
<g id="edge12" class="edge">
<title>CorrectKiKf&#45;&gt;DetectorEfficiency</title>
<path fill="none" stroke="black" d="M350.89,-437.81C350.89,-430.23 350.89,-421.1 350.89,-412.54"/>
<polygon fill="black" stroke="black" points="354.39,-412.54 350.89,-402.54 347.39,-412.54 354.39,-412.54"/>
</g>
<!-- DetectorEfficiency&#45;&gt;Rebin -->
<g id="edge13" class="edge">
<title>DetectorEfficiency&#45;&gt;Rebin</title>
<path fill="none" stroke="black" d="M380.98,-364.63C396.91,-355.43 416.69,-344.02 433.9,-334.08"/>
<polygon fill="black" stroke="black" points="435.46,-337.22 442.38,-329.19 431.97,-331.16 435.46,-337.22"/>
</g>
<!-- GroupDetectors&#45;&gt;outputOptionalWS -->
<g id="edge17" class="edge">
<title>GroupDetectors&#45;&gt;outputOptionalWS</title>
<path fill="none" stroke="black" d="M461.79,-145.81C455.95,-137.53 448.83,-127.41 442.34,-118.19"/>
<polygon fill="black" stroke="black" points="445.37,-116.43 436.75,-110.27 439.65,-120.46 445.37,-116.43"/>
</g>
<!-- GroupDetectors&#45;&gt;SofQW -->
<g id="edge18" class="edge">
<title>GroupDetectors&#45;&gt;SofQW</title>
<path fill="none" stroke="black" d="M530.7,-145.54C563,-135.61 603.65,-123.12 637.55,-112.7"/>
<polygon fill="black" stroke="black" points="638.33,-116.12 646.86,-109.84 636.27,-109.43 638.33,-116.12"/>
</g>
<!-- Normalize&#45;&gt;absoluteUnitsEnabled -->
<g id="edge7" class="edge">
<title>Normalize&#45;&gt;absoluteUnitsEnabled</title>
<path fill="none" stroke="black" d="M354.89,-743.81C354.89,-736.23 354.89,-727.1 354.89,-718.54"/>
<polygon fill="black" stroke="black" points="358.39,-718.54 354.89,-708.54 351.39,-718.54 358.39,-718.54"/>
</g>
<!-- Rebin&#45;&gt;ConvertToDistribution -->
<g id="edge15" class="edge">
<title>Rebin&#45;&gt;ConvertToDistribution</title>
<path fill="none" stroke="black" d="M473.89,-291.81C473.89,-284.23 473.89,-275.1 473.89,-266.54"/>
<polygon fill="black" stroke="black" points="477.39,-266.54 473.89,-256.54 470.39,-266.54 477.39,-266.54"/>
</g>
<!-- SofQW&#45;&gt;outputWS -->
<g id="edge20" class="edge">
<title>SofQW&#45;&gt;outputWS</title>
<path fill="none" stroke="black" d="M704.89,-72.81C704.89,-65.23 704.89,-56.1 704.89,-47.54"/>
<polygon fill="black" stroke="black" points="708.39,-47.54 704.89,-37.54 701.39,-47.54 708.39,-47.54"/>
</g>
</g>
</svg>
