<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 7.1.0 (20230122.1345)
 -->
<!-- Title: TOSCABankCorrection Pages: 1 -->
<svg width="946pt" height="1083pt"
 viewBox="0.00 0.00 946.28 1083.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1079)">
<title>TOSCABankCorrection</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-1079 942.28,-1079 942.28,4 -4,4"/>
<text text-anchor="middle" x="469.14" y="-1059.8" font-family="Helvetica,sans-Serif" font-size="14.00">TOSCABankCorrection Flowchart</text>
<!-- InputWorkspace -->
<g id="node1" class="node">
<title>InputWorkspace</title>
<ellipse fill="khaki" stroke="black" cx="84.49" cy="-1034" rx="84.49" ry="18"/>
<text text-anchor="middle" x="84.49" y="-1030.3" font-family="Helvetica,sans-Serif" font-size="14.00">InputWorkspace</text>
</g>
<!-- CropWorkspace -->
<g id="node12" class="node">
<title>CropWorkspace</title>
<path fill="lightskyblue" stroke="black" d="M446.99,-965C446.99,-965 345.99,-965 345.99,-965 339.99,-965 333.99,-959 333.99,-953 333.99,-953 333.99,-941 333.99,-941 333.99,-935 339.99,-929 345.99,-929 345.99,-929 446.99,-929 446.99,-929 452.99,-929 458.99,-935 458.99,-941 458.99,-941 458.99,-953 458.99,-953 458.99,-959 452.99,-965 446.99,-965"/>
<text text-anchor="middle" x="396.49" y="-943.3" font-family="Helvetica,sans-Serif" font-size="14.00">CropWorkspace</text>
</g>
<!-- InputWorkspace&#45;&gt;CropWorkspace -->
<g id="edge1" class="edge">
<title>InputWorkspace&#45;&gt;CropWorkspace</title>
<path fill="none" stroke="black" d="M134.97,-1019.25C185.84,-1005.39 264.91,-983.85 322.79,-968.08"/>
<polygon fill="black" stroke="black" points="323.52,-971.51 332.24,-965.5 321.68,-964.76 323.52,-971.51"/>
</g>
<!-- RebinToWorkspace -->
<g id="node16" class="node">
<title>RebinToWorkspace</title>
<path fill="lightskyblue" stroke="black" d="M175.49,-297C175.49,-297 51.49,-297 51.49,-297 45.49,-297 39.49,-291 39.49,-285 39.49,-285 39.49,-273 39.49,-273 39.49,-267 45.49,-261 51.49,-261 51.49,-261 175.49,-261 175.49,-261 181.49,-261 187.49,-267 187.49,-273 187.49,-273 187.49,-285 187.49,-285 187.49,-291 181.49,-297 175.49,-297"/>
<text text-anchor="middle" x="113.49" y="-275.3" font-family="Helvetica,sans-Serif" font-size="14.00">RebinToWorkspace</text>
</g>
<!-- InputWorkspace&#45;&gt;RebinToWorkspace -->
<g id="edge19" class="edge">
<title>InputWorkspace&#45;&gt;RebinToWorkspace</title>
<path fill="none" stroke="black" d="M88.75,-1015.54C92.54,-998.44 97.49,-971.59 97.49,-948 97.49,-948 97.49,-948 97.49,-365 97.49,-345.91 101.44,-324.81 105.41,-308.42"/>
<polygon fill="black" stroke="black" points="108.77,-309.42 107.88,-298.87 101.99,-307.68 108.77,-309.42"/>
</g>
<!-- SearchRange -->
<g id="node2" class="node">
<title>SearchRange</title>
<ellipse fill="khaki" stroke="black" cx="396.49" cy="-1034" rx="70.39" ry="18"/>
<text text-anchor="middle" x="396.49" y="-1030.3" font-family="Helvetica,sans-Serif" font-size="14.00">SearchRange</text>
</g>
<!-- SearchRange&#45;&gt;CropWorkspace -->
<g id="edge2" class="edge">
<title>SearchRange&#45;&gt;CropWorkspace</title>
<path fill="none" stroke="black" d="M396.49,-1015.8C396.49,-1004.58 396.49,-989.67 396.49,-976.69"/>
<polygon fill="black" stroke="black" points="399.99,-976.98 396.49,-966.98 392.99,-976.98 399.99,-976.98"/>
<text text-anchor="middle" x="479.49" y="-986.8" font-family="Helvetica,sans-Serif" font-size="14.00">Defines XMin and XMax</text>
</g>
<!-- CroppedWorkspace -->
<g id="node3" class="node">
<title>CroppedWorkspace</title>
<ellipse fill="khaki" stroke="black" cx="536.49" cy="-860" rx="98.58" ry="18"/>
<text text-anchor="middle" x="536.49" y="-856.3" font-family="Helvetica,sans-Serif" font-size="14.00">CroppedWorkspace</text>
</g>
<!-- FindPeak -->
<g id="node13" class="node">
<title>FindPeak</title>
<path fill="lightskyblue" stroke="black" d="M376.99,-791C376.99,-791 321.99,-791 321.99,-791 315.99,-791 309.99,-785 309.99,-779 309.99,-779 309.99,-767 309.99,-767 309.99,-761 315.99,-755 321.99,-755 321.99,-755 376.99,-755 376.99,-755 382.99,-755 388.99,-761 388.99,-767 388.99,-767 388.99,-779 388.99,-779 388.99,-785 382.99,-791 376.99,-791"/>
<text text-anchor="middle" x="349.49" y="-769.3" font-family="Helvetica,sans-Serif" font-size="14.00">FindPeak</text>
</g>
<!-- CroppedWorkspace&#45;&gt;FindPeak -->
<g id="edge4" class="edge">
<title>CroppedWorkspace&#45;&gt;FindPeak</title>
<path fill="none" stroke="black" d="M500.88,-842.81C471.71,-829.56 430.16,-810.67 397.97,-796.03"/>
<polygon fill="black" stroke="black" points="399.8,-793.02 389.25,-792.07 396.9,-799.39 399.8,-793.02"/>
<text text-anchor="middle" x="544.99" y="-812.8" font-family="Helvetica,sans-Serif" font-size="14.00">Find peak in Bank 1 and 2</text>
</g>
<!-- PeakPosition -->
<g id="node4" class="node">
<title>PeakPosition</title>
<ellipse fill="khaki" stroke="black" cx="193.49" cy="-860" rx="67.69" ry="18"/>
<text text-anchor="middle" x="193.49" y="-856.3" font-family="Helvetica,sans-Serif" font-size="14.00">PeakPosition</text>
</g>
<!-- PeakPosition&#45;&gt;FindPeak -->
<g id="edge6" class="edge">
<title>PeakPosition&#45;&gt;FindPeak</title>
<path fill="none" stroke="black" d="M222.11,-843.41C246.05,-830.36 280.54,-811.57 307.6,-796.83"/>
<polygon fill="black" stroke="black" points="309.13,-799.98 316.24,-792.12 305.78,-793.83 309.13,-799.98"/>
</g>
<!-- ClosePeakTolerance -->
<g id="node5" class="node">
<title>ClosePeakTolerance</title>
<ellipse fill="khaki" stroke="black" cx="503.49" cy="-613" rx="99.38" ry="18"/>
<text text-anchor="middle" x="503.49" y="-609.3" font-family="Helvetica,sans-Serif" font-size="14.00">ClosePeakTolerance</text>
</g>
<!-- Bank1_ScaleFactor -->
<g id="node9" class="node">
<title>Bank1_ScaleFactor</title>
<ellipse fill="khaki" stroke="black" cx="419.49" cy="-526" rx="95.58" ry="18"/>
<text text-anchor="middle" x="419.49" y="-522.3" font-family="Helvetica,sans-Serif" font-size="14.00">Bank1_ScaleFactor</text>
</g>
<!-- ClosePeakTolerance&#45;&gt;Bank1_ScaleFactor -->
<g id="edge10" class="edge">
<title>ClosePeakTolerance&#45;&gt;Bank1_ScaleFactor</title>
<path fill="none" stroke="black" d="M486.49,-594.8C474.43,-582.59 458.03,-565.99 444.47,-552.28"/>
<polygon fill="black" stroke="black" points="447.05,-549.9 437.53,-545.25 442.07,-554.82 447.05,-549.9"/>
</g>
<!-- PeakFunction -->
<g id="node6" class="node">
<title>PeakFunction</title>
<ellipse fill="khaki" stroke="black" cx="349.49" cy="-860" rx="70.39" ry="18"/>
<text text-anchor="middle" x="349.49" y="-856.3" font-family="Helvetica,sans-Serif" font-size="14.00">PeakFunction</text>
</g>
<!-- PeakFunction&#45;&gt;FindPeak -->
<g id="edge5" class="edge">
<title>PeakFunction&#45;&gt;FindPeak</title>
<path fill="none" stroke="black" d="M349.49,-841.8C349.49,-830.58 349.49,-815.67 349.49,-802.69"/>
<polygon fill="black" stroke="black" points="352.99,-802.98 349.49,-792.98 345.99,-802.98 352.99,-802.98"/>
</g>
<!-- OutputWorkspace -->
<g id="node7" class="node">
<title>OutputWorkspace</title>
<ellipse fill="khaki" stroke="black" cx="113.49" cy="-18" rx="92.08" ry="18"/>
<text text-anchor="middle" x="113.49" y="-14.3" font-family="Helvetica,sans-Serif" font-size="14.00">OutputWorkspace</text>
</g>
<!-- TargetPeakCentre -->
<g id="node8" class="node">
<title>TargetPeakCentre</title>
<ellipse fill="khaki" stroke="black" cx="215.49" cy="-526" rx="90.18" ry="18"/>
<text text-anchor="middle" x="215.49" y="-522.3" font-family="Helvetica,sans-Serif" font-size="14.00">TargetPeakCentre</text>
</g>
<!-- ScaleX -->
<g id="node15" class="node">
<title>ScaleX</title>
<path fill="lightskyblue" stroke="black" d="M548.99,-457C548.99,-457 509.99,-457 509.99,-457 503.99,-457 497.99,-451 497.99,-445 497.99,-445 497.99,-433 497.99,-433 497.99,-427 503.99,-421 509.99,-421 509.99,-421 548.99,-421 548.99,-421 554.99,-421 560.99,-427 560.99,-433 560.99,-433 560.99,-445 560.99,-445 560.99,-451 554.99,-457 548.99,-457"/>
<text text-anchor="middle" x="529.49" y="-435.3" font-family="Helvetica,sans-Serif" font-size="14.00">ScaleX</text>
</g>
<!-- Bank1_ScaleFactor&#45;&gt;ScaleX -->
<g id="edge15" class="edge">
<title>Bank1_ScaleFactor&#45;&gt;ScaleX</title>
<path fill="none" stroke="black" d="M441.49,-508C457.72,-495.46 480.03,-478.22 498.13,-464.23"/>
<polygon fill="black" stroke="black" points="500.19,-467.07 505.96,-458.18 495.91,-461.53 500.19,-467.07"/>
</g>
<!-- Bank2_ScaleFactor -->
<g id="node10" class="node">
<title>Bank2_ScaleFactor</title>
<ellipse fill="khaki" stroke="black" cx="839.49" cy="-526" rx="95.58" ry="18"/>
<text text-anchor="middle" x="839.49" y="-522.3" font-family="Helvetica,sans-Serif" font-size="14.00">Bank2_ScaleFactor</text>
</g>
<!-- Bank2_ScaleFactor&#45;&gt;ScaleX -->
<g id="edge16" class="edge">
<title>Bank2_ScaleFactor&#45;&gt;ScaleX</title>
<path fill="none" stroke="black" d="M839.29,-507.59C838.18,-496.58 834.81,-482.97 825.49,-475 788.48,-443.33 645.82,-439.31 572.92,-439.4"/>
<polygon fill="black" stroke="black" points="572.92,-435.9 562.93,-439.45 572.95,-442.9 572.92,-435.9"/>
</g>
<!-- Peaks -->
<g id="node11" class="node">
<title>Peaks</title>
<ellipse fill="khaki" stroke="black" cx="349.49" cy="-613" rx="37.09" ry="18"/>
<text text-anchor="middle" x="349.49" y="-609.3" font-family="Helvetica,sans-Serif" font-size="14.00">Peaks</text>
</g>
<!-- Peaks&#45;&gt;TargetPeakCentre -->
<g id="edge9" class="edge">
<title>Peaks&#45;&gt;TargetPeakCentre</title>
<path fill="none" stroke="black" d="M327.66,-598.15C306.94,-585.01 275.41,-565.01 251.06,-549.56"/>
<polygon fill="black" stroke="black" points="253.04,-546.67 242.72,-544.27 249.29,-552.58 253.04,-546.67"/>
<text text-anchor="middle" x="315.99" y="-565.8" font-family="Helvetica,sans-Serif" font-size="14.00">Output</text>
</g>
<!-- Peaks&#45;&gt;Bank1_ScaleFactor -->
<g id="edge11" class="edge">
<title>Peaks&#45;&gt;Bank1_ScaleFactor</title>
<path fill="none" stroke="black" d="M362.66,-596.01C372.67,-583.86 386.64,-566.9 398.22,-552.83"/>
<polygon fill="black" stroke="black" points="400.81,-555.2 404.46,-545.25 395.4,-550.75 400.81,-555.2"/>
</g>
<!-- Peaks&#45;&gt;Bank2_ScaleFactor -->
<g id="edge13" class="edge">
<title>Peaks&#45;&gt;Bank2_ScaleFactor</title>
<path fill="none" stroke="black" d="M377.42,-600.64C383.32,-598.54 389.56,-596.53 395.49,-595 543.49,-556.98 584.53,-567.66 735.49,-544 742.84,-542.85 750.48,-541.63 758.12,-540.41"/>
<polygon fill="black" stroke="black" points="758.5,-543.89 767.81,-538.84 757.38,-536.98 758.5,-543.89"/>
</g>
<!-- CropWorkspace&#45;&gt;CroppedWorkspace -->
<g id="edge3" class="edge">
<title>CropWorkspace&#45;&gt;CroppedWorkspace</title>
<path fill="none" stroke="black" d="M425.16,-928.59C446.72,-915.5 476.43,-897.47 499.74,-883.32"/>
<polygon fill="black" stroke="black" points="501.26,-886.48 508,-878.3 497.63,-880.5 501.26,-886.48"/>
<text text-anchor="middle" x="617.49" y="-899.8" font-family="Helvetica,sans-Serif" font-size="14.00">Workspace containing bank 1 and 2 data</text>
</g>
<!-- SortTableWorkspace -->
<g id="node14" class="node">
<title>SortTableWorkspace</title>
<path fill="lightskyblue" stroke="black" d="M416.49,-704C416.49,-704 282.49,-704 282.49,-704 276.49,-704 270.49,-698 270.49,-692 270.49,-692 270.49,-680 270.49,-680 270.49,-674 276.49,-668 282.49,-668 282.49,-668 416.49,-668 416.49,-668 422.49,-668 428.49,-674 428.49,-680 428.49,-680 428.49,-692 428.49,-692 428.49,-698 422.49,-704 416.49,-704"/>
<text text-anchor="middle" x="349.49" y="-682.3" font-family="Helvetica,sans-Serif" font-size="14.00">SortTableWorkspace</text>
</g>
<!-- FindPeak&#45;&gt;SortTableWorkspace -->
<g id="edge7" class="edge">
<title>FindPeak&#45;&gt;SortTableWorkspace</title>
<path fill="none" stroke="black" d="M349.49,-754.8C349.49,-743.58 349.49,-728.67 349.49,-715.69"/>
<polygon fill="black" stroke="black" points="352.99,-715.98 349.49,-705.98 345.99,-715.98 352.99,-715.98"/>
<text text-anchor="middle" x="421.99" y="-725.8" font-family="Helvetica,sans-Serif" font-size="14.00">Sort peaks by height</text>
</g>
<!-- SortTableWorkspace&#45;&gt;Peaks -->
<g id="edge8" class="edge">
<title>SortTableWorkspace&#45;&gt;Peaks</title>
<path fill="none" stroke="black" d="M349.49,-667.81C349.49,-660.23 349.49,-651.1 349.49,-642.54"/>
<polygon fill="black" stroke="black" points="352.99,-642.54 349.49,-632.54 345.99,-642.54 352.99,-642.54"/>
</g>
<!-- ScaledWorkspace -->
<g id="node21" class="node">
<title>ScaledWorkspace</title>
<ellipse fill="lightgrey" stroke="black" cx="394.49" cy="-366" rx="90.18" ry="18"/>
<text text-anchor="middle" x="394.49" y="-362.3" font-family="Helvetica,sans-Serif" font-size="14.00">ScaledWorkspace</text>
</g>
<!-- ScaleX&#45;&gt;ScaledWorkspace -->
<g id="edge17" class="edge">
<title>ScaleX&#45;&gt;ScaledWorkspace</title>
<path fill="none" stroke="black" d="M497.5,-421.17C478.91,-411.4 455.29,-398.98 435.37,-388.5"/>
<polygon fill="black" stroke="black" points="437.15,-385.48 426.67,-383.92 433.89,-391.67 437.15,-385.48"/>
</g>
<!-- GroupDetectors -->
<g id="node17" class="node">
<title>GroupDetectors</title>
<path fill="lightskyblue" stroke="black" d="M163.99,-210C163.99,-210 62.99,-210 62.99,-210 56.99,-210 50.99,-204 50.99,-198 50.99,-198 50.99,-186 50.99,-186 50.99,-180 56.99,-174 62.99,-174 62.99,-174 163.99,-174 163.99,-174 169.99,-174 175.99,-180 175.99,-186 175.99,-186 175.99,-198 175.99,-198 175.99,-204 169.99,-210 163.99,-210"/>
<text text-anchor="middle" x="113.49" y="-188.3" font-family="Helvetica,sans-Serif" font-size="14.00">GroupDetectors</text>
</g>
<!-- RebinToWorkspace&#45;&gt;GroupDetectors -->
<g id="edge20" class="edge">
<title>RebinToWorkspace&#45;&gt;GroupDetectors</title>
<path fill="none" stroke="black" d="M113.49,-260.8C113.49,-249.58 113.49,-234.67 113.49,-221.69"/>
<polygon fill="black" stroke="black" points="116.99,-221.98 113.49,-211.98 109.99,-221.98 116.99,-221.98"/>
<text text-anchor="middle" x="233.99" y="-231.8" font-family="Helvetica,sans-Serif" font-size="14.00">Sum spectra from corrected banks</text>
</g>
<!-- AppendSpectra -->
<g id="node18" class="node">
<title>AppendSpectra</title>
<path fill="lightskyblue" stroke="black" d="M163.49,-123C163.49,-123 63.49,-123 63.49,-123 57.49,-123 51.49,-117 51.49,-111 51.49,-111 51.49,-99 51.49,-99 51.49,-93 57.49,-87 63.49,-87 63.49,-87 163.49,-87 163.49,-87 169.49,-87 175.49,-93 175.49,-99 175.49,-99 175.49,-111 175.49,-111 175.49,-117 169.49,-123 163.49,-123"/>
<text text-anchor="middle" x="113.49" y="-101.3" font-family="Helvetica,sans-Serif" font-size="14.00">AppendSpectra</text>
</g>
<!-- GroupDetectors&#45;&gt;AppendSpectra -->
<g id="edge21" class="edge">
<title>GroupDetectors&#45;&gt;AppendSpectra</title>
<path fill="none" stroke="black" d="M113.49,-173.8C113.49,-162.58 113.49,-147.67 113.49,-134.69"/>
<polygon fill="black" stroke="black" points="116.99,-134.98 113.49,-124.98 109.99,-134.98 116.99,-134.98"/>
<text text-anchor="middle" x="187.99" y="-144.8" font-family="Helvetica,sans-Serif" font-size="14.00">Behaviour = Average</text>
</g>
<!-- AppendSpectra&#45;&gt;OutputWorkspace -->
<g id="edge22" class="edge">
<title>AppendSpectra&#45;&gt;OutputWorkspace</title>
<path fill="none" stroke="black" d="M113.49,-86.8C113.49,-75.58 113.49,-60.67 113.49,-47.69"/>
<polygon fill="black" stroke="black" points="116.99,-47.98 113.49,-37.98 109.99,-47.98 116.99,-47.98"/>
<text text-anchor="middle" x="137.99" y="-57.8" font-family="Helvetica,sans-Serif" font-size="14.00">Output</text>
</g>
<!-- ClosePeaktolerance -->
<g id="node19" class="node">
<title>ClosePeaktolerance</title>
<ellipse fill="lightgrey" stroke="black" cx="839.49" cy="-613" rx="98.58" ry="18"/>
<text text-anchor="middle" x="839.49" y="-609.3" font-family="Helvetica,sans-Serif" font-size="14.00">ClosePeaktolerance</text>
</g>
<!-- ClosePeaktolerance&#45;&gt;Bank2_ScaleFactor -->
<g id="edge12" class="edge">
<title>ClosePeaktolerance&#45;&gt;Bank2_ScaleFactor</title>
<path fill="none" stroke="black" d="M839.49,-594.8C839.49,-583.58 839.49,-568.67 839.49,-555.69"/>
<polygon fill="black" stroke="black" points="842.99,-555.98 839.49,-545.98 835.99,-555.98 842.99,-555.98"/>
</g>
<!-- Croppedworkspace -->
<g id="node20" class="node">
<title>Croppedworkspace</title>
<ellipse fill="lightgrey" stroke="black" cx="629.49" cy="-526" rx="96.68" ry="18"/>
<text text-anchor="middle" x="629.49" y="-522.3" font-family="Helvetica,sans-Serif" font-size="14.00">Croppedworkspace</text>
</g>
<!-- Croppedworkspace&#45;&gt;ScaleX -->
<g id="edge14" class="edge">
<title>Croppedworkspace&#45;&gt;ScaleX</title>
<path fill="none" stroke="black" d="M601.07,-508.47C592.53,-503.01 583.35,-496.63 575.49,-490 566.89,-482.74 558.3,-473.94 550.92,-465.76"/>
<polygon fill="black" stroke="black" points="553.66,-463.57 544.44,-458.36 548.4,-468.19 553.66,-463.57"/>
<text text-anchor="middle" x="700.49" y="-478.8" font-family="Helvetica,sans-Serif" font-size="14.00">Workspace containing bank spectra</text>
</g>
<!-- ScaledWorkspace&#45;&gt;RebinToWorkspace -->
<g id="edge18" class="edge">
<title>ScaledWorkspace&#45;&gt;RebinToWorkspace</title>
<path fill="none" stroke="black" d="M346.19,-350.39C300.94,-336.7 232.86,-316.11 182.01,-300.72"/>
<polygon fill="black" stroke="black" points="183.14,-297.41 172.56,-297.87 181.11,-304.11 183.14,-297.41"/>
<text text-anchor="middle" x="377.49" y="-318.8" font-family="Helvetica,sans-Serif" font-size="14.00">Rebin to original input binning</text>
</g>
</g>
</svg>
