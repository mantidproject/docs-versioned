<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 7.1.0 (20230122.1345)
 -->
<!-- Title: BASISReduction Pages: 1 -->
<svg width="1235pt" height="2841pt"
 viewBox="0.00 0.00 1235.05 2841.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2837)">
<title>BASISReduction</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-2837 1231.05,-2837 1231.05,4 -4,4"/>
<text text-anchor="middle" x="613.52" y="-2817.8" font-family="Helvetica,sans-Serif" font-size="14.00">BASISReduction Flowchart</text>
<!-- loadMaskFile -->
<g id="node1" class="node">
<title>loadMaskFile</title>
<path fill="lightskyblue" stroke="black" d="M1100.56,-2650C1100.56,-2650 1011.56,-2650 1011.56,-2650 1005.56,-2650 999.56,-2644 999.56,-2638 999.56,-2638 999.56,-2626 999.56,-2626 999.56,-2620 1005.56,-2614 1011.56,-2614 1011.56,-2614 1100.56,-2614 1100.56,-2614 1106.56,-2614 1112.56,-2620 1112.56,-2626 1112.56,-2626 1112.56,-2638 1112.56,-2638 1112.56,-2644 1106.56,-2650 1100.56,-2650"/>
<text text-anchor="middle" x="1056.06" y="-2628.3" font-family="Helvetica,sans-Serif" font-size="14.00">load mask file</text>
</g>
<!-- maskData -->
<g id="node43" class="node">
<title>maskData</title>
<polygon fill="grey" stroke="black" points="1096.48,-2563 1014.68,-2563 993.64,-2527 1075.43,-2527 1096.48,-2563"/>
<text text-anchor="middle" x="1045.06" y="-2541.3" font-family="Times,serif" font-size="14.00">mask</text>
</g>
<!-- loadMaskFile&#45;&gt;maskData -->
<g id="edge5" class="edge">
<title>loadMaskFile&#45;&gt;maskData</title>
<path fill="none" stroke="black" d="M1053.83,-2613.8C1052.38,-2602.58 1050.45,-2587.67 1048.77,-2574.69"/>
<polygon fill="black" stroke="black" points="1052.27,-2574.44 1047.51,-2564.97 1045.33,-2575.33 1052.27,-2574.44"/>
</g>
<!-- aggregateV -->
<g id="node2" class="node">
<title>aggregateV</title>
<path fill="lightskyblue" stroke="black" d="M691.56,-2563C691.56,-2563 518.56,-2563 518.56,-2563 512.56,-2563 506.56,-2557 506.56,-2551 506.56,-2551 506.56,-2539 506.56,-2539 506.56,-2533 512.56,-2527 518.56,-2527 518.56,-2527 691.56,-2527 691.56,-2527 697.56,-2527 703.56,-2533 703.56,-2539 703.56,-2539 703.56,-2551 703.56,-2551 703.56,-2557 697.56,-2563 691.56,-2563"/>
<text text-anchor="middle" x="605.06" y="-2541.3" font-family="Helvetica,sans-Serif" font-size="14.00">aggregate Vanadium runs</text>
</g>
<!-- maskDetectors -->
<g id="node3" class="node">
<title>maskDetectors</title>
<path fill="lightskyblue" stroke="black" d="M926.06,-2490C926.06,-2490 826.06,-2490 826.06,-2490 820.06,-2490 814.06,-2484 814.06,-2478 814.06,-2478 814.06,-2466 814.06,-2466 814.06,-2460 820.06,-2454 826.06,-2454 826.06,-2454 926.06,-2454 926.06,-2454 932.06,-2454 938.06,-2460 938.06,-2466 938.06,-2466 938.06,-2478 938.06,-2478 938.06,-2484 932.06,-2490 926.06,-2490"/>
<text text-anchor="middle" x="876.06" y="-2468.3" font-family="Helvetica,sans-Serif" font-size="14.00">mask detectors</text>
</g>
<!-- aggregateV&#45;&gt;maskDetectors -->
<g id="edge10" class="edge">
<title>aggregateV&#45;&gt;maskDetectors</title>
<path fill="none" stroke="black" d="M671.7,-2526.54C711.47,-2516.12 762.01,-2502.88 802.88,-2492.17"/>
<polygon fill="black" stroke="black" points="803.61,-2495.6 812.4,-2489.68 801.84,-2488.83 803.61,-2495.6"/>
</g>
<!-- moderatorTzeroLinear -->
<g id="node4" class="node">
<title>moderatorTzeroLinear</title>
<path fill="lightskyblue" stroke="black" d="M1009.06,-2417C1009.06,-2417 743.06,-2417 743.06,-2417 737.06,-2417 731.06,-2411 731.06,-2405 731.06,-2405 731.06,-2393 731.06,-2393 731.06,-2387 737.06,-2381 743.06,-2381 743.06,-2381 1009.06,-2381 1009.06,-2381 1015.06,-2381 1021.06,-2387 1021.06,-2393 1021.06,-2393 1021.06,-2405 1021.06,-2405 1021.06,-2411 1015.06,-2417 1009.06,-2417"/>
<text text-anchor="middle" x="876.06" y="-2395.3" font-family="Helvetica,sans-Serif" font-size="14.00">remove emission delay from moderator</text>
</g>
<!-- maskDetectors&#45;&gt;moderatorTzeroLinear -->
<g id="edge12" class="edge">
<title>maskDetectors&#45;&gt;moderatorTzeroLinear</title>
<path fill="none" stroke="black" d="M876.06,-2453.81C876.06,-2446.23 876.06,-2437.1 876.06,-2428.54"/>
<polygon fill="black" stroke="black" points="879.56,-2428.54 876.06,-2418.54 872.56,-2428.54 879.56,-2428.54"/>
</g>
<!-- convertUnitsToWavelength -->
<g id="node5" class="node">
<title>convertUnitsToWavelength</title>
<path fill="lightskyblue" stroke="black" d="M969.56,-2344C969.56,-2344 782.56,-2344 782.56,-2344 776.56,-2344 770.56,-2338 770.56,-2332 770.56,-2332 770.56,-2320 770.56,-2320 770.56,-2314 776.56,-2308 782.56,-2308 782.56,-2308 969.56,-2308 969.56,-2308 975.56,-2308 981.56,-2314 981.56,-2320 981.56,-2320 981.56,-2332 981.56,-2332 981.56,-2338 975.56,-2344 969.56,-2344"/>
<text text-anchor="middle" x="876.06" y="-2322.3" font-family="Helvetica,sans-Serif" font-size="14.00">convert units to wavelength</text>
</g>
<!-- moderatorTzeroLinear&#45;&gt;convertUnitsToWavelength -->
<g id="edge13" class="edge">
<title>moderatorTzeroLinear&#45;&gt;convertUnitsToWavelength</title>
<path fill="none" stroke="black" d="M876.06,-2380.81C876.06,-2373.23 876.06,-2364.1 876.06,-2355.54"/>
<polygon fill="black" stroke="black" points="879.56,-2355.54 876.06,-2345.54 872.56,-2355.54 879.56,-2355.54"/>
</g>
<!-- checkMonNorm -->
<g id="node32" class="node">
<title>checkMonNorm</title>
<polygon fill="limegreen" stroke="black" points="876.06,-2271 693.23,-2253 876.06,-2235 1058.88,-2253 876.06,-2271"/>
<text text-anchor="middle" x="876.06" y="-2249.3" font-family="Helvetica,sans-Serif" font-size="14.00">do monitor normalization?</text>
</g>
<!-- convertUnitsToWavelength&#45;&gt;checkMonNorm -->
<g id="edge14" class="edge">
<title>convertUnitsToWavelength&#45;&gt;checkMonNorm</title>
<path fill="none" stroke="black" d="M876.06,-2307.81C876.06,-2300.23 876.06,-2291.1 876.06,-2282.54"/>
<polygon fill="black" stroke="black" points="879.56,-2282.54 876.06,-2272.54 872.56,-2282.54 879.56,-2282.54"/>
</g>
<!-- moderatorTzeroLinearM -->
<g id="node6" class="node">
<title>moderatorTzeroLinearM</title>
<path fill="lightskyblue" stroke="black" d="M938.06,-2184C938.06,-2184 610.06,-2184 610.06,-2184 604.06,-2184 598.06,-2178 598.06,-2172 598.06,-2172 598.06,-2160 598.06,-2160 598.06,-2154 604.06,-2148 610.06,-2148 610.06,-2148 938.06,-2148 938.06,-2148 944.06,-2148 950.06,-2154 950.06,-2160 950.06,-2160 950.06,-2172 950.06,-2172 950.06,-2178 944.06,-2184 938.06,-2184"/>
<text text-anchor="middle" x="774.06" y="-2162.3" font-family="Helvetica,sans-Serif" font-size="14.00">Monitor: remove emission delay from moderator</text>
</g>
<!-- convertUnitsToWavelengthM -->
<g id="node7" class="node">
<title>convertUnitsToWavelengthM</title>
<path fill="lightskyblue" stroke="black" d="M928.06,-2111C928.06,-2111 680.06,-2111 680.06,-2111 674.06,-2111 668.06,-2105 668.06,-2099 668.06,-2099 668.06,-2087 668.06,-2087 668.06,-2081 674.06,-2075 680.06,-2075 680.06,-2075 928.06,-2075 928.06,-2075 934.06,-2075 940.06,-2081 940.06,-2087 940.06,-2087 940.06,-2099 940.06,-2099 940.06,-2105 934.06,-2111 928.06,-2111"/>
<text text-anchor="middle" x="804.06" y="-2089.3" font-family="Helvetica,sans-Serif" font-size="14.00">Monitor: convert units to wavelength</text>
</g>
<!-- moderatorTzeroLinearM&#45;&gt;convertUnitsToWavelengthM -->
<g id="edge17" class="edge">
<title>moderatorTzeroLinearM&#45;&gt;convertUnitsToWavelengthM</title>
<path fill="none" stroke="black" d="M781.32,-2147.81C784.67,-2139.88 788.74,-2130.26 792.5,-2121.36"/>
<polygon fill="black" stroke="black" points="795.61,-2123 796.27,-2112.42 789.16,-2120.27 795.61,-2123"/>
</g>
<!-- OneMinusExponentialCorM -->
<g id="node8" class="node">
<title>OneMinusExponentialCorM</title>
<path fill="lightskyblue" stroke="black" d="M932.56,-2024C932.56,-2024 723.56,-2024 723.56,-2024 717.56,-2024 711.56,-2018 711.56,-2012 711.56,-2012 711.56,-2000 711.56,-2000 711.56,-1994 717.56,-1988 723.56,-1988 723.56,-1988 932.56,-1988 932.56,-1988 938.56,-1988 944.56,-1994 944.56,-2000 944.56,-2000 944.56,-2012 944.56,-2012 944.56,-2018 938.56,-2024 932.56,-2024"/>
<text text-anchor="middle" x="828.06" y="-2002.3" font-family="Helvetica,sans-Serif" font-size="14.00">Monitor: exponential correction</text>
</g>
<!-- convertUnitsToWavelengthM&#45;&gt;OneMinusExponentialCorM -->
<g id="edge18" class="edge">
<title>convertUnitsToWavelengthM&#45;&gt;OneMinusExponentialCorM</title>
<path fill="none" stroke="black" d="M808.92,-2074.8C812.11,-2063.47 816.38,-2048.36 820.07,-2035.29"/>
<polygon fill="black" stroke="black" points="823.37,-2036.5 822.72,-2025.92 816.63,-2034.6 823.37,-2036.5"/>
</g>
<!-- divideByMonitor -->
<g id="node9" class="node">
<title>divideByMonitor</title>
<path fill="lightskyblue" stroke="black" d="M925.56,-1951C925.56,-1951 810.56,-1951 810.56,-1951 804.56,-1951 798.56,-1945 798.56,-1939 798.56,-1939 798.56,-1927 798.56,-1927 798.56,-1921 804.56,-1915 810.56,-1915 810.56,-1915 925.56,-1915 925.56,-1915 931.56,-1915 937.56,-1921 937.56,-1927 937.56,-1927 937.56,-1939 937.56,-1939 937.56,-1945 931.56,-1951 925.56,-1951"/>
<text text-anchor="middle" x="868.06" y="-1929.3" font-family="Helvetica,sans-Serif" font-size="14.00">divide by monitor</text>
</g>
<!-- OneMinusExponentialCorM&#45;&gt;divideByMonitor -->
<g id="edge19" class="edge">
<title>OneMinusExponentialCorM&#45;&gt;divideByMonitor</title>
<path fill="none" stroke="black" d="M837.74,-1987.81C842.31,-1979.7 847.87,-1969.84 852.97,-1960.78"/>
<polygon fill="black" stroke="black" points="855.86,-1962.78 857.72,-1952.35 849.76,-1959.34 855.86,-1962.78"/>
</g>
<!-- checkIsVanadium -->
<g id="node36" class="node">
<title>checkIsVanadium</title>
<polygon fill="limegreen" stroke="black" points="935.06,-1878 707.99,-1860 935.06,-1842 1162.12,-1860 935.06,-1878"/>
<text text-anchor="middle" x="935.06" y="-1856.3" font-family="Helvetica,sans-Serif" font-size="14.00">processing Vanadium or sample?</text>
</g>
<!-- divideByMonitor&#45;&gt;checkIsVanadium -->
<g id="edge20" class="edge">
<title>divideByMonitor&#45;&gt;checkIsVanadium</title>
<path fill="none" stroke="black" d="M884.28,-1914.81C892.66,-1905.93 903.04,-1894.93 912.22,-1885.2"/>
<polygon fill="black" stroke="black" points="914.55,-1887.83 918.87,-1878.16 909.46,-1883.03 914.55,-1887.83"/>
</g>
<!-- integrateWavelengthV -->
<g id="node10" class="node">
<title>integrateWavelengthV</title>
<path fill="lightskyblue" stroke="black" d="M594.56,-1704C594.56,-1704 379.56,-1704 379.56,-1704 373.56,-1704 367.56,-1698 367.56,-1692 367.56,-1692 367.56,-1680 367.56,-1680 367.56,-1674 373.56,-1668 379.56,-1668 379.56,-1668 594.56,-1668 594.56,-1668 600.56,-1668 606.56,-1674 606.56,-1680 606.56,-1680 606.56,-1692 606.56,-1692 606.56,-1698 600.56,-1704 594.56,-1704"/>
<text text-anchor="middle" x="487.06" y="-1682.3" font-family="Helvetica,sans-Serif" font-size="14.00">integrate along wavelength axis</text>
</g>
<!-- vanadiumStructureFactorL -->
<g id="node45" class="node">
<title>vanadiumStructureFactorL</title>
<polygon fill="grey" stroke="black" points="580.33,-1617 431.95,-1617 393.78,-1581 542.16,-1581 580.33,-1617"/>
<text text-anchor="middle" x="487.06" y="-1595.3" font-family="Times,serif" font-size="14.00">Sv(lambda)</text>
</g>
<!-- integrateWavelengthV&#45;&gt;vanadiumStructureFactorL -->
<g id="edge26" class="edge">
<title>integrateWavelengthV&#45;&gt;vanadiumStructureFactorL</title>
<path fill="none" stroke="black" d="M487.06,-1667.8C487.06,-1656.58 487.06,-1641.67 487.06,-1628.69"/>
<polygon fill="black" stroke="black" points="490.56,-1628.98 487.06,-1618.98 483.56,-1628.98 490.56,-1628.98"/>
</g>
<!-- findDetectorsOutsideLimitsV -->
<g id="node11" class="node">
<title>findDetectorsOutsideLimitsV</title>
<path fill="lightskyblue" stroke="black" d="M954.56,-1544C954.56,-1544 683.56,-1544 683.56,-1544 677.56,-1544 671.56,-1538 671.56,-1532 671.56,-1532 671.56,-1520 671.56,-1520 671.56,-1514 677.56,-1508 683.56,-1508 683.56,-1508 954.56,-1508 954.56,-1508 960.56,-1508 966.56,-1514 966.56,-1520 966.56,-1520 966.56,-1532 966.56,-1532 966.56,-1538 960.56,-1544 954.56,-1544"/>
<text text-anchor="middle" x="819.06" y="-1522.3" font-family="Helvetica,sans-Serif" font-size="14.00">find detectors with low Vanadium signal</text>
</g>
<!-- checkByQSlice -->
<g id="node33" class="node">
<title>checkByQSlice</title>
<polygon fill="limegreen" stroke="black" points="843.06,-1417 667.44,-1399 843.06,-1381 1018.68,-1399 843.06,-1417"/>
<text text-anchor="middle" x="843.06" y="-1395.3" font-family="Helvetica,sans-Serif" font-size="14.00">normalization by Q slice?</text>
</g>
<!-- findDetectorsOutsideLimitsV&#45;&gt;checkByQSlice -->
<g id="edge29" class="edge">
<title>findDetectorsOutsideLimitsV&#45;&gt;checkByQSlice</title>
<path fill="none" stroke="black" d="M822.4,-1507.62C826.36,-1486.98 833.02,-1452.29 837.71,-1427.88"/>
<polygon fill="black" stroke="black" points="841.09,-1428.8 839.54,-1418.32 834.22,-1427.48 841.09,-1428.8"/>
</g>
<!-- basisNormMask -->
<g id="node44" class="node">
<title>basisNormMask</title>
<polygon fill="grey" stroke="black" points="819.69,-1471 580.07,-1471 518.43,-1435 758.05,-1435 819.69,-1471"/>
<text text-anchor="middle" x="669.06" y="-1449.3" font-family="Times,serif" font-size="14.00">low Vanadium mask</text>
</g>
<!-- findDetectorsOutsideLimitsV&#45;&gt;basisNormMask -->
<g id="edge28" class="edge">
<title>findDetectorsOutsideLimitsV&#45;&gt;basisNormMask</title>
<path fill="none" stroke="black" d="M782.36,-1507.63C762.39,-1498.18 737.46,-1486.38 716.07,-1476.25"/>
<polygon fill="black" stroke="black" points="717.8,-1473.2 707.26,-1472.08 714.8,-1479.52 717.8,-1473.2"/>
</g>
<!-- convertUnitsToEnergyV -->
<g id="node12" class="node">
<title>convertUnitsToEnergyV</title>
<path fill="lightskyblue" stroke="black" d="M930.06,-1116C930.06,-1116 754.06,-1116 754.06,-1116 748.06,-1116 742.06,-1110 742.06,-1104 742.06,-1104 742.06,-1092 742.06,-1092 742.06,-1086 748.06,-1080 754.06,-1080 754.06,-1080 930.06,-1080 930.06,-1080 936.06,-1080 942.06,-1086 942.06,-1092 942.06,-1092 942.06,-1104 942.06,-1104 942.06,-1110 936.06,-1116 930.06,-1116"/>
<text text-anchor="middle" x="842.06" y="-1094.3" font-family="Helvetica,sans-Serif" font-size="14.00">convert to energy transfer</text>
</g>
<!-- correctKiKfV -->
<g id="node13" class="node">
<title>correctKiKfV</title>
<path fill="lightskyblue" stroke="black" d="M891.06,-1043C891.06,-1043 793.06,-1043 793.06,-1043 787.06,-1043 781.06,-1037 781.06,-1031 781.06,-1031 781.06,-1019 781.06,-1019 781.06,-1013 787.06,-1007 793.06,-1007 793.06,-1007 891.06,-1007 891.06,-1007 897.06,-1007 903.06,-1013 903.06,-1019 903.06,-1019 903.06,-1031 903.06,-1031 903.06,-1037 897.06,-1043 891.06,-1043"/>
<text text-anchor="middle" x="842.06" y="-1021.3" font-family="Helvetica,sans-Serif" font-size="14.00">scale by k_i/k_f</text>
</g>
<!-- convertUnitsToEnergyV&#45;&gt;correctKiKfV -->
<g id="edge39" class="edge">
<title>convertUnitsToEnergyV&#45;&gt;correctKiKfV</title>
<path fill="none" stroke="black" d="M842.06,-1079.81C842.06,-1072.23 842.06,-1063.1 842.06,-1054.54"/>
<polygon fill="black" stroke="black" points="845.56,-1054.54 842.06,-1044.54 838.56,-1054.54 845.56,-1054.54"/>
</g>
<!-- RebinEnergy -->
<g id="node14" class="node">
<title>RebinEnergy</title>
<path fill="lightskyblue" stroke="black" d="M967.56,-970C967.56,-970 716.56,-970 716.56,-970 710.56,-970 704.56,-964 704.56,-958 704.56,-958 704.56,-946 704.56,-946 704.56,-940 710.56,-934 716.56,-934 716.56,-934 967.56,-934 967.56,-934 973.56,-934 979.56,-940 979.56,-946 979.56,-946 979.56,-958 979.56,-958 979.56,-964 973.56,-970 967.56,-970"/>
<text text-anchor="middle" x="842.06" y="-948.3" font-family="Helvetica,sans-Serif" font-size="14.00">rebin to specified energy parameters</text>
</g>
<!-- correctKiKfV&#45;&gt;RebinEnergy -->
<g id="edge40" class="edge">
<title>correctKiKfV&#45;&gt;RebinEnergy</title>
<path fill="none" stroke="black" d="M842.06,-1006.81C842.06,-999.23 842.06,-990.1 842.06,-981.54"/>
<polygon fill="black" stroke="black" points="845.56,-981.54 842.06,-971.54 838.56,-981.54 845.56,-981.54"/>
</g>
<!-- checkgroupDetectors -->
<g id="node35" class="node">
<title>checkgroupDetectors</title>
<polygon fill="limegreen" stroke="black" points="500.06,-897 334.66,-879 500.06,-861 665.46,-879 500.06,-897"/>
<text text-anchor="middle" x="500.06" y="-875.3" font-family="Helvetica,sans-Serif" font-size="14.00">do we group detectors?</text>
</g>
<!-- RebinEnergy&#45;&gt;checkgroupDetectors -->
<g id="edge41" class="edge">
<title>RebinEnergy&#45;&gt;checkgroupDetectors</title>
<path fill="none" stroke="black" d="M757.96,-933.54C698.84,-921.27 620.85,-905.08 566.17,-893.73"/>
<polygon fill="black" stroke="black" points="567.2,-890.36 556.7,-891.76 565.78,-897.22 567.2,-890.36"/>
</g>
<!-- groupingDetectorsV -->
<g id="node15" class="node">
<title>groupingDetectorsV</title>
<path fill="lightskyblue" stroke="black" d="M481.06,-810C481.06,-810 351.06,-810 351.06,-810 345.06,-810 339.06,-804 339.06,-798 339.06,-798 339.06,-786 339.06,-786 339.06,-780 345.06,-774 351.06,-774 351.06,-774 481.06,-774 481.06,-774 487.06,-774 493.06,-780 493.06,-786 493.06,-786 493.06,-798 493.06,-798 493.06,-804 487.06,-810 481.06,-810"/>
<text text-anchor="middle" x="416.06" y="-788.3" font-family="Helvetica,sans-Serif" font-size="14.00">group the detectors</text>
</g>
<!-- SofQW3V -->
<g id="node16" class="node">
<title>SofQW3V</title>
<path fill="lightskyblue" stroke="black" d="M626.06,-737C626.06,-737 318.06,-737 318.06,-737 312.06,-737 306.06,-731 306.06,-725 306.06,-725 306.06,-713 306.06,-713 306.06,-707 312.06,-701 318.06,-701 318.06,-701 626.06,-701 626.06,-701 632.06,-701 638.06,-707 638.06,-713 638.06,-713 638.06,-725 638.06,-725 638.06,-731 632.06,-737 626.06,-737"/>
<text text-anchor="middle" x="472.06" y="-715.3" font-family="Helvetica,sans-Serif" font-size="14.00">transform to momentum and energy transfer</text>
</g>
<!-- groupingDetectorsV&#45;&gt;SofQW3V -->
<g id="edge44" class="edge">
<title>groupingDetectorsV&#45;&gt;SofQW3V</title>
<path fill="none" stroke="black" d="M429.61,-773.81C436.22,-765.44 444.3,-755.2 451.63,-745.9"/>
<polygon fill="black" stroke="black" points="454.25,-748.24 457.69,-738.22 448.75,-743.9 454.25,-748.24"/>
</g>
<!-- checkIsVanadium2 -->
<g id="node38" class="node">
<title>checkIsVanadium2</title>
<polygon fill="limegreen" stroke="black" points="472.06,-664 244.99,-646 472.06,-628 699.12,-646 472.06,-664"/>
<text text-anchor="middle" x="472.06" y="-642.3" font-family="Helvetica,sans-Serif" font-size="14.00">processing Vanadium or sample?</text>
</g>
<!-- SofQW3V&#45;&gt;checkIsVanadium2 -->
<g id="edge46" class="edge">
<title>SofQW3V&#45;&gt;checkIsVanadium2</title>
<path fill="none" stroke="black" d="M472.06,-700.81C472.06,-693.23 472.06,-684.1 472.06,-675.54"/>
<polygon fill="black" stroke="black" points="475.56,-675.54 472.06,-665.54 468.56,-675.54 475.56,-675.54"/>
</g>
<!-- aggregateS -->
<g id="node17" class="node">
<title>aggregateS</title>
<path fill="lightskyblue" stroke="black" d="M953.06,-2563C953.06,-2563 799.06,-2563 799.06,-2563 793.06,-2563 787.06,-2557 787.06,-2551 787.06,-2551 787.06,-2539 787.06,-2539 787.06,-2533 793.06,-2527 799.06,-2527 799.06,-2527 953.06,-2527 953.06,-2527 959.06,-2527 965.06,-2533 965.06,-2539 965.06,-2539 965.06,-2551 965.06,-2551 965.06,-2557 959.06,-2563 953.06,-2563"/>
<text text-anchor="middle" x="876.06" y="-2541.3" font-family="Helvetica,sans-Serif" font-size="14.00">aggregate sample runs</text>
</g>
<!-- aggregateS&#45;&gt;maskDetectors -->
<g id="edge9" class="edge">
<title>aggregateS&#45;&gt;maskDetectors</title>
<path fill="none" stroke="black" d="M876.06,-2526.81C876.06,-2519.23 876.06,-2510.1 876.06,-2501.54"/>
<polygon fill="black" stroke="black" points="879.56,-2501.54 876.06,-2491.54 872.56,-2501.54 879.56,-2501.54"/>
</g>
<!-- maskDetectors2 -->
<g id="node18" class="node">
<title>maskDetectors2</title>
<path fill="lightskyblue" stroke="black" d="M918.06,-1363C918.06,-1363 818.06,-1363 818.06,-1363 812.06,-1363 806.06,-1357 806.06,-1351 806.06,-1351 806.06,-1339 806.06,-1339 806.06,-1333 812.06,-1327 818.06,-1327 818.06,-1327 918.06,-1327 918.06,-1327 924.06,-1327 930.06,-1333 930.06,-1339 930.06,-1339 930.06,-1351 930.06,-1351 930.06,-1357 924.06,-1363 918.06,-1363"/>
<text text-anchor="middle" x="868.06" y="-1341.3" font-family="Helvetica,sans-Serif" font-size="14.00">mask detectors</text>
</g>
<!-- checkNormalizeByDetectorID -->
<g id="node39" class="node">
<title>checkNormalizeByDetectorID</title>
<polygon fill="limegreen" stroke="black" points="868.06,-1290 692.44,-1272 868.06,-1254 1043.68,-1272 868.06,-1290"/>
<text text-anchor="middle" x="868.06" y="-1268.3" font-family="Helvetica,sans-Serif" font-size="14.00">normalize by detectorID?</text>
</g>
<!-- maskDetectors2&#45;&gt;checkNormalizeByDetectorID -->
<g id="edge32" class="edge">
<title>maskDetectors2&#45;&gt;checkNormalizeByDetectorID</title>
<path fill="none" stroke="black" d="M868.06,-1326.81C868.06,-1319.23 868.06,-1310.1 868.06,-1301.54"/>
<polygon fill="black" stroke="black" points="871.56,-1301.54 868.06,-1291.54 864.56,-1301.54 871.56,-1301.54"/>
</g>
<!-- DivideByVanadiumDetectorID -->
<g id="node19" class="node">
<title>DivideByVanadiumDetectorID</title>
<path fill="lightskyblue" stroke="black" d="M822.56,-1203C822.56,-1203 691.56,-1203 691.56,-1203 685.56,-1203 679.56,-1197 679.56,-1191 679.56,-1191 679.56,-1179 679.56,-1179 679.56,-1173 685.56,-1167 691.56,-1167 691.56,-1167 822.56,-1167 822.56,-1167 828.56,-1167 834.56,-1173 834.56,-1179 834.56,-1179 834.56,-1191 834.56,-1191 834.56,-1197 828.56,-1203 822.56,-1203"/>
<text text-anchor="middle" x="757.06" y="-1181.3" font-family="Helvetica,sans-Serif" font-size="14.00">divide by Vanadium</text>
</g>
<!-- DivideByVanadiumDetectorID&#45;&gt;convertUnitsToEnergyV -->
<g id="edge37" class="edge">
<title>DivideByVanadiumDetectorID&#45;&gt;convertUnitsToEnergyV</title>
<path fill="none" stroke="black" d="M774.26,-1166.8C786.39,-1154.67 802.85,-1138.21 816.51,-1124.55"/>
<polygon fill="black" stroke="black" points="818.92,-1127.08 823.52,-1117.54 813.98,-1122.13 818.92,-1127.08"/>
<text text-anchor="middle" x="816.56" y="-1137.8" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- DivideByVanadiumQslice -->
<g id="node20" class="node">
<title>DivideByVanadiumQslice</title>
<path fill="lightskyblue" stroke="black" d="M547.56,-342C547.56,-342 416.56,-342 416.56,-342 410.56,-342 404.56,-336 404.56,-330 404.56,-330 404.56,-318 404.56,-318 404.56,-312 410.56,-306 416.56,-306 416.56,-306 547.56,-306 547.56,-306 553.56,-306 559.56,-312 559.56,-318 559.56,-318 559.56,-330 559.56,-330 559.56,-336 553.56,-342 547.56,-342"/>
<text text-anchor="middle" x="482.06" y="-320.3" font-family="Helvetica,sans-Serif" font-size="14.00">divide by Vanadium</text>
</g>
<!-- sampleStructureFactor -->
<g id="node48" class="node">
<title>sampleStructureFactor</title>
<polygon fill="grey" stroke="black" points="621.97,-269 515.53,-269 488.15,-233 594.59,-233 621.97,-269"/>
<text text-anchor="middle" x="555.06" y="-247.3" font-family="Times,serif" font-size="14.00">Ss(Q,E)</text>
</g>
<!-- DivideByVanadiumQslice&#45;&gt;sampleStructureFactor -->
<g id="edge53" class="edge">
<title>DivideByVanadiumQslice&#45;&gt;sampleStructureFactor</title>
<path fill="none" stroke="black" d="M499.73,-305.81C508.54,-297.24 519.37,-286.71 529.1,-277.24"/>
<polygon fill="black" stroke="black" points="531.48,-279.81 536.21,-270.33 526.6,-274.79 531.48,-279.81"/>
</g>
<!-- saveToDaveGroup -->
<g id="node21" class="node">
<title>saveToDaveGroup</title>
<path fill="lightskyblue" stroke="black" d="M543.56,-196C543.56,-196 390.56,-196 390.56,-196 384.56,-196 378.56,-190 378.56,-184 378.56,-184 378.56,-172 378.56,-172 378.56,-166 384.56,-160 390.56,-160 390.56,-160 543.56,-160 543.56,-160 549.56,-160 555.56,-166 555.56,-172 555.56,-172 555.56,-184 555.56,-184 555.56,-190 549.56,-196 543.56,-196"/>
<text text-anchor="middle" x="467.06" y="-174.3" font-family="Helvetica,sans-Serif" font-size="14.00">save to Dave group file</text>
</g>
<!-- checkDivideByVanadium3 -->
<g id="node41" class="node">
<title>checkDivideByVanadium3</title>
<polygon fill="limegreen" stroke="black" points="365.06,-123 217.09,-105 365.06,-87 513.03,-105 365.06,-123"/>
<text text-anchor="middle" x="365.06" y="-101.3" font-family="Helvetica,sans-Serif" font-size="14.00">divide by vanadium?</text>
</g>
<!-- saveToDaveGroup&#45;&gt;checkDivideByVanadium3 -->
<g id="edge56" class="edge">
<title>saveToDaveGroup&#45;&gt;checkDivideByVanadium3</title>
<path fill="none" stroke="black" d="M442.11,-159.63C428.08,-149.87 410.45,-137.6 395.6,-127.26"/>
<polygon fill="black" stroke="black" points="397.76,-124.5 387.55,-121.65 393.76,-130.24 397.76,-124.5"/>
</g>
<!-- saveToNexus -->
<g id="node22" class="node">
<title>saveToNexus</title>
<path fill="lightskyblue" stroke="black" d="M719.06,-196C719.06,-196 603.06,-196 603.06,-196 597.06,-196 591.06,-190 591.06,-184 591.06,-184 591.06,-172 591.06,-172 591.06,-166 597.06,-160 603.06,-160 603.06,-160 719.06,-160 719.06,-160 725.06,-160 731.06,-166 731.06,-172 731.06,-172 731.06,-184 731.06,-184 731.06,-190 725.06,-196 719.06,-196"/>
<text text-anchor="middle" x="661.06" y="-174.3" font-family="Helvetica,sans-Serif" font-size="14.00">save to Nexus file</text>
</g>
<!-- checkDivideByVanadium4 -->
<g id="node42" class="node">
<title>checkDivideByVanadium4</title>
<polygon fill="limegreen" stroke="black" points="679.06,-123 531.09,-105 679.06,-87 827.03,-105 679.06,-123"/>
<text text-anchor="middle" x="679.06" y="-101.3" font-family="Helvetica,sans-Serif" font-size="14.00">divide by vanadium?</text>
</g>
<!-- saveToNexus&#45;&gt;checkDivideByVanadium4 -->
<g id="edge60" class="edge">
<title>saveToNexus&#45;&gt;checkDivideByVanadium4</title>
<path fill="none" stroke="black" d="M665.42,-159.81C667.41,-151.94 669.83,-142.41 672.07,-133.57"/>
<polygon fill="black" stroke="black" points="675.43,-134.56 674.49,-124.01 668.64,-132.84 675.43,-134.56"/>
</g>
<!-- integrateVanadiumAroundElasticLine -->
<g id="node23" class="node">
<title>integrateVanadiumAroundElasticLine</title>
<path fill="lightskyblue" stroke="black" d="M548.06,-490C548.06,-490 402.06,-490 402.06,-490 396.06,-490 390.06,-484 390.06,-478 390.06,-478 390.06,-464 390.06,-464 390.06,-458 396.06,-452 402.06,-452 402.06,-452 548.06,-452 548.06,-452 554.06,-452 560.06,-458 560.06,-464 560.06,-464 560.06,-478 560.06,-478 560.06,-484 554.06,-490 548.06,-490"/>
<text text-anchor="middle" x="475.06" y="-474.8" font-family="Helvetica,sans-Serif" font-size="14.00">integrate Vanadium</text>
<text text-anchor="middle" x="475.06" y="-459.8" font-family="Helvetica,sans-Serif" font-size="14.00">around the elastic line</text>
</g>
<!-- vanadiumStructureFactorQ -->
<g id="node47" class="node">
<title>vanadiumStructureFactorQ</title>
<polygon fill="grey" stroke="black" points="532.29,-415 447.61,-415 425.83,-379 510.51,-379 532.29,-415"/>
<text text-anchor="middle" x="479.06" y="-393.3" font-family="Times,serif" font-size="14.00">Sv(Q)</text>
</g>
<!-- integrateVanadiumAroundElasticLine&#45;&gt;vanadiumStructureFactorQ -->
<g id="edge51" class="edge">
<title>integrateVanadiumAroundElasticLine&#45;&gt;vanadiumStructureFactorQ</title>
<path fill="none" stroke="black" d="M476.07,-451.83C476.49,-444.24 476.99,-435.24 477.46,-426.79"/>
<polygon fill="black" stroke="black" points="480.95,-427.11 478.01,-416.93 473.96,-426.72 480.95,-427.11"/>
</g>
<!-- maskFile -->
<g id="node24" class="node">
<title>maskFile</title>
<ellipse fill="khaki" stroke="black" cx="952.06" cy="-2705" rx="49.29" ry="18"/>
<text text-anchor="middle" x="952.06" y="-2701.3" font-family="Helvetica,sans-Serif" font-size="14.00">MaskFile</text>
</g>
<!-- maskFile&#45;&gt;loadMaskFile -->
<g id="edge3" class="edge">
<title>maskFile&#45;&gt;loadMaskFile</title>
<path fill="none" stroke="black" d="M974.63,-2688.59C988.28,-2679.27 1005.97,-2667.19 1021.37,-2656.68"/>
<polygon fill="black" stroke="black" points="1023.08,-2659.75 1029.36,-2651.22 1019.13,-2653.97 1023.08,-2659.75"/>
</g>
<!-- defaultMaskFile -->
<g id="node25" class="node">
<title>defaultMaskFile</title>
<ellipse fill="khaki" stroke="black" cx="1123.06" cy="-2705" rx="103.98" ry="18"/>
<text text-anchor="middle" x="1123.06" y="-2701.3" font-family="Helvetica,sans-Serif" font-size="14.00">DEFAULT_MASK_FILE</text>
</g>
<!-- defaultMaskFile&#45;&gt;loadMaskFile -->
<g id="edge4" class="edge">
<title>defaultMaskFile&#45;&gt;loadMaskFile</title>
<path fill="none" stroke="black" d="M1106.84,-2686.81C1098.77,-2678.27 1088.87,-2667.77 1079.95,-2658.32"/>
<polygon fill="black" stroke="black" points="1082.58,-2656 1073.17,-2651.13 1077.48,-2660.8 1082.58,-2656"/>
</g>
<!-- NormRunNumbers -->
<g id="node26" class="node">
<title>NormRunNumbers</title>
<ellipse fill="khaki" stroke="black" cx="321.06" cy="-2632" rx="118.08" ry="18"/>
<text text-anchor="middle" x="321.06" y="-2628.3" font-family="Helvetica,sans-Serif" font-size="14.00">Vanadium run numbers</text>
</g>
<!-- NormRunNumbers&#45;&gt;aggregateV -->
<g id="edge7" class="edge">
<title>NormRunNumbers&#45;&gt;aggregateV</title>
<path fill="none" stroke="black" d="M373.15,-2615.41C418.95,-2601.7 485.95,-2581.65 536.17,-2566.62"/>
<polygon fill="black" stroke="black" points="536.91,-2570.05 545.49,-2563.83 534.91,-2563.34 536.91,-2570.05"/>
</g>
<!-- NormWavelengthRange -->
<g id="node27" class="node">
<title>NormWavelengthRange</title>
<ellipse fill="khaki" stroke="black" cx="485.06" cy="-1773" rx="144.07" ry="18"/>
<text text-anchor="middle" x="485.06" y="-1769.3" font-family="Helvetica,sans-Serif" font-size="14.00">wavelength integration range</text>
</g>
<!-- NormWavelengthRange&#45;&gt;integrateWavelengthV -->
<g id="edge25" class="edge">
<title>NormWavelengthRange&#45;&gt;integrateWavelengthV</title>
<path fill="none" stroke="black" d="M485.46,-1754.8C485.73,-1743.58 486.08,-1728.67 486.38,-1715.69"/>
<polygon fill="black" stroke="black" points="489.88,-1716.06 486.61,-1705.98 482.88,-1715.9 489.88,-1716.06"/>
</g>
<!-- groupDetectors -->
<g id="node28" class="node">
<title>groupDetectors</title>
<ellipse fill="khaki" stroke="black" cx="488.06" cy="-952" rx="198.47" ry="18"/>
<text text-anchor="middle" x="488.06" y="-948.3" font-family="Helvetica,sans-Serif" font-size="14.00">group detectors by tube or low&#45;resolution</text>
</g>
<!-- groupDetectors&#45;&gt;checkgroupDetectors -->
<g id="edge42" class="edge">
<title>groupDetectors&#45;&gt;checkgroupDetectors</title>
<path fill="none" stroke="black" d="M490.96,-933.81C492.26,-926.14 493.82,-916.89 495.28,-908.24"/>
<polygon fill="black" stroke="black" points="498.71,-908.96 496.93,-898.52 491.81,-907.8 498.71,-908.96"/>
</g>
<!-- runNumbers -->
<g id="node29" class="node">
<title>runNumbers</title>
<ellipse fill="khaki" stroke="black" cx="876.06" cy="-2632" rx="105.08" ry="18"/>
<text text-anchor="middle" x="876.06" y="-2628.3" font-family="Helvetica,sans-Serif" font-size="14.00">sample run numbers</text>
</g>
<!-- runNumbers&#45;&gt;aggregateS -->
<g id="edge8" class="edge">
<title>runNumbers&#45;&gt;aggregateS</title>
<path fill="none" stroke="black" d="M876.06,-2613.8C876.06,-2602.58 876.06,-2587.67 876.06,-2574.69"/>
<polygon fill="black" stroke="black" points="879.56,-2574.98 876.06,-2564.98 872.56,-2574.98 879.56,-2574.98"/>
</g>
<!-- checkMaskFile -->
<g id="node30" class="node">
<title>checkMaskFile</title>
<polygon fill="limegreen" stroke="black" points="1037.06,-2810 905.68,-2792 1037.06,-2774 1168.44,-2792 1037.06,-2810"/>
<text text-anchor="middle" x="1037.06" y="-2788.3" font-family="Helvetica,sans-Serif" font-size="14.00">custom mask file?</text>
</g>
<!-- checkMaskFile&#45;&gt;maskFile -->
<g id="edge1" class="edge">
<title>checkMaskFile&#45;&gt;maskFile</title>
<path fill="none" stroke="black" d="M1021.86,-2775.8C1009.13,-2763.07 990.73,-2744.67 976.02,-2729.96"/>
<polygon fill="black" stroke="black" points="978.9,-2727.89 969.35,-2723.29 973.95,-2732.84 978.9,-2727.89"/>
<text text-anchor="middle" x="1011.56" y="-2744.8" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- checkMaskFile&#45;&gt;defaultMaskFile -->
<g id="edge2" class="edge">
<title>checkMaskFile&#45;&gt;defaultMaskFile</title>
<path fill="none" stroke="black" d="M1052.43,-2775.8C1065.07,-2763.31 1083.23,-2745.37 1097.97,-2730.8"/>
<polygon fill="black" stroke="black" points="1100.02,-2733.69 1104.67,-2724.17 1095.1,-2728.71 1100.02,-2733.69"/>
<text text-anchor="middle" x="1094.56" y="-2744.8" font-family="Helvetica,sans-Serif" font-size="14.00">No</text>
</g>
<!-- checkDivideByVanadium -->
<g id="node31" class="node">
<title>checkDivideByVanadium</title>
<polygon fill="limegreen" stroke="black" points="605.06,-2650 457.09,-2632 605.06,-2614 753.03,-2632 605.06,-2650"/>
<text text-anchor="middle" x="605.06" y="-2628.3" font-family="Helvetica,sans-Serif" font-size="14.00">divide by vanadium?</text>
</g>
<!-- checkDivideByVanadium&#45;&gt;aggregateV -->
<g id="edge6" class="edge">
<title>checkDivideByVanadium&#45;&gt;aggregateV</title>
<path fill="none" stroke="black" d="M605.06,-2613.8C605.06,-2602.58 605.06,-2587.67 605.06,-2574.69"/>
<polygon fill="black" stroke="black" points="608.56,-2574.98 605.06,-2564.98 601.56,-2574.98 608.56,-2574.98"/>
<text text-anchor="middle" x="616.56" y="-2584.8" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- checkMonNorm&#45;&gt;moderatorTzeroLinearM -->
<g id="edge15" class="edge">
<title>checkMonNorm&#45;&gt;moderatorTzeroLinearM</title>
<path fill="none" stroke="black" d="M857.35,-2236.41C842.27,-2223.84 820.78,-2205.93 803.41,-2191.46"/>
<polygon fill="black" stroke="black" points="805.84,-2188.93 795.92,-2185.21 801.36,-2194.31 805.84,-2188.93"/>
<text text-anchor="middle" x="843.56" y="-2205.8" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- checkMonNorm&#45;&gt;checkIsVanadium -->
<g id="edge16" class="edge">
<title>checkMonNorm&#45;&gt;checkIsVanadium</title>
<path fill="none" stroke="black" d="M913.75,-2238.27C942.81,-2224.97 978.06,-2201.69 978.06,-2167 978.06,-2167 978.06,-2167 978.06,-1932 978.06,-1914.95 968.88,-1898.5 959,-1885.73"/>
<polygon fill="black" stroke="black" points="961.88,-1883.72 952.78,-1878.29 956.51,-1888.21 961.88,-1883.72"/>
<text text-anchor="middle" x="987.56" y="-2045.8" font-family="Helvetica,sans-Serif" font-size="14.00">No</text>
</g>
<!-- checkByQSlice&#45;&gt;convertUnitsToEnergyV -->
<g id="edge38" class="edge">
<title>checkByQSlice&#45;&gt;convertUnitsToEnergyV</title>
<path fill="none" stroke="black" d="M752.12,-1389.83C702.49,-1379.81 651.06,-1357.68 651.06,-1309 651.06,-1309 651.06,-1309 651.06,-1184 651.06,-1142.68 688.83,-1121.3 730.78,-1110.3"/>
<polygon fill="black" stroke="black" points="731.42,-1113.74 740.33,-1108.01 729.79,-1106.94 731.42,-1113.74"/>
<text text-anchor="middle" x="662.56" y="-1268.3" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- checkNormalizeByDetectorID2 -->
<g id="node34" class="node">
<title>checkNormalizeByDetectorID2</title>
<polygon fill="limegreen" stroke="black" points="823.06,-1791 647.44,-1773 823.06,-1755 998.68,-1773 823.06,-1791"/>
<text text-anchor="middle" x="823.06" y="-1769.3" font-family="Helvetica,sans-Serif" font-size="14.00">normalize by detectorID?</text>
</g>
<!-- checkNormalizeByDetectorID2&#45;&gt;integrateWavelengthV -->
<g id="edge22" class="edge">
<title>checkNormalizeByDetectorID2&#45;&gt;integrateWavelengthV</title>
<path fill="none" stroke="black" d="M773.84,-1759.55C719.48,-1745.8 631.14,-1723.45 566.85,-1707.19"/>
<polygon fill="black" stroke="black" points="567.97,-1703.86 557.41,-1704.8 566.25,-1710.64 567.97,-1703.86"/>
<text text-anchor="middle" x="687.56" y="-1725.8" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- checkNormalizeByDetectorID2&#45;&gt;findDetectorsOutsideLimitsV -->
<g id="edge23" class="edge">
<title>checkNormalizeByDetectorID2&#45;&gt;findDetectorsOutsideLimitsV</title>
<path fill="none" stroke="black" d="M822.78,-1754.77C822.1,-1713.13 820.36,-1606.66 819.52,-1555.41"/>
<polygon fill="black" stroke="black" points="823.03,-1555.66 819.36,-1545.72 816.03,-1555.78 823.03,-1555.66"/>
<text text-anchor="middle" x="830.56" y="-1638.8" font-family="Helvetica,sans-Serif" font-size="14.00">No</text>
</g>
<!-- checkgroupDetectors&#45;&gt;groupingDetectorsV -->
<g id="edge43" class="edge">
<title>checkgroupDetectors&#45;&gt;groupingDetectorsV</title>
<path fill="none" stroke="black" d="M484.65,-862.41C472.46,-850.07 455.18,-832.59 441.02,-818.26"/>
<polygon fill="black" stroke="black" points="443.68,-815.97 434.17,-811.32 438.71,-820.9 443.68,-815.97"/>
<text text-anchor="middle" x="475.56" y="-831.8" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- checkgroupDetectors&#45;&gt;SofQW3V -->
<g id="edge45" class="edge">
<title>checkgroupDetectors&#45;&gt;SofQW3V</title>
<path fill="none" stroke="black" d="M503.14,-861.1C506.31,-840.25 509.8,-803.89 502.06,-774 499.61,-764.55 495.11,-755 490.33,-746.61"/>
<polygon fill="black" stroke="black" points="493.47,-745.03 485.27,-738.32 487.5,-748.68 493.47,-745.03"/>
<text text-anchor="middle" x="516.56" y="-788.3" font-family="Helvetica,sans-Serif" font-size="14.00">No</text>
</g>
<!-- checkIsVanadium&#45;&gt;checkNormalizeByDetectorID2 -->
<g id="edge21" class="edge">
<title>checkIsVanadium&#45;&gt;checkNormalizeByDetectorID2</title>
<path fill="none" stroke="black" d="M914.25,-1843.21C896.86,-1830.01 871.84,-1811.02 852.41,-1796.27"/>
<polygon fill="black" stroke="black" points="854.66,-1793.59 844.58,-1790.33 850.43,-1799.17 854.66,-1793.59"/>
<text text-anchor="middle" x="921.06" y="-1812.8" font-family="Helvetica,sans-Serif" font-size="14.00">Vanadium</text>
</g>
<!-- checkDivideByVanadium2 -->
<g id="node37" class="node">
<title>checkDivideByVanadium2</title>
<polygon fill="limegreen" stroke="black" points="1042.06,-1471 894.09,-1453 1042.06,-1435 1190.03,-1453 1042.06,-1471"/>
<text text-anchor="middle" x="1042.06" y="-1449.3" font-family="Helvetica,sans-Serif" font-size="14.00">divide by vanadium?</text>
</g>
<!-- checkIsVanadium&#45;&gt;checkDivideByVanadium2 -->
<g id="edge24" class="edge">
<title>checkIsVanadium&#45;&gt;checkDivideByVanadium2</title>
<path fill="none" stroke="black" d="M973.91,-1844.73C1002.74,-1831.35 1037.06,-1808.23 1037.06,-1774 1037.06,-1774 1037.06,-1774 1037.06,-1525 1037.06,-1510.9 1038.05,-1495.27 1039.15,-1482.27"/>
<polygon fill="black" stroke="black" points="1042.6,-1482.98 1040.03,-1472.7 1035.63,-1482.34 1042.6,-1482.98"/>
<text text-anchor="middle" x="1063.06" y="-1638.8" font-family="Helvetica,sans-Serif" font-size="14.00">Sample</text>
</g>
<!-- checkDivideByVanadium2&#45;&gt;convertUnitsToEnergyV -->
<g id="edge36" class="edge">
<title>checkDivideByVanadium2&#45;&gt;convertUnitsToEnergyV</title>
<path fill="none" stroke="black" d="M1054.75,-1436.42C1058.92,-1430.62 1063.2,-1423.79 1066.06,-1417 1078.52,-1387.35 1080.06,-1378.16 1080.06,-1346 1080.06,-1346 1080.06,-1346 1080.06,-1184 1080.06,-1154.72 1015.35,-1132.86 953.41,-1118.65"/>
<polygon fill="black" stroke="black" points="954.3,-1115.26 943.78,-1116.5 952.78,-1122.09 954.3,-1115.26"/>
<text text-anchor="middle" x="1089.56" y="-1268.3" font-family="Helvetica,sans-Serif" font-size="14.00">No</text>
</g>
<!-- checkDivideByVanadium2&#45;&gt;maskDetectors2 -->
<g id="edge30" class="edge">
<title>checkDivideByVanadium2&#45;&gt;maskDetectors2</title>
<path fill="none" stroke="black" d="M1041.42,-1434.85C1039.88,-1418.67 1035,-1394.87 1020.06,-1381 1008.2,-1369.99 974.3,-1361.63 941.51,-1355.85"/>
<polygon fill="black" stroke="black" points="942.4,-1352.45 931.96,-1354.24 941.24,-1359.36 942.4,-1352.45"/>
<text text-anchor="middle" x="1050.56" y="-1395.3" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- checkNormalizeByQslice -->
<g id="node40" class="node">
<title>checkNormalizeByQslice</title>
<polygon fill="limegreen" stroke="black" points="588.06,-577 442.6,-559 588.06,-541 733.51,-559 588.06,-577"/>
<text text-anchor="middle" x="588.06" y="-555.3" font-family="Helvetica,sans-Serif" font-size="14.00">normalize by Q slice</text>
</g>
<!-- checkIsVanadium2&#45;&gt;checkNormalizeByQslice -->
<g id="edge48" class="edge">
<title>checkIsVanadium2&#45;&gt;checkNormalizeByQslice</title>
<path fill="none" stroke="black" d="M493.61,-629.21C511.93,-615.78 538.42,-596.37 558.69,-581.52"/>
<polygon fill="black" stroke="black" points="560.57,-584.48 566.57,-575.74 556.44,-578.83 560.57,-584.48"/>
<text text-anchor="middle" x="563.06" y="-598.8" font-family="Helvetica,sans-Serif" font-size="14.00">Sample</text>
</g>
<!-- vanadiumStructureFactorQE -->
<g id="node46" class="node">
<title>vanadiumStructureFactorQE</title>
<polygon fill="grey" stroke="black" points="424.88,-577 316.99,-577 289.24,-541 397.12,-541 424.88,-577"/>
<text text-anchor="middle" x="357.06" y="-555.3" font-family="Times,serif" font-size="14.00">Sv(Q,E)</text>
</g>
<!-- checkIsVanadium2&#45;&gt;vanadiumStructureFactorQE -->
<g id="edge47" class="edge">
<title>checkIsVanadium2&#45;&gt;vanadiumStructureFactorQE</title>
<path fill="none" stroke="black" d="M450.7,-629.21C433.62,-616.59 409.38,-598.67 389.84,-584.23"/>
<polygon fill="black" stroke="black" points="392.02,-581.49 381.9,-578.36 387.86,-587.12 392.02,-581.49"/>
<text text-anchor="middle" x="457.06" y="-598.8" font-family="Helvetica,sans-Serif" font-size="14.00">Vanadium</text>
</g>
<!-- checkNormalizeByDetectorID&#45;&gt;convertUnitsToEnergyV -->
<g id="edge35" class="edge">
<title>checkNormalizeByDetectorID&#45;&gt;convertUnitsToEnergyV</title>
<path fill="none" stroke="black" d="M865.47,-1253.88C861,-1224.33 851.81,-1163.49 846.36,-1127.48"/>
<polygon fill="black" stroke="black" points="849.86,-1127.17 844.9,-1117.8 842.94,-1128.21 849.86,-1127.17"/>
<text text-anchor="middle" x="867.56" y="-1181.3" font-family="Helvetica,sans-Serif" font-size="14.00">No</text>
</g>
<!-- checkNormalizeByDetectorID&#45;&gt;DivideByVanadiumDetectorID -->
<g id="edge33" class="edge">
<title>checkNormalizeByDetectorID&#45;&gt;DivideByVanadiumDetectorID</title>
<path fill="none" stroke="black" d="M847.96,-1255.61C831.42,-1242.94 807.69,-1224.77 788.62,-1210.17"/>
<polygon fill="black" stroke="black" points="790.96,-1207.55 780.89,-1204.25 786.7,-1213.11 790.96,-1207.55"/>
<text text-anchor="middle" x="831.56" y="-1224.8" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- checkNormalizeByQslice&#45;&gt;integrateVanadiumAroundElasticLine -->
<g id="edge49" class="edge">
<title>checkNormalizeByQslice&#45;&gt;integrateVanadiumAroundElasticLine</title>
<path fill="none" stroke="black" d="M568.38,-543.02C551.78,-530.39 527.68,-512.05 508.13,-497.17"/>
<polygon fill="black" stroke="black" points="510.51,-494.58 500.44,-491.31 506.27,-500.15 510.51,-494.58"/>
<text text-anchor="middle" x="553.56" y="-511.8" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- checkNormalizeByQslice&#45;&gt;sampleStructureFactor -->
<g id="edge54" class="edge">
<title>checkNormalizeByQslice&#45;&gt;sampleStructureFactor</title>
<path fill="none" stroke="black" d="M588.06,-540.54C588.06,-523.17 588.06,-495.74 588.06,-472 588.06,-472 588.06,-472 588.06,-323 588.06,-307.45 581.47,-291.62 574.18,-278.86"/>
<polygon fill="black" stroke="black" points="577.33,-277.3 569.09,-270.64 571.38,-280.98 577.33,-277.3"/>
<text text-anchor="middle" x="597.56" y="-393.3" font-family="Helvetica,sans-Serif" font-size="14.00">No</text>
</g>
<!-- datFile -->
<g id="node49" class="node">
<title>datFile</title>
<polygon fill="grey" stroke="black" points="200.18,-36 40.91,-36 -0.06,0 159.21,0 200.18,-36"/>
<text text-anchor="middle" x="100.06" y="-14.3" font-family="Times,serif" font-size="14.00">_sqw.dat file</text>
</g>
<!-- checkDivideByVanadium3&#45;&gt;datFile -->
<g id="edge57" class="edge">
<title>checkDivideByVanadium3&#45;&gt;datFile</title>
<path fill="none" stroke="black" d="M325.67,-91.37C283.36,-77.79 215.43,-56.01 165.15,-39.88"/>
<polygon fill="black" stroke="black" points="166.42,-36.61 155.83,-36.89 164.28,-43.28 166.42,-36.61"/>
<text text-anchor="middle" x="258.56" y="-57.8" font-family="Helvetica,sans-Serif" font-size="14.00">No</text>
</g>
<!-- dividedDatFile -->
<g id="node50" class="node">
<title>dividedDatFile</title>
<polygon fill="grey" stroke="black" points="530.12,-36 281.86,-36 217.99,0 466.26,0 530.12,-36"/>
<text text-anchor="middle" x="374.06" y="-14.3" font-family="Times,serif" font-size="14.00">_divided_sqw.dat file</text>
</g>
<!-- checkDivideByVanadium3&#45;&gt;dividedDatFile -->
<g id="edge58" class="edge">
<title>checkDivideByVanadium3&#45;&gt;dividedDatFile</title>
<path fill="none" stroke="black" d="M366.88,-86.8C368.07,-75.58 369.65,-60.67 371.02,-47.69"/>
<polygon fill="black" stroke="black" points="374.48,-48.29 372.05,-37.97 367.52,-47.55 374.48,-48.29"/>
<text text-anchor="middle" x="382.56" y="-57.8" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- sqwFile -->
<g id="node51" class="node">
<title>sqwFile</title>
<polygon fill="grey" stroke="black" points="770.99,-36 608.84,-36 567.13,0 729.28,0 770.99,-36"/>
<text text-anchor="middle" x="669.06" y="-14.3" font-family="Times,serif" font-size="14.00">_sqw.nxs file</text>
</g>
<!-- checkDivideByVanadium4&#45;&gt;sqwFile -->
<g id="edge61" class="edge">
<title>checkDivideByVanadium4&#45;&gt;sqwFile</title>
<path fill="none" stroke="black" d="M677.03,-86.8C675.72,-75.58 673.96,-60.67 672.43,-47.69"/>
<polygon fill="black" stroke="black" points="675.93,-47.49 671.29,-37.97 668.98,-48.31 675.93,-47.49"/>
<text text-anchor="middle" x="684.56" y="-57.8" font-family="Helvetica,sans-Serif" font-size="14.00">No</text>
</g>
<!-- dividedSqwFile -->
<g id="node52" class="node">
<title>dividedSqwFile</title>
<polygon fill="grey" stroke="black" points="1105.43,-36 853.49,-36 788.68,0 1040.62,0 1105.43,-36"/>
<text text-anchor="middle" x="947.06" y="-14.3" font-family="Times,serif" font-size="14.00">_divided_sqw.nxs file</text>
</g>
<!-- checkDivideByVanadium4&#45;&gt;dividedSqwFile -->
<g id="edge62" class="edge">
<title>checkDivideByVanadium4&#45;&gt;dividedSqwFile</title>
<path fill="none" stroke="black" d="M718.89,-91.37C761.68,-77.79 830.38,-56.01 881.23,-39.88"/>
<polygon fill="black" stroke="black" points="882.2,-43.24 890.67,-36.88 880.08,-36.57 882.2,-43.24"/>
<text text-anchor="middle" x="841.56" y="-57.8" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- maskData&#45;&gt;maskDetectors -->
<g id="edge11" class="edge">
<title>maskData&#45;&gt;maskDetectors</title>
<path fill="none" stroke="black" d="M1003.72,-2526.63C980.9,-2517.05 952.35,-2505.05 928.04,-2494.84"/>
<polygon fill="black" stroke="black" points="929.53,-2491.67 918.95,-2491.02 926.82,-2498.12 929.53,-2491.67"/>
</g>
<!-- basisNormMask&#45;&gt;maskDetectors2 -->
<g id="edge31" class="edge">
<title>basisNormMask&#45;&gt;maskDetectors2</title>
<path fill="none" stroke="black" d="M662.37,-1434.7C657.49,-1418.87 653.67,-1395.73 666.06,-1381 682.47,-1361.51 743.7,-1352.87 794.49,-1349.04"/>
<polygon fill="black" stroke="black" points="794.57,-1352.55 804.3,-1348.36 794.08,-1345.56 794.57,-1352.55"/>
</g>
<!-- vanadiumStructureFactorL&#45;&gt;findDetectorsOutsideLimitsV -->
<g id="edge27" class="edge">
<title>vanadiumStructureFactorL&#45;&gt;findDetectorsOutsideLimitsV</title>
<path fill="none" stroke="black" d="M547.18,-1585.14C597.11,-1574.47 668.97,-1559.1 726.27,-1546.84"/>
<polygon fill="black" stroke="black" points="727,-1550.27 736.05,-1544.75 725.53,-1543.42 727,-1550.27"/>
</g>
<!-- vanadiumStructureFactorL&#45;&gt;DivideByVanadiumDetectorID -->
<g id="edge34" class="edge">
<title>vanadiumStructureFactorL&#45;&gt;DivideByVanadiumDetectorID</title>
<path fill="none" stroke="black" d="M488.21,-1580.5C489.06,-1566.14 490.06,-1545.26 490.06,-1527 490.06,-1527 490.06,-1527 490.06,-1271 490.06,-1232.86 590.21,-1209.56 667.84,-1197.22"/>
<polygon fill="black" stroke="black" points="668.27,-1200.7 677.62,-1195.71 667.2,-1193.78 668.27,-1200.7"/>
</g>
<!-- vanadiumStructureFactorQE&#45;&gt;integrateVanadiumAroundElasticLine -->
<g id="edge50" class="edge">
<title>vanadiumStructureFactorQE&#45;&gt;integrateVanadiumAroundElasticLine</title>
<path fill="none" stroke="black" d="M380.94,-540.6C398.18,-528.03 421.73,-510.87 440.95,-496.86"/>
<polygon fill="black" stroke="black" points="442.75,-499.88 448.77,-491.16 438.63,-494.22 442.75,-499.88"/>
</g>
<!-- vanadiumStructureFactorQ&#45;&gt;DivideByVanadiumQslice -->
<g id="edge52" class="edge">
<title>vanadiumStructureFactorQ&#45;&gt;DivideByVanadiumQslice</title>
<path fill="none" stroke="black" d="M479.78,-378.81C480.11,-371.14 480.5,-361.89 480.87,-353.24"/>
<polygon fill="black" stroke="black" points="484.35,-353.68 481.28,-343.54 477.36,-353.38 484.35,-353.68"/>
</g>
<!-- sampleStructureFactor&#45;&gt;saveToDaveGroup -->
<g id="edge55" class="edge">
<title>sampleStructureFactor&#45;&gt;saveToDaveGroup</title>
<path fill="none" stroke="black" d="M533.76,-232.81C522.81,-223.98 509.29,-213.07 497.28,-203.39"/>
<polygon fill="black" stroke="black" points="499.63,-200.78 489.65,-197.23 495.23,-206.23 499.63,-200.78"/>
</g>
<!-- sampleStructureFactor&#45;&gt;saveToNexus -->
<g id="edge59" class="edge">
<title>sampleStructureFactor&#45;&gt;saveToNexus</title>
<path fill="none" stroke="black" d="M580.99,-232.63C594.46,-223.61 611.13,-212.44 625.76,-202.64"/>
<polygon fill="black" stroke="black" points="627.41,-205.75 633.77,-197.28 623.51,-199.93 627.41,-205.75"/>
</g>
</g>
</svg>
