<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Workspace2D</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Workspace Group" href="WorkspaceGroup.html" />
    <link rel="prev" title="Workspace" href="Workspace.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.6</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://docs.mantidproject.org/nightly/">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Concepts</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">Workspace2D</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="workspace2d">
<span id="id1"></span><h1>Workspace2D<a class="headerlink" href="#workspace2d" title="Permalink to this heading">¶</a></h1>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#working-with-workspace2ds-in-python" id="id2">Working with Workspace2Ds in Python</a></p>
<ul>
<li><p><a class="reference internal" href="#accessing-workspaces" id="id3">Accessing Workspaces</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#other-information-on-workspaces" id="id4">Other Information on Workspaces</a></p>
<ul>
<li><p><a class="reference internal" href="#pickling-workspaces" id="id5">Pickling Workspaces</a></p></li>
</ul>
</li>
</ul>
</nav>
<p>The Workspace2D is a Mantid data type for a
<a class="reference internal" href="MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a>.</p>
<p>It consists of a workspace with 1 or more spectra. Typically, each
spectrum will be a histogram. For example, you might have 10 bins, and
so have 11 X-value, 10 Y-values and 10 E-values in a workspace.</p>
<p>In contrast to an <a class="reference internal" href="EventWorkspace.html#eventworkspace"><span class="std std-ref">EventWorkspace</span></a>, a Workspace2D
only contains bin information and does not contain the underlying event
data. The <a class="reference internal" href="EventWorkspace.html#eventworkspace"><span class="std std-ref">EventWorkspace</span></a> presents itself as a
histogram (with X,Y,E values) but preserves the underlying event data.</p>
<p>For more information on what a Workspace2D contains, see
<a class="reference internal" href="MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a>.</p>
<p>There is also a specialised form of Workspace2D, called a RebinnedOutput
which is produced by <a class="reference internal" href="../algorithms/SofQWNormalisedPolygon-v1.html#algm-sofqwnormalisedpolygon"><span class="std std-ref">SofQWNormalisedPolygon v1</span></a>. In addition
to the signal Y and error E values for each bin, it also carries the
fractional weight F of the signal in the bin. This is needed to keep
track of the portions of counts from bins in the original grid which has
been put into the new (rebinned) grid. A more detailed explanation is
given in the description of <a class="reference internal" href="../algorithms/SofQWNormalisedPolygon-v1.html#algm-sofqwnormalisedpolygon"><span class="std std-ref">SofQWNormalisedPolygon v1</span></a>.
For correct handling of the fractional weights in rebinning, the user
is recommended to use the <a class="reference internal" href="../algorithms/Rebin2D-v1.html#algm-rebin2d"><span class="std std-ref">Rebin2D v1</span></a> algorithm in preference
to <a class="reference internal" href="../algorithms/Integration-v1.html#algm-integration"><span class="std std-ref">Integration v1</span></a> or <a class="reference internal" href="../algorithms/SumSpectra-v1.html#algm-sumspectra"><span class="std std-ref">SumSpectra v1</span></a> although the other
algorithms do account for the fractional weights.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Note, however, that all binary and unary operations on
workspaces will ignore the fractional weights. Thus it is important
to handle all background subtractions and scaling in the original
reduced dataset(s) <strong>before</strong> conversion using
<a class="reference internal" href="../algorithms/SofQWNormalisedPolygon-v1.html#algm-sofqwnormalisedpolygon"><span class="std std-ref">SofQWNormalisedPolygon v1</span></a>.</p>
</div>
<section id="working-with-workspace2ds-in-python">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Working with Workspace2Ds in Python</a><a class="headerlink" href="#working-with-workspace2ds-in-python" title="Permalink to this heading">¶</a></h2>
<p>Workspace2D is a <a class="reference internal" href="MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a> and does not offer any functionality above that of a Matrix Workspace.</p>
<section id="accessing-workspaces">
<h3><a class="toc-backref" href="#id3" role="doc-backlink">Accessing Workspaces</a><a class="headerlink" href="#accessing-workspaces" title="Permalink to this heading">¶</a></h3>
<p>The methods for getting a variable to an EventWorkspace is the same as shown in the <a class="reference internal" href="WorkingWithWorspaces.html#workspace-accessing-workspaces"><span class="std std-ref">Workspace</span></a> help page.</p>
<p>If you want to check if a variable points to something that is a Workspace2D you can use this:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">histoWS</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">()</span>

<span class="k">if</span> <span class="n">histoWS</span><span class="o">.</span><span class="n">id</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;Workspace2D&quot;</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">histoWS</span><span class="o">.</span><span class="n">name</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot; is an &quot;</span> <span class="o">+</span> <span class="n">histoWS</span><span class="o">.</span><span class="n">id</span><span class="p">())</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>histoWS is an Workspace2D
</pre></div>
</div>
</section>
</section>
<section id="other-information-on-workspaces">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Other Information on Workspaces</a><a class="headerlink" href="#other-information-on-workspaces" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><dl class="simple">
<dt><a class="reference internal" href="Workspace.html#workspace"><span class="std std-ref">Workspace</span></a> - Overview of workspaces, which include the following classes:</dt><dd><ul>
<li><p><a class="reference internal" href="MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a> - A base class that contains
among others:</p>
<ul>
<li><p>WorkspaceSingleValue - Holds a single number (and X &amp; error value,
if desired). Mainly used for workspace algebra, e.g. to divide all
bins in a 2D workspace by a single value.</p></li>
<li><p><a class="reference internal" href="#workspace2d"><span class="std std-ref">Workspace2D</span></a> - A workspace for holding two
dimensional data in memory, this is the most commonly used
workspace.</p></li>
<li><p><a class="reference internal" href="EventWorkspace.html#eventworkspace"><span class="std std-ref">EventWorkspace</span></a> - A workspace that retains the
individual neutron event data.</p></li>
</ul>
</li>
<li><p><a class="reference internal" href="TableWorkspaces.html#table-workspaces"><span class="std std-ref">TableWorkspace</span></a> - A workspace holding data in
rows of columns having a particular type (e.g. text, integer, …).</p></li>
<li><p><a class="reference internal" href="WorkspaceGroup.html#workspacegroup"><span class="std std-ref">WorkspaceGroup</span></a> - A container for a collection of
workspaces. Algorithms given a group as input run sequentially on
each member of the group.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<section id="pickling-workspaces">
<h3><a class="toc-backref" href="#id5" role="doc-backlink">Pickling Workspaces</a><a class="headerlink" href="#pickling-workspaces" title="Permalink to this heading">¶</a></h3>
<p>A Workspace2D may be <cite>pickled &lt;https://docs.python.org/2/library/pickle.html/&gt;</cite> and de-pickled in python. The current pickling process has the following limitations to beware.</p>
<ul class="simple">
<li><p>Only Workspace2D objects can be pickled and de-pickled. Other <a class="reference internal" href="MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a> subtypes cannot be pickled</p></li>
<li><p>Meta-data such as sample logs are not pickled</p></li>
<li><p>Masking flags are not pickled</p></li>
<li><p>Scanning Workspace2D objects are not permitted for pickling</p></li>
<li><p>Workspace2D objects are always converted into <a class="reference internal" href="HistogramData.html#histogramdata"><span class="std std-ref">histograms</span></a> formed as bin edges and counts as part of the pickling process.</p></li>
</ul>
<p>In addition, users should prefer using cPickle over pickle, and make sure that the protocol option is set to the HIGHEST_PROTOCOL to ensure that the serialization/deserialization process is as fast as possible.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">cPickle</span> <span class="k">as</span> <span class="nn">pickle</span>
<span class="n">pickled</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">ws2d</span><span class="p">,</span> <span class="n">pickle</span><span class="o">.</span><span class="n">HIGHEST_PROTOCOL</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Category</strong>: <a class="reference external" href="../api/python/mantid/api/categories/Concepts.html">Concepts</a></p>
</section>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="Workspace.html" title="Previous Chapter: Workspace"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Workspace</span>
    </a>
  </li>
  <li>
    <a href="WorkspaceGroup.html" title="Next Chapter: Workspace Group"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Workspace Group &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>