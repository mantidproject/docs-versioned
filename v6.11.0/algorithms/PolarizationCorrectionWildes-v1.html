<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>PolarizationCorrectionWildes v1</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css?v=fadd4351" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=77160d70" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script src="../_static/documentation_options.js?v=06de18c4"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="PolarizationEfficienciesWildes v1" href="PolarizationEfficienciesWildes-v1.html" />
    <link rel="prev" title="PolarizationCorrectionFredrikze v1" href="PolarizationCorrectionFredrikze-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.11</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://www.mantidproject.org">Home</a></li>
                <li><a href="https://download.mantidproject.org">Download</a></li>
                <li><a href="https://docs.mantidproject.org">Documentation</a></li>
                <li><a href="https://www.mantidproject.org/contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Algorithms</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">PolarizationCorrectionWildes v1</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="polarizationcorrectionwildes-v1">
<span id="algm-polarizationcorrectionwildes"></span><span id="algm-polarizationcorrectionwildes-v1"></span><h1>PolarizationCorrectionWildes v1<a class="headerlink" href="#polarizationcorrectionwildes-v1" title="Link to this heading">¶</a></h1>
<nav class="contents local" id="table-of-contents">
<span id="index-0"></span><p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#summary" id="id5">Summary</a></p>
<ul>
<li><p><a class="reference internal" href="#see-also" id="id6">See Also</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#properties" id="id7">Properties</a></p></li>
<li><p><a class="reference internal" href="#description" id="id8">Description</a></p>
<ul>
<li><p><a class="reference internal" href="#flipper-configurations" id="id9">Flipper configurations</a></p></li>
<li><p><a class="reference internal" href="#spin-states" id="id10">Spin States</a></p></li>
<li><p><a class="reference internal" href="#output" id="id11">Output</a></p></li>
<li><p><a class="reference internal" href="#efficiency-factors" id="id12">Efficiency factors</a></p></li>
<li><p><a class="reference internal" href="#error-propagation" id="id13">Error propagation</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#usage" id="id14">Usage</a></p></li>
<li><p><a class="reference internal" href="#references" id="id15">References</a></p></li>
<li><p><a class="reference internal" href="#source" id="id16">Source</a></p></li>
</ul>
</nav>
<section id="summary">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Summary</a><a class="headerlink" href="#summary" title="Link to this heading">¶</a></h2>
<p>Corrects a group of polarization analysis workspaces for polarizer and analyzer efficiencies.</p>
<section id="see-also">
<h3><a class="toc-backref" href="#id6" role="doc-backlink">See Also</a><a class="headerlink" href="#see-also" title="Link to this heading">¶</a></h3>
<p><a class="reference internal" href="PolarizationEfficiencyCor-v1.html#algm-polarizationefficiencycor"><span class="std std-ref">PolarizationEfficiencyCor</span></a>, <a class="reference internal" href="PolarizationEfficienciesWildes-v1.html#algm-polarizationefficiencieswildes"><span class="std std-ref">PolarizationEfficienciesWildes</span></a></p>
</section>
</section>
<section id="properties">
<h2><a class="toc-backref" href="#id7" role="doc-backlink">Properties</a><a class="headerlink" href="#properties" title="Link to this heading">¶</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Direction</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>InputWorkspaces</p></td>
<td><p>Input</p></td>
<td><p>str list</p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>A list of workspaces to be corrected corresponding to the flipper configurations.</p></td>
</tr>
<tr class="row-odd"><td><p>OutputWorkspace</p></td>
<td><p>Output</p></td>
<td><p>WorkspaceGroup</p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>A group of polarization efficiency corrected workspaces.</p></td>
</tr>
<tr class="row-even"><td><p>Flippers</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>00, 01, 10, 11</p></td>
<td><p>Flipper configurations of the input workspaces.</p></td>
</tr>
<tr class="row-odd"><td><p>SpinStates</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>The order of the spin states in the output workspace.</p></td>
</tr>
<tr class="row-even"><td><p>Efficiencies</p></td>
<td><p>Input</p></td>
<td><p><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a></p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>A workspace containing the efficiency factors P1, P2, F1 and F2 as histograms</p></td>
</tr>
</tbody>
</table>
</section>
<section id="description">
<h2><a class="toc-backref" href="#id8" role="doc-backlink">Description</a><a class="headerlink" href="#description" title="Link to this heading">¶</a></h2>
<p>This algorithm corrects for non-ideal instrument component efficiencies in a polarization analysis experiment by following the procedure and conventions introduced by Wildes <a class="footnote-reference brackets" href="#wildes" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>. In the full polarization analysis case it solves the corrected count rates <span class="math notranslate nohighlight">\(\Sigma^{++}\)</span>, <span class="math notranslate nohighlight">\(\Sigma^{+-}\)</span>, <span class="math notranslate nohighlight">\(\Sigma^{-+}\)</span> and <span class="math notranslate nohighlight">\(\Sigma^{--}\)</span> from the equation</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{bmatrix}
\Sigma^{++} \\
\Sigma^{+-} \\
\Sigma^{-+} \\
\Sigma^{--}
\end{bmatrix}
= \begin{bmatrix}
     M
  \end{bmatrix}
\begin{bmatrix}
I^{00} \\
I^{01} \\
I^{10} \\
I^{11}
\end{bmatrix},\end{split}\]</div>
<p>where <span class="math notranslate nohighlight">\(I^{jk}\)</span> are the experimental count rates for flipper configuration <span class="math notranslate nohighlight">\(jk\)</span> and
<span class="math notranslate nohighlight">\(\begin{bmatrix}M\end{bmatrix}\)</span> is the four-by-four correction matrix as defined by equations (4) in <a class="footnote-reference brackets" href="#wildes" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>.</p>
<section id="flipper-configurations">
<h3><a class="toc-backref" href="#id9" role="doc-backlink">Flipper configurations</a><a class="headerlink" href="#flipper-configurations" title="Link to this heading">¶</a></h3>
<p><em>InputWorkspaces</em> is a list containing one to four workspace names (X unit: wavelength) corresponding to the instrument configurations given as <em>Flippers</em>. Supported configurations are:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">'00,</span> <span class="pre">01,</span> <span class="pre">10,</span> <span class="pre">11'</span></code></dt><dd><p>Full polarization corrections: both flippers off, analyzer flipper on, polarizer flipper on, both flippers on. Four input workspaces are required. The flipper configuration can be provided in any order and should match the order of the workspaces in the input group.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">'00,</span> <span class="pre">01,</span> <span class="pre">11'</span></code> and <code class="docutils literal notranslate"><span class="pre">'00,</span> <span class="pre">10,</span> <span class="pre">11'</span></code></dt><dd><p>Polarization corrections with the assumption that the corrected count rates <span class="math notranslate nohighlight">\(\Sigma^{+-} = \Sigma^{-+}\)</span>. In this case the intensity of the missing flipper configuration (01 or 10) can be solved from the other intensities. The flipper configuration can be provided in any order and should match the order of the workspaces in the input group.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">'00,</span> <span class="pre">11'</span></code></dt><dd><p>Polarization corrections with the assumption that the corrected count rates <span class="math notranslate nohighlight">\(\Sigma^{+-} = \Sigma^{-+} = 0\)</span>. In this case the intensities of the missing flipper configurations (01 and 10) can be solved from the other intensities. The flipper configuration can be provided in any order and should match the order of the workspaces in the input group.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">'0,</span> <span class="pre">1'</span></code></dt><dd><p>Polarization corrections when no analyzer has been used: polarizer flipper off, polarizer flipper on. The flipper configuration can be provided in any order and should match the order of the workspaces in the input group.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">'0'</span></code></dt><dd><p>Polarization corrections for a direct beam measurement in a reflectometry experiment.</p>
</dd>
</dl>
</section>
<section id="spin-states">
<h3><a class="toc-backref" href="#id10" role="doc-backlink">Spin States</a><a class="headerlink" href="#spin-states" title="Link to this heading">¶</a></h3>
<p>The order of the workspaces in the output group workspace can be defined by setting the values in the <em>SpinStates</em>
property. Supported configurations are:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">''</span></code></dt><dd><p>Default behaviour. The output workspace group will be in the order <code class="docutils literal notranslate"><span class="pre">'++,</span> <span class="pre">+-,</span> <span class="pre">-+,</span> <span class="pre">--'</span></code> for all outputs. In
instances where not all outputs are produced, the order is maintained with the missing workspaces omitted (e.g.
<code class="docutils literal notranslate"><span class="pre">'++,</span> <span class="pre">--'</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">'++,</span> <span class="pre">--,</span> <span class="pre">+-,</span> <span class="pre">--'</span></code></dt><dd><p>For polarization corrections where both an analyzer and polarizer are used. The order of the states in the string
will be the same as the order of the workspaces in the <em>OutputWorkspace</em> group. Only allowed if flipper
configuration accounts for both flippers (contains two digits).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">'--,</span> <span class="pre">++'</span></code></dt><dd><p>For polarization corrections when no analyzer has been used. Only allowed if the flipper configuration is also
setup this way (e.g. <code class="docutils literal notranslate"><span class="pre">'1,</span> <span class="pre">0'</span></code>).</p>
</dd>
</dl>
<p><em>Note:</em> Output order cannot be set for direct beam measurements as there is only a single workspace in the output.</p>
</section>
<section id="output">
<h3><a class="toc-backref" href="#id11" role="doc-backlink">Output</a><a class="headerlink" href="#output" title="Link to this heading">¶</a></h3>
<p>The algorithm’s output is a group workspace containing the corrected workspaces. The names of each corrected workspace is suffixed by <code class="docutils literal notranslate"><span class="pre">_++</span></code>, <code class="docutils literal notranslate"><span class="pre">_+-</span></code>, <code class="docutils literal notranslate"><span class="pre">_-+</span></code> or <code class="docutils literal notranslate"><span class="pre">_--</span></code> depending on which <span class="math notranslate nohighlight">\(\Sigma^{mn}\)</span> they correspond to.</p>
</section>
<section id="efficiency-factors">
<h3><a class="toc-backref" href="#id12" role="doc-backlink">Efficiency factors</a><a class="headerlink" href="#efficiency-factors" title="Link to this heading">¶</a></h3>
<p>The <em>Efficiencies</em> input property expects to get a workspace with the following properties:</p>
<ul class="simple">
<li><p>Contains four histograms, each labeled by their vertical axis as <code class="docutils literal notranslate"><span class="pre">P1</span></code>, <code class="docutils literal notranslate"><span class="pre">P2</span></code>, <code class="docutils literal notranslate"><span class="pre">F1</span></code>, <code class="docutils literal notranslate"><span class="pre">F2</span></code>. Other histograms (if present) are ignored.</p></li>
<li><p>The Y values of each histogram should be the corresponding efficiencies as functions of wavelength as defined in <a class="footnote-reference brackets" href="#wildes" id="id3" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>.</p></li>
<li><p>The wavelength values (X values) should be the same is in the input workspaces.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Users at ILL can load a conforming efficiency workspace from disk by <a class="reference internal" href="LoadILLPolarizationFactors-v1.html#algm-loadillpolarizationfactors"><span class="std std-ref">LoadILLPolarizationFactors v1</span></a>.</p>
</div>
</section>
<section id="error-propagation">
<h3><a class="toc-backref" href="#id13" role="doc-backlink">Error propagation</a><a class="headerlink" href="#error-propagation" title="Link to this heading">¶</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Errors are calculated as per Wildes <a class="footnote-reference brackets" href="#wildes" id="id4" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>, except for the numerically solved intensity in <code class="docutils literal notranslate"><span class="pre">'00,</span> <span class="pre">01,</span> <span class="pre">11'</span></code> and <code class="docutils literal notranslate"><span class="pre">'00,</span> <span class="pre">10,</span> <span class="pre">11'</span></code> flipper configurations in which case the uncertainties of <span class="math notranslate nohighlight">\(\Sigma^{+-}\)</span> or <span class="math notranslate nohighlight">\(\Sigma^{-+}\)</span> are set to zero.</p>
</div>
</section>
</section>
<section id="usage">
<h2><a class="toc-backref" href="#id14" role="doc-backlink">Usage</a><a class="headerlink" href="#usage" title="Link to this heading">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To run these usage examples please first download the
<a class="reference external" href="https://sourceforge.net/projects/mantid/files/Sample%20Data/UsageData.zip/download">usage data</a>,
and add these to your path.
In Mantid this is done using <a class="reference internal" href="../interfaces/framework/ManageUserDirectories.html#manageuserdirectories"><span class="std std-ref">Manage User Directories</span></a>.</p>
</div>
<p><strong>Example - PolarizationEfficiencyCor</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LoadILLReflectometry</span><span class="p">(</span>
    <span class="n">Filename</span><span class="o">=</span><span class="s1">&#39;ILL/D17/317370.nxs&#39;</span><span class="p">,</span>
    <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;direct_beam&#39;</span><span class="p">,</span>
    <span class="n">XUnit</span><span class="o">=</span><span class="s1">&#39;TimeOfFlight&#39;</span><span class="p">)</span>
<span class="n">LoadILLReflectometry</span><span class="p">(</span>
    <span class="n">Filename</span><span class="o">=</span><span class="s1">&#39;ILL/D17/317370.nxs&#39;</span><span class="p">,</span>
    <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;reflected_beam&#39;</span><span class="p">,</span>
    <span class="n">Measurement</span><span class="o">=</span><span class="s1">&#39;ReflectedBeam&#39;</span><span class="p">,</span>
    <span class="n">BraggAngle</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span>
    <span class="n">XUnit</span><span class="o">=</span><span class="s1">&#39;TimeOfFlight&#39;</span><span class="p">)</span>
<span class="c1"># Sum pixels containing the reflected intensity</span>
<span class="n">GroupDetectors</span><span class="p">(</span>
    <span class="n">InputWorkspace</span><span class="o">=</span><span class="s1">&#39;reflected_beam&#39;</span><span class="p">,</span>
    <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;reflected_beam&#39;</span><span class="p">,</span>
    <span class="n">WorkspaceIndexList</span><span class="o">=</span><span class="p">[</span><span class="mi">199</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">201</span><span class="p">,</span> <span class="mi">202</span><span class="p">,</span> <span class="mi">203</span><span class="p">,</span> <span class="mi">204</span><span class="p">,</span> <span class="mi">205</span><span class="p">])</span>
<span class="n">ConvertUnits</span><span class="p">(</span>
    <span class="n">InputWorkspace</span><span class="o">=</span><span class="s1">&#39;reflected_beam&#39;</span><span class="p">,</span>
    <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;reflected_beam&#39;</span><span class="p">,</span>
    <span class="n">Target</span><span class="o">=</span><span class="s1">&#39;Wavelength&#39;</span><span class="p">,</span>
    <span class="n">EMode</span><span class="o">=</span><span class="s1">&#39;Elastic&#39;</span><span class="p">)</span>
<span class="c1"># There are some unphysical wavelengths</span>
<span class="n">CropWorkspace</span><span class="p">(</span>
    <span class="n">InputWorkspace</span><span class="o">=</span><span class="s1">&#39;reflected_beam&#39;</span><span class="p">,</span>
    <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;reflected_beam&#39;</span><span class="p">,</span>
    <span class="n">XMin</span><span class="o">=</span><span class="mf">0.</span><span class="p">)</span>
<span class="c1"># Fake two flipper configurations</span>
<span class="n">RenameWorkspace</span><span class="p">(</span>
    <span class="n">InputWorkspace</span><span class="o">=</span><span class="s1">&#39;reflected_beam&#39;</span><span class="p">,</span>
    <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;up&#39;</span>
<span class="p">)</span>
<span class="n">CloneWorkspace</span><span class="p">(</span>
    <span class="n">InputWorkspace</span><span class="o">=</span><span class="s1">&#39;up&#39;</span><span class="p">,</span>
    <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;down&#39;</span>
<span class="p">)</span>
<span class="n">Scale</span><span class="p">(</span>
    <span class="n">InputWorkspace</span><span class="o">=</span><span class="s1">&#39;down&#39;</span><span class="p">,</span>
    <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;down&#39;</span><span class="p">,</span>
    <span class="n">Factor</span><span class="o">=</span><span class="mf">0.1</span>
<span class="p">)</span>
<span class="n">LoadILLPolarizationFactors</span><span class="p">(</span>
    <span class="n">Filename</span><span class="o">=</span><span class="s1">&#39;ILL/D17/PolarizationFactors.txt&#39;</span><span class="p">,</span>
    <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;efficiencies&#39;</span><span class="p">,</span>
    <span class="n">WavelengthReference</span><span class="o">=</span><span class="s1">&#39;up&#39;</span><span class="p">)</span>
<span class="n">PolarizationEfficiencyCor</span><span class="p">(</span>
    <span class="n">InputWorkspaces</span><span class="o">=</span><span class="s1">&#39;up, down&#39;</span><span class="p">,</span>
    <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;corrected&#39;</span><span class="p">,</span>
    <span class="n">Efficiencies</span><span class="o">=</span><span class="s1">&#39;efficiencies&#39;</span><span class="p">,</span>
    <span class="n">Flippers</span><span class="o">=</span><span class="s1">&#39;00, 11&#39;</span><span class="p">)</span>

<span class="n">orig</span> <span class="o">=</span> <span class="n">mtd</span><span class="p">[</span><span class="s1">&#39;up&#39;</span><span class="p">]</span>
<span class="n">corr</span> <span class="o">=</span> <span class="n">mtd</span><span class="p">[</span><span class="s1">&#39;corrected_++&#39;</span><span class="p">]</span>
<span class="n">index</span> <span class="o">=</span> <span class="n">orig</span><span class="o">.</span><span class="n">yIndexOfX</span><span class="p">(</span><span class="mf">15.</span><span class="p">)</span>
<span class="n">ratio_up</span> <span class="o">=</span> <span class="n">corr</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="n">index</span><span class="p">]</span> <span class="o">/</span> <span class="n">orig</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="n">index</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Ratio of corrected and original &#39;up&#39; intensity at 15A: </span><span class="si">{:.4}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ratio_up</span><span class="p">))</span>
<span class="n">orig</span> <span class="o">=</span> <span class="n">mtd</span><span class="p">[</span><span class="s1">&#39;down&#39;</span><span class="p">]</span>
<span class="n">corr</span> <span class="o">=</span> <span class="n">mtd</span><span class="p">[</span><span class="s1">&#39;corrected_--&#39;</span><span class="p">]</span>
<span class="n">index</span> <span class="o">=</span> <span class="n">orig</span><span class="o">.</span><span class="n">yIndexOfX</span><span class="p">(</span><span class="mf">15.</span><span class="p">)</span>
<span class="n">ratio_down</span> <span class="o">=</span> <span class="n">corr</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="n">index</span><span class="p">]</span> <span class="o">/</span> <span class="n">orig</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="n">index</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Ratio of corrected and original &#39;down&#39; intensity at 15A: </span><span class="si">{:.4}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ratio_down</span><span class="p">))</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Ratio of corrected and original &#39;up&#39; intensity at 15A: 0.1062
Ratio of corrected and original &#39;down&#39; intensity at 15A: 10.38
</pre></div>
</div>
</section>
<section id="references">
<h2><a class="toc-backref" href="#id15" role="doc-backlink">References</a><a class="headerlink" href="#references" title="Link to this heading">¶</a></h2>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="wildes" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id1">1</a>,<a role="doc-backlink" href="#id2">2</a>,<a role="doc-backlink" href="#id3">3</a>,<a role="doc-backlink" href="#id4">4</a>)</span>
<p>A. R. Wildes, <em>Neutron News</em>, <strong>17</strong> 17 (2006)
<a class="reference external" href="https://doi.org/10.1080/10448630600668738">doi: 10.1080/10448630600668738</a></p>
</aside>
</aside>
<p><strong>Categories</strong>: <a class="reference external" href="categories/AlgorithmIndex.html">AlgorithmIndex</a> | <a class="reference external" href="categories/Reflectometry.html">Reflectometry</a></p>
</section>
<section id="source">
<h2><a class="toc-backref" href="#id16" role="doc-backlink">Source</a><a class="headerlink" href="#source" title="Link to this heading">¶</a></h2>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/c66b9d75d3432a3fcde604fac070fd25fe61daf8/Framework/Algorithms/inc/MantidAlgorithms/PolarizationCorrectionWildes.h">PolarizationCorrectionWildes.h</a></p>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/c66b9d75d3432a3fcde604fac070fd25fe61daf8/Framework/Algorithms/src/PolarizationCorrectionWildes.cpp">PolarizationCorrectionWildes.cpp</a></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="PolarizationCorrectionFredrikze-v1.html" title="Previous Chapter: PolarizationCorrectionFredrikze v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; PolarizationC...</span>
    </a>
  </li>
  <li>
    <a href="PolarizationEfficienciesWildes-v1.html" title="Next Chapter: PolarizationEfficienciesWildes v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">PolarizationE... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>