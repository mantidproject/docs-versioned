<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Reflectometry Changes</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-sphinx.css?v=fadd4351" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=77160d70" />
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <script src="../../_static/documentation_options.js?v=06de18c4"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="SANS Changes" href="sans.html" />
    <link rel="prev" title="MuSR Changes" href="muon.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.11</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://www.mantidproject.org">Home</a></li>
                <li><a href="https://download.mantidproject.org">Download</a></li>
                <li><a href="https://docs.mantidproject.org">Documentation</a></li>
                <li><a href="https://www.mantidproject.org/contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="../index.html" >Release Notes</a> &#187;</li>
          
            <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">Mantid 5.1.0 Release Notes</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">Reflectometry Changes</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="reflectometry-changes">
<h1>Reflectometry Changes<a class="headerlink" href="#reflectometry-changes" title="Link to this heading">¶</a></h1>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#algorithms" id="id5">Algorithms</a></p>
<ul>
<li><p><a class="reference internal" href="#new" id="id6">New</a></p></li>
<li><p><a class="reference internal" href="#improvements" id="id7">Improvements</a></p></li>
<li><p><a class="reference internal" href="#bug-fixes" id="id8">Bug fixes</a></p></li>
<li><p><a class="reference internal" href="#removed" id="id9">Removed</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#isis-reflectometry-interface" id="id10">ISIS Reflectometry Interface</a></p>
<ul>
<li><p><a class="reference internal" href="#id1" id="id11">New</a></p></li>
<li><p><a class="reference internal" href="#id2" id="id12">Bug fixes</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="algorithms">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Algorithms</a><a class="headerlink" href="#algorithms" title="Link to this heading">¶</a></h2>
<section id="new">
<h3><a class="toc-backref" href="#id6" role="doc-backlink">New</a><a class="headerlink" href="#new" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="../../algorithms/LRReductionWithReference-v1.html#algm-lrreductionwithreference"><span class="std std-ref">LRReductionWithReference v1</span></a> is a new algorithm to use a measured standard with a model reflectivity
curve calculated by the <cite>refl1d</cite> package to produce a normalization curve for a sample reduction.
This requires <cite>refl1d</cite> to be installed separately.</p></li>
</ul>
</section>
<section id="improvements">
<h3><a class="toc-backref" href="#id7" role="doc-backlink">Improvements</a><a class="headerlink" href="#improvements" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>The ensemble of ILL reflectometry reduction is improved to produce results more consistent with the
legacy software for D17 instrument.</p></li>
<li><p>Sample waviness term is removed from resolution calculation in incoherent mode in the
<a class="reference internal" href="../../algorithms/ReflectometryMomentumTransfer-v1.html#algm-reflectometrymomentumtransfer"><span class="std std-ref">ReflectometryMomentumTransfer</span></a> algorithm.</p></li>
<li><p>A flag to enable / disable apply scaling factor from <cite>ScalingFactorFile</cite>, called <cite>ApplyScalingFactor</cite>,
has been added to the <a class="reference internal" href="../../algorithms/LiquidsReflectometryReduction-v1.html#algm-liquidsreflectometryreduction"><span class="std std-ref">LiquidsReflectometryReduction v1</span></a> algorithm.</p></li>
<li><p>The <a class="reference internal" href="../../algorithms/LRAutoReduction-v1.html#algm-lrautoreduction"><span class="std std-ref">LRAutoReduction v1</span></a> algorithm has been modified to allow the option to autoreduce data with
a reference measurement for normalization (instead of only direct beam) using the new
<a class="reference internal" href="../../algorithms/LRReductionWithReference-v1.html#algm-lrreductionwithreference"><span class="std std-ref">LRReductionWithReference v1</span></a> algorithm of this release.</p></li>
<li><p>The leading separator is no longer included for Custom and ANSTO formats in the
<a class="reference internal" href="../../algorithms/SaveReflectometryAscii-v1.html#algm-savereflectometryascii"><span class="std std-ref">SaveReflectometryAscii v1</span></a> algorithm; Custom format header now uses the same separator as the
columns and includes the 4th column header if applicable.</p></li>
</ul>
</section>
<section id="bug-fixes">
<h3><a class="toc-backref" href="#id8" role="doc-backlink">Bug fixes</a><a class="headerlink" href="#bug-fixes" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>The <a class="reference internal" href="../../algorithms/LoadILLReflectometry-v1.html#algm-loadillreflectometry"><span class="std std-ref">LoadILLReflectometry</span></a> algorithm has been fixed to update the sample
logs of chopper gap and chopper position with correct units regardless the wrong setting in nexus files.</p></li>
<li><p>The history for the <a class="reference internal" href="../../algorithms/ReflectometryReductionOne-v2.html#algm-reflectometryreductionone"><span class="std std-ref">ReflectometryReductionOne v2</span></a> algorithm has been fixed so that the conversion
to Q is now always included in the history.</p></li>
<li><p>The sort function in the <a class="reference internal" href="../../algorithms/LRDirectBeamSort-v1.html#algm-lrdirectbeamsort"><span class="std std-ref">LRDirectBeamSort</span></a> algorithm has been updated for Python3.</p></li>
</ul>
</section>
<section id="removed">
<h3><a class="toc-backref" href="#id9" role="doc-backlink">Removed</a><a class="headerlink" href="#removed" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>The following deprecated algorithms have been removed: <code class="docutils literal notranslate"><span class="pre">SaveANSTOAscii</span></code>, <code class="docutils literal notranslate"><span class="pre">SaveILLCosmosAscii</span></code>,
<code class="docutils literal notranslate"><span class="pre">SaveReflCustomAscii</span></code>, and <code class="docutils literal notranslate"><span class="pre">SaveReflThreeColumnAscii</span></code>. They have been replaced by <a class="reference internal" href="../../algorithms/SaveReflectometryAscii-v1.html#algm-savereflectometryascii"><span class="std std-ref">SaveReflectometryAscii v1</span></a>.</p></li>
</ul>
</section>
</section>
<section id="isis-reflectometry-interface">
<h2><a class="toc-backref" href="#id10" role="doc-backlink">ISIS Reflectometry Interface</a><a class="headerlink" href="#isis-reflectometry-interface" title="Link to this heading">¶</a></h2>
<section id="id1">
<h3><a class="toc-backref" href="#id11" role="doc-backlink">New</a><a class="headerlink" href="#id1" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p><strong>Background subtraction</strong> options have been added to the ISIS Reflectometry Interface. The subtraction is
performed using the <a class="reference internal" href="../../algorithms/ReflectometryBackgroundSubtraction-v1.html#algm-reflectometrybackgroundsubtraction"><span class="std std-ref">ReflectometryBackgroundSubtraction v1</span></a> algorithm.</p></li>
</ul>
<figure class="align-right" id="id3">
<a class="screenshot reference internal image-reference" href="../../_images/background_subtraction.png"><img alt="Background subtraction on the ISIS Reflectometry Interface" class="screenshot" src="../../_images/background_subtraction.png" style="width: 500px;" />
</a>
<figcaption>
<p><span class="caption-text"><em>Background subtraction on the ISIS Reflectometry Interface</em></span><a class="headerlink" href="#id3" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<ul class="simple">
<li><p><strong>More reliable search</strong> has been added - specify the cycle name in the search inputs to use journal file
search instead of ICat. This is currently recommended due to ICat instability. However, ICat can still be
used if the cycle number is not known/provided.</p></li>
</ul>
<figure class="align-right" id="id4">
<a class="screenshot reference internal image-reference" href="../../_images/Reflectometry-GUI-release5.1-search.png"><img alt="Specify the cycle name in the search interface to get more reliable search results" class="screenshot" src="../../_images/Reflectometry-GUI-release5.1-search.png" style="width: 200px;" />
</a>
<figcaption>
<p><span class="caption-text"><em>Provide cycle name for more reliable search results</em></span><a class="headerlink" href="#id4" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<ul class="simple">
<li><p>The output formats from the <strong>Save ASCII</strong> tab now follow standards more rigidly - see
<a class="reference internal" href="../../algorithms/SaveReflectometryAscii-v1.html#algm-savereflectometryascii"><span class="std std-ref">SaveReflectometryAscii v1</span></a>, which replaces the old deprecated algorithms.</p></li>
<li><p>The <strong>Options</strong> dialog can now be accessed from the Tools menu, controlling the display of warnings and
rounding precision.</p></li>
</ul>
</section>
<section id="id2">
<h3><a class="toc-backref" href="#id12" role="doc-backlink">Bug fixes</a><a class="headerlink" href="#id2" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>A bug has been fixed where Experiment/Instrument settings were not being restored if the instrument changes on load.</p></li>
<li><p>A bug has been fixed where creating a new Batch would result in the Experiment/Instrument
settings of all batches being reset to their defaults.</p></li>
<li><p>A bug has been fixed where clicking Restore Defaults on an Experiment/Instrument tab would cause all Experiment and
Instrument tabs in every batch to be reset to defaults. Now, only the tab where you click Restore Defaults is changed.</p></li>
<li><p>A bug has been fixed where Mantid could crash if you transfer search results into an empty group</p></li>
</ul>
<p><a class="reference internal" href="index.html#v5-1-0"><span class="std std-ref">Release 5.1.0</span></a></p>
</section>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="muon.html" title="Previous Chapter: MuSR Changes"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; MuSR Changes</span>
    </a>
  </li>
  <li>
    <a href="sans.html" title="Next Chapter: SANS Changes"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">SANS Changes &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>