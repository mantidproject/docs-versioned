<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Filter Events Interface</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="QE Coverage" href="QE%20Coverage.html" />
    <link rel="prev" title="ISIS Reflectometry Interface" href="../reflectometry/ISIS%20Reflectometry.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.7</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://www.mantidproject.org">Home</a></li>
                <li><a href="https://download.mantidproject.org">Download</a></li>
                <li><a href="https://docs.mantidproject.org">Documentation</a></li>
                <li><a href="https://www.mantidproject.org/contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="../index.html" accesskey="U">Interfaces</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">Filter Events Interface</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="filter-events-interface">
<span id="id1"></span><h1>Filter Events Interface<a class="headerlink" href="#filter-events-interface" title="Permalink to this heading">¶</a></h1>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#description" id="id2">Description</a></p></li>
<li><p><a class="reference internal" href="#layout" id="id3">Layout</a></p></li>
<li><p><a class="reference internal" href="#data-loading" id="id4">Data Loading</a></p></li>
<li><p><a class="reference internal" href="#plotting" id="id5">Plotting</a></p></li>
<li><p><a class="reference internal" href="#output-storing-event-splitters" id="id6">Output &amp; Storing Event Splitters</a></p></li>
<li><p><a class="reference internal" href="#advanced-setup" id="id7">Advanced Setup</a></p></li>
</ul>
</nav>
<section id="description">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Description</a><a class="headerlink" href="#description" title="Permalink to this heading">¶</a></h2>
<p>The Filter Events interface provides aid to users in order to set up event filter with different
<a class="reference internal" href="../../algorithms/GenerateEventsFilter-v1.html#functionalities-generateeventfilter-ref"><span class="std std-ref">Functionalities</span></a>. This interface utilises the algorithm
<a class="reference internal" href="../../algorithms/GenerateEventsFilter-v1.html#algm-generateeventsfilter"><span class="std std-ref">GenerateEventsFilter</span></a> which is able to generate event splitters
according to user’s requirement for filtering events.
The generated time splitters are stored either in a SplittersWorkspace or a
<a class="reference internal" href="../../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a>. Both of them will be used by algorithm
<a class="reference internal" href="../../algorithms/FilterEvents-v1.html#algm-filterevents"><span class="std std-ref">FilterEvents</span></a> which filters the events from a EventWorkspace to one or
multiple EventWorkspaces according to an input <a class="reference internal" href="../../api/python/mantid/api/ISplittersWorkspace.html#splittersworkspace"><span class="std std-ref">Splitters Workspace</span></a>
containing a series of splitters.</p>
<p>On the bottom section the user has an option of <a class="reference internal" href="../../algorithms/GenerateEventsFilter-v1.html#filterbylogv-generateeventfilter-ref"><span class="std std-ref">Generate event filters by sample log value</span></a>
or <a class="reference internal" href="../../algorithms/GenerateEventsFilter-v1.html#filterbytime-generateeventfilter-ref"><span class="std std-ref">Generate event filters by time</span></a>. User also has an option of filtering events using
<a class="reference internal" href="#advsetup-filtereventui-ref"><span class="std std-ref">Advanced Setup</span></a>.</p>
</section>
<section id="layout">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Layout</a><a class="headerlink" href="#layout" title="Permalink to this heading">¶</a></h2>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/FilterEventsGUI.png"><img alt="../../_images/FilterEventsGUI.png" src="../../_images/FilterEventsGUI.png" style="width: 400px;" /></a>
</figure>
</section>
<section id="data-loading">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Data Loading</a><a class="headerlink" href="#data-loading" title="Permalink to this heading">¶</a></h2>
<p>For the data loading step, MantidWorkbench provides an interface in which the user shall select the
appropriate file via <em>Browse</em> button or by entering an integer as a valid run number in the
<em>File/Run</em> field, if the instrument name is set up in Mantid. The user must provide a file,
which contains valid sample logs
for splitting and <a class="reference internal" href="../../concepts/EventWorkspace.html#eventworkspace"><span class="std std-ref">EventWorkspace</span></a>. The data will be loaded once the user
has clicked upon the <em>Load</em> button.
With the help of <em>drop-down</em> list, user is be able to load more than one file and then click
on the <em>Use</em> button which will load the selected
file. If the file cannot be found in the <em>drop-down</em> list then user can click <cite>Refresh</cite> button
which should update
the <em>drop-down</em> list and enable user to select any browsed file.</p>
</section>
<section id="plotting">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Plotting</a><a class="headerlink" href="#plotting" title="Permalink to this heading">¶</a></h2>
<p>Once the file has been selected then the Interface would automatically generate the plot using
the provided file. If the user wish to plot another file then that could be achieved by selecting
another file from <em>drop-down</em> list and clicking on the <em>Use</em> button, which will automatically
plot the new graph generated from the selected file.</p>
</section>
<section id="output-storing-event-splitters">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">Output &amp; Storing Event Splitters</a><a class="headerlink" href="#output-storing-event-splitters" title="Permalink to this heading">¶</a></h2>
<p>The output will be one or multiple workspaces according to the number of index in splitters. The
output workspace name is the combination of parameter OutputWorkspaceBaseName and the index in
splitter. The <em>Splitter Title</em> field is used as title of output splitters workspace and information
workspace. An event splitter used in Mantid contains start time, stop time and target workspace. Any
data structure that has the above 3 properties can serve as an event splitter. There are two types of
output workspaces for storing event splitters that are supported by
<a class="reference internal" href="../../algorithms/GenerateEventsFilter-v1.html#algm-generateeventsfilter"><span class="std std-ref">GenerateEventsFilter</span></a> algorithm.</p>
<ul class="simple">
<li><p><a class="reference internal" href="../../api/python/mantid/api/ISplittersWorkspace.html#splittersworkspace"><span class="std std-ref">Splitters Workspace</span></a>: It is a
<a class="reference internal" href="../../concepts/TableWorkspaces.html#table-workspaces"><span class="std std-ref">TableWorkspace</span></a> that has 3 columns for start time,
stop time and target workspace for events within start time and stop time. This type of workspace is
appropriate for the case that the amount of generated event splitters are not huge.</p></li>
<li><p><a class="reference internal" href="../../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a>: It uses X-axis to store time stamp in total nanoseconds
and Y-axis to store target workspace. For example, <span class="math notranslate nohighlight">\([x_i, x_i+1]\)</span> and <span class="math notranslate nohighlight">\([y_i]\)</span> construct
an event filter as start time is <span class="math notranslate nohighlight">\([x_i]\)</span>, stop time is <span class="math notranslate nohighlight">\([x_i+1]\)</span>, and target workspace
is <span class="math notranslate nohighlight">\([y_i-th]\)</span> workspace. If <span class="math notranslate nohighlight">\([y_i]\)</span>, is less than 0, then it means
that all events between time <span class="math notranslate nohighlight">\([x_i]\)</span> and <span class="math notranslate nohighlight">\([x_i+1]\)</span> will be discarded. This type of
workspace is appropriate for the case that the amount of generated event splitters are huge, because
processing a <a class="reference internal" href="../../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a> is way faster than a
<a class="reference internal" href="../../concepts/TableWorkspaces.html#table-workspaces"><span class="std std-ref">TableWorkspace</span></a> in Mantid.</p></li>
</ul>
</section>
<section id="advanced-setup">
<span id="advsetup-filtereventui-ref"></span><h2><a class="toc-backref" href="#id7" role="doc-backlink">Advanced Setup</a><a class="headerlink" href="#advanced-setup" title="Permalink to this heading">¶</a></h2>
<p>The <strong>Advanced Setup</strong> section on the bottom of the interface provides access to the following
functionality:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Action</p></th>
<th class="head"><p>Effect</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>TOF Correction
To Sample</p></td>
<td><p>Type of correction on neutron events to sample time from
detector time.</p></td>
</tr>
<tr class="row-odd"><td><p>Fast Log</p></td>
<td><p>Fast log will make output workspace to be a maxtrix
workspace.</p></td>
</tr>
<tr class="row-even"><td><p>Generate Filter
In Parallel</p></td>
<td><p>Use multiple cores to generate events filter by log
values. Default as Serial which uses a single core and
Parallel uses multiple cores.</p></td>
</tr>
<tr class="row-odd"><td><p>Spectrum without
Detector</p></td>
<td><p>Approach to deal with spectrum without detectors.</p></td>
</tr>
<tr class="row-even"><td><p>Filter By Pulse
Time</p></td>
<td><p>Filter the event by its pulse time only for slow sample
environment log.This option can make execution of
algorithm faster. But it lowers precision.</p></td>
</tr>
<tr class="row-odd"><td><p>Output Workspace
Indexed From 1</p></td>
<td><p>If selected, the minimum output workspace is indexed
from 1 and continuous.</p></td>
</tr>
<tr class="row-even"><td><p>Group Output
Workspace</p></td>
<td><p>Option to group all the output workspaces.</p></td>
</tr>
<tr class="row-odd"><td><p>Split Sample
Log</p></td>
<td><p>If selected, all sample logs will be splitted by the
event splitters. It is not recommended for fast event
log splitters.</p></td>
</tr>
</tbody>
</table>
<p><strong>Categories</strong>: <a class="reference external" href="../ILL/categories/Interfaces.html">Interfaces</a> | <a class="reference external" href="categories/FilterEventUI.html">FilterEventUI</a></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="../reflectometry/ISIS%20Reflectometry.html" title="Previous Chapter: ISIS Reflectometry Interface"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; ISIS Reflecto...</span>
    </a>
  </li>
  <li>
    <a href="QE%20Coverage.html" title="Next Chapter: QE Coverage"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">QE Coverage &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>