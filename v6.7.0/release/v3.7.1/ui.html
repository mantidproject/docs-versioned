<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>UI &amp; Usability Changes</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Framework Changes" href="framework.html" />
    <link rel="prev" title="Mantid 3.7.1 Release Notes" href="index.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.7</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://www.mantidproject.org">Home</a></li>
                <li><a href="https://download.mantidproject.org">Download</a></li>
                <li><a href="https://docs.mantidproject.org">Documentation</a></li>
                <li><a href="https://www.mantidproject.org/contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="../index.html" >Release Notes</a> &#187;</li>
          
            <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">Mantid 3.7.1 Release Notes</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">UI &amp; Usability Changes</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="ui-usability-changes">
<h1>UI &amp; Usability Changes<a class="headerlink" href="#ui-usability-changes" title="Permalink to this heading">¶</a></h1>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#user-interface" id="id4">User Interface</a></p>
<ul>
<li><p><a class="reference internal" href="#plotting-improvements" id="id5">Plotting Improvements</a></p>
<ul>
<li><p><a class="reference internal" href="#line-plots" id="id6">Line plots</a></p></li>
<li><p><a class="reference internal" href="#d-plots-from-group-workspaces" id="id7">3D plots from group workspaces</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#sliceviewer-improvements" id="id8">SliceViewer Improvements</a></p></li>
<li><p><a class="reference internal" href="#vsi-improvements" id="id9">VSI Improvements</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#instrument-view" id="id10">Instrument View</a></p></li>
<li><p><a class="reference internal" href="#scripting-window" id="id11">Scripting Window</a></p></li>
<li><p><a class="reference internal" href="#documentation" id="id12">Documentation</a></p></li>
<li><p><a class="reference internal" href="#bugs-resolved" id="id13">Bugs Resolved</a></p></li>
</ul>
</nav>
<section id="user-interface">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">User Interface</a><a class="headerlink" href="#user-interface" title="Permalink to this heading">¶</a></h2>
<section id="plotting-improvements">
<h3><a class="toc-backref" href="#id5" role="doc-backlink">Plotting Improvements</a><a class="headerlink" href="#plotting-improvements" title="Permalink to this heading">¶</a></h3>
<section id="line-plots">
<h4><a class="toc-backref" href="#id6" role="doc-backlink">Line plots</a><a class="headerlink" href="#line-plots" title="Permalink to this heading">¶</a></h4>
<figure class="align-right">
<a class="reference internal image-reference" href="../../_images/R37AllErrorBars.png"><img alt="../../_images/R37AllErrorBars.png" src="../../_images/R37AllErrorBars.png" style="width: 500px;" /></a>
</figure>
<ul class="simple">
<li><p>The default for plotting line plots has been changed to include plotting error bars on every data point.
This in general makes more sense than the previous approach of missing some points based on the data density.</p></li>
<li><p>However it can make dense data plots with errors look more obscured, so if you preferred the old approach you can change it back by unselecting the option Draw All Errors in the View-&gt;Prefences menu.</p></li>
</ul>
<figure class="align-center">
<img alt="../../_images/R37PlotAllErrorsOption.png" src="../../_images/R37PlotAllErrorsOption.png" />
</figure>
</section>
<section id="d-plots-from-group-workspaces">
<h4><a class="toc-backref" href="#id7" role="doc-backlink">3D plots from group workspaces</a><a class="headerlink" href="#d-plots-from-group-workspaces" title="Permalink to this heading">¶</a></h4>
<ul class="simple">
<li><p>For single-spectrum data, the choice of spectrum number to plot has been disabled because it has only one possible answer.</p></li>
</ul>
</section>
</section>
<section id="sliceviewer-improvements">
<h3><a class="toc-backref" href="#id8" role="doc-backlink">SliceViewer Improvements</a><a class="headerlink" href="#sliceviewer-improvements" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>The Matlab defulat colour map viridis has been added to Mantid</p></li>
<li><p>The SliceViewer is now able to display ellipsoidal peak shapes. Note
that the displayed ellipse is the result of the viewing plane cutting
the peak ellipsoid.</p></li>
</ul>
<figure class="align-center">
<img alt="../../_images/Elliptical_peaks_slice_viewer.png" src="../../_images/Elliptical_peaks_slice_viewer.png" />
</figure>
</section>
<section id="vsi-improvements">
<h3><a class="toc-backref" href="#id9" role="doc-backlink">VSI Improvements</a><a class="headerlink" href="#vsi-improvements" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>The representation of points in the splatter plot was changed from opaque cubes to translucent spheres.</p></li>
</ul>
<figure class="align-center">
<img alt="../../_images/VSIPointGaussianRepresentation.png" src="../../_images/VSIPointGaussianRepresentation.png" />
</figure>
<ul class="simple">
<li><p>The sphere and ellipse wireframes have been simplified so that it is easier to see the enclosed points.</p></li>
</ul>
<figure class="align-center">
<img alt="../../_images/VSIEllipses.png" src="../../_images/VSIEllipses.png" />
</figure>
<ul class="simple">
<li><p>Removed the error-prone right-click option to view peaks workspaces in the VSI. One should load a MDWorkspace,
then drag the corresponding peaks workspace into the VSI window.</p></li>
</ul>
</section>
</section>
<section id="instrument-view">
<h2><a class="toc-backref" href="#id10" role="doc-backlink">Instrument View</a><a class="headerlink" href="#instrument-view" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>The instrument view is now exposed to python as a stand-alone widget.
In it’s current implementation, the instrument view depends on the
global workspace list in order to load data from workspaces. Example script:</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">threading</span> <span class="kn">import</span> <span class="n">Thread</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">PyQt4</span>
<span class="kn">import</span> <span class="nn">mantid.simpleapi</span> <span class="k">as</span> <span class="nn">simpleapi</span>
<span class="kn">import</span> <span class="nn">mantidqtpython</span> <span class="k">as</span> <span class="nn">mpy</span>

<span class="n">ConfigService</span> <span class="o">=</span> <span class="n">simpleapi</span><span class="o">.</span><span class="n">ConfigService</span>
<span class="k">def</span> <span class="nf">startFakeEventDAE</span><span class="p">():</span>
    <span class="c1"># This will generate 2000 events roughly every 20ms, so about 50,000 events/sec</span>
    <span class="c1"># They will be randomly shared across the 100 spectra</span>
    <span class="c1"># and have a time of flight between 10,000 and 20,000</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">simpleapi</span><span class="o">.</span><span class="n">FakeISISEventDAE</span><span class="p">(</span><span class="n">NPeriods</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">NSpectra</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span><span class="n">Rate</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span><span class="n">NEvents</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
     <span class="k">except</span> <span class="ne">RuntimeError</span><span class="p">:</span>
        <span class="k">pass</span>

<span class="k">def</span> <span class="nf">captureLive</span><span class="p">():</span>
    <span class="n">ConfigService</span><span class="o">.</span><span class="n">setFacility</span><span class="p">(</span><span class="s2">&quot;TEST_LIVE&quot;</span><span class="p">)</span>

    <span class="c1"># start a Live data listener updating every second, that rebins the data</span>
    <span class="c1"># and replaces the results each time with those of the last second.</span>
    <span class="n">simpleapi</span><span class="o">.</span><span class="n">StartLiveData</span><span class="p">(</span><span class="n">Instrument</span><span class="o">=</span><span class="s1">&#39;ISIS_Event&#39;</span><span class="p">,</span> <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;wsOut&#39;</span><span class="p">,</span> <span class="n">UpdateEvery</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
                            <span class="n">ProcessingAlgorithm</span><span class="o">=</span><span class="s1">&#39;Rebin&#39;</span><span class="p">,</span> <span class="n">ProcessingProperties</span><span class="o">=</span><span class="s1">&#39;Params=10000,1000,20000;PreserveEvents=1&#39;</span><span class="p">,</span>
                            <span class="n">AccumulationMethod</span><span class="o">=</span><span class="s1">&#39;Add&#39;</span><span class="p">,</span> <span class="n">PreserveEvents</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>


 <span class="c1">#--------------------------------------------------------------------------------------------------</span>
 <span class="n">InstrumentWidget</span> <span class="o">=</span> <span class="n">mpy</span><span class="o">.</span><span class="n">MantidQt</span><span class="o">.</span><span class="n">MantidWidgets</span><span class="o">.</span><span class="n">InstrumentWidget</span>
 <span class="n">app</span> <span class="o">=</span> <span class="n">PyQt4</span><span class="o">.</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QApplication</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span>

 <span class="n">eventThread</span> <span class="o">=</span> <span class="n">Thread</span><span class="p">(</span><span class="n">target</span> <span class="o">=</span> <span class="n">startFakeEventDAE</span><span class="p">)</span>
 <span class="n">eventThread</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

 <span class="k">while</span> <span class="ow">not</span> <span class="n">eventThread</span><span class="o">.</span><span class="n">is_alive</span><span class="p">():</span>
     <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="c1"># give it a small amount of time to get ready</span>

 <span class="n">facility</span> <span class="o">=</span> <span class="n">ConfigService</span><span class="o">.</span><span class="n">getFacility</span><span class="p">()</span>
 <span class="k">try</span><span class="p">:</span>
     <span class="n">captureLive</span><span class="p">()</span>

     <span class="n">iw</span> <span class="o">=</span> <span class="n">InstrumentWidget</span><span class="p">(</span><span class="s2">&quot;wsOut&quot;</span><span class="p">)</span>
     <span class="n">iw</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
     <span class="n">app</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>
 <span class="k">finally</span><span class="p">:</span>
     <span class="c1"># put back the facility</span>
     <span class="n">ConfigService</span><span class="o">.</span><span class="n">setFacility</span><span class="p">(</span><span class="n">facility</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="scripting-window">
<h2><a class="toc-backref" href="#id11" role="doc-backlink">Scripting Window</a><a class="headerlink" href="#scripting-window" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>If <cite>MantidPlot</cite> was launched with the <cite>-x</cite> option but the script was already opened by the recent files list then
the wrong script would be executed. This bug has been fixed. <a class="reference external" href="https://github.com/mantidproject/mantid/issues/15682">#15682</a></p></li>
</ul>
</section>
<section id="documentation">
<h2><a class="toc-backref" href="#id12" role="doc-backlink">Documentation</a><a class="headerlink" href="#documentation" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>Documentation has been added for fitting functions <a class="reference internal" href="../../fitting/fitfunctions/BSpline.html#func-bspline"><span class="std std-ref">BSpline</span></a> and
<a class="reference internal" href="../../fitting/fitfunctions/CubicSpline.html#func-cubicspline"><span class="std std-ref">CubicSpline</span></a> then attempts to be more verbose about their use and how to
implement them. The Documentation now contains example images of splines
and also concrete equations that describe them
<a class="reference external" href="https://github.com/mantidproject/mantid/pull/15064">#15064</a></p></li>
<li><p>The documentation of several Nexus loading algorithms has been improved with the addition of a table that shows how various
items of data move from the Nexus file to the workspace. These algorithms are
<a class="reference internal" href="../../algorithms/LoadEventNexus-v1.html#algm-loadeventnexus"><span class="std std-ref">LoadEventNexus</span></a>,
<a class="reference internal" href="../../algorithms/LoadISISNexus-v2.html#algm-loadisisnexus"><span class="std std-ref">LoadISISNexus</span></a>,
<a class="reference internal" href="../../algorithms/LoadMcStas-v1.html#algm-loadmcstas"><span class="std std-ref">LoadMcStas</span></a>,
<a class="reference internal" href="../../algorithms/LoadMuonNexus-v2.html#algm-loadmuonnexus"><span class="std std-ref">LoadMuonNexus</span></a> (both versions) and
<a class="reference internal" href="../../algorithms/LoadNexusLogs-v1.html#algm-loadnexuslogs"><span class="std std-ref">LoadNexusLogs</span></a>.
Also <a class="reference internal" href="../../algorithms/LoadNexus-v1.html#algm-loadnexus"><span class="std std-ref">LoadNexus</span></a> documentation now explains how it determines which load algorithm to run.</p></li>
<li><p>The documentation for all calibration approaches has been pulled together, improved and expanded <a class="reference internal" href="../../concepts/Calibration.html#calibration-intro"><span class="std std-ref">here</span></a>.</p></li>
</ul>
</section>
<section id="bugs-resolved">
<h2><a class="toc-backref" href="#id13" role="doc-backlink">Bugs Resolved</a><a class="headerlink" href="#bugs-resolved" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>VSI: Fix Mantid crash when pressing <a class="reference internal" href="../../algorithms/Scale-v1.html#algm-scale"><span class="std std-ref">Scale</span></a> or Cut when “builtin” node
is selected in Pipeline Browser</p></li>
<li><p>VSI: The TECHNIQUE-DEPENDENT initial view now checks for Spectroscopy before Neutron Diffraction.</p></li>
<li><p>A bug was fixed in the Fit property browser where the “Plot Difference” and other checkboxes affected the display of parameter errors. Now only the “Show Parameter Errors” box will control this.</p></li>
<li><p>Plots from tables: the axis labels correspond to the data plotted and not just the first two columns.</p></li>
<li><p>Plots from tables: the title of the plot is the title of the TableWorkspace rather than the default “Table” (this is useful when several tables and plots are open)</p></li>
<li><p>Plots from tables auto-update when the TableWorkspace is replaced in the ADS. If extra rows are added then the new points are added to the graph.</p></li>
<li><p>The Fit property browser (Fit Function window) in MantidPlot now supports fitting data plotted from a TableWorkspace.</p></li>
<li><p>Multi-dataset fit interface: a bug was fixed in the “edit local parameter” dialog where entering a value and selecting “fix” (for example) would truncate the final digit of the entered value.</p></li>
<li><p>Multi-dataset fit interface: a bug was fixed where global parameters would lose their ties when a fit was run or the dataset was changed.</p></li>
</ul>
<p>Full list of
<a class="reference external" href="http://github.com/mantidproject/mantid/pulls?q=is%3Apr+milestone%3A%22Release+3.7%22+is%3Amerged+label%3A%22Component%3A+GUI%22">GUI</a>
and
<a class="reference external" href="http://github.com/mantidproject/mantid/pulls?q=is%3Apr+milestone%3A%22Release+3.7%22+is%3Amerged+label%3A%22Component%3A+Documentation%22">Documentation</a>
changes on GitHub</p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="index.html" title="Previous Chapter: Mantid 3.7.1 Release Notes"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Mantid 3.7.1 ...</span>
    </a>
  </li>
  <li>
    <a href="framework.html" title="Next Chapter: Framework Changes"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Framework Changes &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>