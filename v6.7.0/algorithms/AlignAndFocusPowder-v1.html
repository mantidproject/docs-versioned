<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>AlignAndFocusPowder v1</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="AlignAndFocusPowderFromFiles v1" href="AlignAndFocusPowderFromFiles-v1.html" />
    <link rel="prev" title="AddTimeSeriesLog v1" href="AddTimeSeriesLog-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.7</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://www.mantidproject.org">Home</a></li>
                <li><a href="https://download.mantidproject.org">Download</a></li>
                <li><a href="https://docs.mantidproject.org">Documentation</a></li>
                <li><a href="https://www.mantidproject.org/contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Algorithms</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">AlignAndFocusPowder v1</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="alignandfocuspowder-v1">
<span id="algm-alignandfocuspowder"></span><span id="algm-alignandfocuspowder-v1"></span><h1>AlignAndFocusPowder v1<a class="headerlink" href="#alignandfocuspowder-v1" title="Permalink to this heading">¶</a></h1>
<figure class="align-right" id="id1">
<span id="index-0"></span><a class="screenshot reference internal image-reference" href="../_images/ImageNotFound.png"><img alt="../_images/ImageNotFound.png" class="screenshot" src="../_images/ImageNotFound.png" style="width: 200px;" /></a>
<figcaption>
<p><span class="caption-text">Enable screenshots using DOCS_SCREENSHOTS in CMake</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#summary" id="id3">Summary</a></p>
<ul>
<li><p><a class="reference internal" href="#see-also" id="id4">See Also</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#properties" id="id5">Properties</a></p></li>
<li><p><a class="reference internal" href="#description" id="id6">Description</a></p>
<ul>
<li><p><a class="reference internal" href="#workflow" id="id7">Workflow</a></p></li>
<li><p><a class="reference internal" href="#calibration" id="id8">Calibration</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#usage" id="id9">Usage</a></p></li>
<li><p><a class="reference internal" href="#source" id="id10">Source</a></p></li>
</ul>
</nav>
<section id="summary">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Summary</a><a class="headerlink" href="#summary" title="Permalink to this heading">¶</a></h2>
<p>Algorithm to focus powder diffraction data into a number of histograms according to a grouping scheme defined in a CalFile.</p>
<section id="see-also">
<h3><a class="toc-backref" href="#id4" role="doc-backlink">See Also</a><a class="headerlink" href="#see-also" title="Permalink to this heading">¶</a></h3>
<p><a class="reference internal" href="AlignAndFocusPowderFromFiles-v1.html#algm-alignandfocuspowderfromfiles"><span class="std std-ref">AlignAndFocusPowderFromFiles</span></a></p>
</section>
</section>
<section id="properties">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Properties</a><a class="headerlink" href="#properties" title="Permalink to this heading">¶</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Direction</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>InputWorkspace</p></td>
<td><p>Input</p></td>
<td><p><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a></p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>The input workspace</p></td>
</tr>
<tr class="row-odd"><td><p>OutputWorkspace</p></td>
<td><p>Output</p></td>
<td><p><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a></p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>The result of diffraction focussing of InputWorkspace</p></td>
</tr>
<tr class="row-even"><td><p>UnfocussedWorkspace</p></td>
<td><p>Output</p></td>
<td><p><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a></p></td>
<td></td>
<td><p>Treated data in d-spacing before focussing (optional). This will likely need rebinning.</p></td>
</tr>
<tr class="row-odd"><td><p>CalFileName</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>The name of the calibration file with offset, masking, and grouping data. Allowed extensions: [‘.h5’, ‘.hd5’, ‘.hdf’, ‘.cal’]</p></td>
</tr>
<tr class="row-even"><td><p>GroupFilename</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>Overrides grouping from CalFileName. Allowed extensions: [‘.xml’, ‘.cal’]</p></td>
</tr>
<tr class="row-odd"><td><p>GroupingWorkspace</p></td>
<td><p>InOut</p></td>
<td><p>GroupingWorkspace</p></td>
<td></td>
<td><p>Optional: A GroupingWorkspace giving the grouping info.</p></td>
</tr>
<tr class="row-even"><td><p>CalibrationWorkspace</p></td>
<td><p>InOut</p></td>
<td><p><a class="reference internal" href="../concepts/TableWorkspaces.html#table-workspaces"><span class="std std-ref">TableWorkspace</span></a></p></td>
<td></td>
<td><p>Optional: A Workspace containing the calibration information. Either this or CalibrationFile needs to be specified.</p></td>
</tr>
<tr class="row-odd"><td><p>OffsetsWorkspace</p></td>
<td><p>Input</p></td>
<td><p>OffsetsWorkspace</p></td>
<td></td>
<td><p>Optional: An OffsetsWorkspace giving the detector calibration values.</p></td>
</tr>
<tr class="row-even"><td><p>MaskWorkspace</p></td>
<td><p>InOut</p></td>
<td><p>MaskWorkspace</p></td>
<td></td>
<td><p>Optional: A workspace giving which detectors are masked.</p></td>
</tr>
<tr class="row-odd"><td><p>MaskBinTable</p></td>
<td><p>Input</p></td>
<td><p><a class="reference internal" href="../concepts/TableWorkspaces.html#table-workspaces"><span class="std std-ref">TableWorkspace</span></a></p></td>
<td></td>
<td><p>Optional: A workspace giving pixels and bins to mask.</p></td>
</tr>
<tr class="row-even"><td><p>Params</p></td>
<td><p>Input</p></td>
<td><p>dbl list</p></td>
<td></td>
<td><p>A comma separated list of first bin boundary, width, last bin boundary. Optionally this can be followed by a comma and more widths and last boundary pairs. Negative width values indicate logarithmic binning.</p></td>
</tr>
<tr class="row-odd"><td><p>ResampleX</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>0</p></td>
<td><p>Number of bins in x-axis. Non-zero value overrides “Params” property. Negative value means logarithmic binning.</p></td>
</tr>
<tr class="row-even"><td><p>Dspacing</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>True</p></td>
<td><p>Bin in Dspace. (True is Dspace; False is TOF)</p></td>
</tr>
<tr class="row-odd"><td><p>DMin</p></td>
<td><p>Input</p></td>
<td><p>dbl list</p></td>
<td></td>
<td><p>Minimum for Dspace axis. (Default 0.)</p></td>
</tr>
<tr class="row-even"><td><p>DMax</p></td>
<td><p>Input</p></td>
<td><p>dbl list</p></td>
<td></td>
<td><p>Maximum for Dspace axis. (Default 0.)</p></td>
</tr>
<tr class="row-odd"><td><p>DeltaRagged</p></td>
<td><p>Input</p></td>
<td><p>dbl list</p></td>
<td></td>
<td><p>Step parameter for rebin</p></td>
</tr>
<tr class="row-even"><td><p>TMin</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p><em>Optional</em></p></td>
<td><p>Minimum for TOF axis. Defaults to 0.</p></td>
</tr>
<tr class="row-odd"><td><p>TMax</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p><em>Optional</em></p></td>
<td><p>Maximum for TOF or dspace axis. Defaults to 0.</p></td>
</tr>
<tr class="row-even"><td><p>PreserveEvents</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>True</p></td>
<td><p>If the InputWorkspace is an EventWorkspace, this will preserve the full event list (warning: this will use much more memory!).</p></td>
</tr>
<tr class="row-odd"><td><p>RemovePromptPulseWidth</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>0</p></td>
<td><p>Width of events (in microseconds) near the prompt pulse to remove. 0 disables</p></td>
</tr>
<tr class="row-even"><td><p>ResonanceFilterUnits</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>Wavelength</p></td>
<td><p>Units for resonances to be filtered in. The data will be converted to these units temporarily to filter. Allowed values: [‘Energy’, ‘Wavelength’]</p></td>
</tr>
<tr class="row-odd"><td><p>ResonanceFilterLowerLimits</p></td>
<td><p>Input</p></td>
<td><p>dbl list</p></td>
<td></td>
<td><p>Minimum values to filter absorption resonance. This must have same number of values as ResonanceFilterUpperLimits. Default behavior is to not filter.</p></td>
</tr>
<tr class="row-even"><td><p>ResonanceFilterUpperLimits</p></td>
<td><p>Input</p></td>
<td><p>dbl list</p></td>
<td></td>
<td><p>Maximum values to filter absorption resonance. This must have same number of values as ResonanceFilterLowerLimits. Default behavior is to not filter.</p></td>
</tr>
<tr class="row-odd"><td><p>CompressTolerance</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>1e-05</p></td>
<td><p>Compress events (in microseconds) within this tolerance. (Default 1e-5)</p></td>
</tr>
<tr class="row-even"><td><p>CompressWallClockTolerance</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p><em>Optional</em></p></td>
<td><p>The tolerance (in seconds) on the wall-clock time for comparison. Unset means compressing all wall-clock times together disabling pulsetime resolution.</p></td>
</tr>
<tr class="row-odd"><td><p>CompressStartTime</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>An ISO formatted date/time string specifying the timestamp for starting filtering. Ignored if WallClockTolerance is not specified. Default is start of run</p></td>
</tr>
<tr class="row-even"><td><p>LorentzCorrection</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>False</p></td>
<td><p>Multiply each spectrum by sin(theta) where theta is half of the Bragg angle</p></td>
</tr>
<tr class="row-odd"><td><p>UnwrapRef</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>0</p></td>
<td><p>Reference total flight path for frame unwrapping. Zero skips the correction</p></td>
</tr>
<tr class="row-even"><td><p>LowResRef</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>0</p></td>
<td><p>Reference DIFC for resolution removal. Zero skips the correction</p></td>
</tr>
<tr class="row-odd"><td><p>CropWavelengthMin</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>0</p></td>
<td><p>Crop the data at this minimum wavelength. Overrides LowResRef.</p></td>
</tr>
<tr class="row-even"><td><p>CropWavelengthMax</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p><em>Optional</em></p></td>
<td><p>Crop the data at this maximum wavelength. Forces use of CropWavelengthMin.</p></td>
</tr>
<tr class="row-odd"><td><p>PrimaryFlightPath</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>-1</p></td>
<td><p>If positive, focus positions are changed.  (Default -1)</p></td>
</tr>
<tr class="row-even"><td><p>SpectrumIDs</p></td>
<td><p>Input</p></td>
<td><p>int list</p></td>
<td></td>
<td><p>Optional: Spectrum Nos (note that it is not detector ID or workspace indices).</p></td>
</tr>
<tr class="row-odd"><td><p>L2</p></td>
<td><p>Input</p></td>
<td><p>dbl list</p></td>
<td></td>
<td><p>Optional: Secondary flight (L2) paths for each detector</p></td>
</tr>
<tr class="row-even"><td><p>Polar</p></td>
<td><p>Input</p></td>
<td><p>dbl list</p></td>
<td></td>
<td><p>Optional: Polar angles (two thetas) for detectors</p></td>
</tr>
<tr class="row-odd"><td><p>Azimuthal</p></td>
<td><p>Input</p></td>
<td><p>dbl list</p></td>
<td></td>
<td><p>Azimuthal angles (out-of-plain) for detectors</p></td>
</tr>
<tr class="row-even"><td><p>LowResSpectrumOffset</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>-1</p></td>
<td><p>Offset on spectrum No of low resolution spectra from high resolution one. If negative, then all the low resolution TOF will not be processed.  Otherwise, low resolution TOF will be stored in an additional set of spectra. If offset is equal to 0, then the low resolution will have same spectrum Nos as the normal ones.  Otherwise, the low resolution spectra will have spectrum IDs offset from normal ones.</p></td>
</tr>
<tr class="row-odd"><td><p>ReductionProperties</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>__powdereduction</p></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="description">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">Description</a><a class="headerlink" href="#description" title="Permalink to this heading">¶</a></h2>
<p>This is a workflow algorithm that does the bulk of the work for time focusing diffraction data.
This is done by executing several sub-algorithms as listed below.
The way that algorithms are connected together is better described in the workflow diagram</p>
<ul class="simple">
<li><p><a class="reference internal" href="ApplyDiffCal-v1.html#algm-applydiffcal"><span class="std std-ref">ApplyDiffCal v1</span></a></p></li>
<li><p><a class="reference internal" href="CompressEvents-v1.html#algm-compressevents"><span class="std std-ref">CompressEvents v1</span></a> (event workspace only)</p></li>
<li><p><a class="reference internal" href="ConvertDiffCal-v1.html#algm-convertdiffcal"><span class="std std-ref">ConvertDiffCal v1</span></a> to convert legacy offsets workspace to difcal table</p></li>
<li><p><a class="reference internal" href="ConvertUnits-v1.html#algm-convertunits"><span class="std std-ref">ConvertUnits v1</span></a></p></li>
<li><p><a class="reference internal" href="DiffractionFocussing-v2.html#algm-diffractionfocussing"><span class="std std-ref">DiffractionFocussing v2</span></a></p></li>
<li><p><a class="reference internal" href="EditInstrumentGeometry-v1.html#algm-editinstrumentgeometry"><span class="std std-ref">EditInstrumentGeometry v1</span></a></p></li>
<li><p><a class="reference internal" href="LoadDetectorsGroupingFile-v1.html#algm-loaddetectorsgroupingfile"><span class="std std-ref">LoadDetectorsGroupingFile v1</span></a> when grouping file is specified without a calibration file</p></li>
<li><p><a class="reference internal" href="LoadDiffCal-v1.html#algm-loaddiffcal"><span class="std std-ref">LoadDiffCal v1</span></a></p></li>
<li><p><a class="reference internal" href="AppendSpectra-v1.html#algm-appendspectra"><span class="std std-ref">AppendSpectra v1</span></a> only used when <code class="docutils literal notranslate"><span class="pre">LowResRef</span></code> is specified</p></li>
<li><p><a class="reference internal" href="LorentzCorrection-v1.html#algm-lorentzcorrection"><span class="std std-ref">LorentzCorrection v1</span></a></p></li>
<li><p><a class="reference internal" href="MaskBins-v1.html#algm-maskbins"><span class="std std-ref">MaskBins v1</span></a> for filtering out absorption resonances</p></li>
<li><p><a class="reference internal" href="MaskBinsFromTable-v1.html#algm-maskbinsfromtable"><span class="std std-ref">MaskBinsFromTable v1</span></a> for filtering out single crystal peaks from powder data</p></li>
<li><p><a class="reference internal" href="MaskDetectors-v1.html#algm-maskdetectors"><span class="std std-ref">MaskDetectors v1</span></a></p></li>
<li><p><a class="reference internal" href="Rebin-v1.html#algm-rebin"><span class="std std-ref">Rebin v1</span></a></p></li>
<li><p><a class="reference internal" href="ResampleX-v1.html#algm-resamplex"><span class="std std-ref">ResampleX v1</span></a></p></li>
<li><p><a class="reference internal" href="RebinRagged-v1.html#algm-rebinragged"><span class="std std-ref">RebinRagged v1</span></a></p></li>
<li><p><a class="reference internal" href="RemoveLowResTOF-v1.html#algm-removelowrestof"><span class="std std-ref">RemoveLowResTOF v1</span></a> <code class="docutils literal notranslate"><span class="pre">CropWavelengthMin</span></code> and <code class="docutils literal notranslate"><span class="pre">CropWavelengthMax</span></code> are prefered</p></li>
<li><p><a class="reference internal" href="RemovePromptPulse-v1.html#algm-removepromptpulse"><span class="std std-ref">RemovePromptPulse v1</span></a></p></li>
<li><p><a class="reference internal" href="SortEvents-v1.html#algm-sortevents"><span class="std std-ref">SortEvents v1</span></a> (event workspace only)</p></li>
<li><p><a class="reference internal" href="UnwrapSNS-v1.html#algm-unwrapsns"><span class="std std-ref">UnwrapSNS v1</span></a></p></li>
</ul>
<section id="workflow">
<h3><a class="toc-backref" href="#id7" role="doc-backlink">Workflow</a><a class="headerlink" href="#workflow" title="Permalink to this heading">¶</a></h3>
<p>The main workflow of the algorithm can be described in following diagram.
In this diagram, the <code class="docutils literal notranslate"><span class="pre">CalibrationWorkspace</span></code>, <code class="docutils literal notranslate"><span class="pre">MaskWorkspace</span></code>, and <code class="docutils literal notranslate"><span class="pre">GroupingWorkspace</span></code> are abstractions of the many ways that this information can be provided (see below).</p>
<figure class="align-default" id="id2">
<img alt="../_images/ImageNotFound.png" src="../_images/ImageNotFound.png" />
<figcaption>
<p><span class="caption-text">diagram generation was disabled</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="calibration">
<h3><a class="toc-backref" href="#id8" role="doc-backlink">Calibration</a><a class="headerlink" href="#calibration" title="Permalink to this heading">¶</a></h3>
<p>The way that calibration is supplied can be confusing.
This section will attempt to clarify it.</p>
<p><strong>Workspaces provided:</strong>
If the <code class="docutils literal notranslate"><span class="pre">GroupingWorkspace</span></code>, <code class="docutils literal notranslate"><span class="pre">CalibrationWorkspace</span></code>, or <code class="docutils literal notranslate"><span class="pre">MaskWorkspace</span></code> are supplied as parameters they are used.
If the <code class="docutils literal notranslate"><span class="pre">OffsetsWorkspace</span></code> is supplied it is converted to a <code class="docutils literal notranslate"><span class="pre">CalibrationWorkspace</span></code> using <a class="reference internal" href="ConvertDiffCal-v1.html#algm-convertdiffcal"><span class="std std-ref">ConvertDiffCal v1</span></a>.
The values of <code class="docutils literal notranslate"><span class="pre">CalFileName</span></code> and <code class="docutils literal notranslate"><span class="pre">GroupFilename</span></code> will be ignored</p>
<p><strong>Filenames provided, Workspaces not:</strong>
Assuming the instrument short-name is <code class="docutils literal notranslate"><span class="pre">&lt;INSTR&gt;</span></code> (replace with the actual instrument short-name), the algorithm will look for the workspaces <code class="docutils literal notranslate"><span class="pre">&lt;INSTR&gt;_group</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;INSTR&gt;_cal</span></code> (falling back to <code class="docutils literal notranslate"><span class="pre">&lt;INSTR&gt;_offsets</span></code>), and <code class="docutils literal notranslate"><span class="pre">&lt;INSTR&gt;_mask</span></code> and use them without consulting the files.
This behavior is to reduce the amount of overhead in processing a collection of input data.
When loading information from a file, all 3 workspaces can be read from either type of calibration file (<code class="docutils literal notranslate"><span class="pre">.h5</span></code> or <code class="docutils literal notranslate"><span class="pre">.cal</span></code>) and will get the default names.
If the <code class="docutils literal notranslate"><span class="pre">GroupFilename</span></code> is provided, that will override the grouping information in the <code class="docutils literal notranslate"><span class="pre">CalFilename</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the user wishes to force reading the supplied calibration file(s), they must delete the workspaces <code class="docutils literal notranslate"><span class="pre">&lt;INSTR&gt;_group</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;INSTR&gt;_cal</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;INSTR&gt;_offsets</span></code>, and <code class="docutils literal notranslate"><span class="pre">&lt;INSTR&gt;_mask</span></code>.</p>
</div>
</section>
</section>
<section id="usage">
<h2><a class="toc-backref" href="#id9" role="doc-backlink">Usage</a><a class="headerlink" href="#usage" title="Permalink to this heading">¶</a></h2>
<p><strong>Example: A simple Powgen example</strong></p>
<p>The files needed for this example are not present in our standard usage data
download due to their size.  They can however be downloaded using these links:
<a class="reference external" href="https://github.com/mantidproject/systemtests/blob/master/Data/PG3_9830_event.nxs?raw=true">PG3_9830_event.nxs</a>
and
<a class="reference external" href="https://testdata.mantidproject.org/ftp/external-data/MD5/e2b281817b76eadbc26a0a2617477e97">pg3_mantid_det.cal</a>.</p>
<p>You will have to rename <code class="docutils literal notranslate"><span class="pre">pg3_mantid_det.cal</span></code> manually, as its name in the link above is a list of random characters.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">PG3_9830_event</span> <span class="o">=</span> <span class="n">Load</span><span class="p">(</span><span class="s1">&#39;PG3_9830_event.nxs&#39;</span><span class="p">)</span>
<span class="n">PG3_9830_event</span> <span class="o">=</span> <span class="n">AlignAndFocusPowder</span><span class="p">(</span><span class="n">PG3_9830_event</span><span class="p">,</span>
                                     <span class="n">CalFileName</span><span class="o">=</span><span class="s1">&#39;pg3_mantid_det.cal&#39;</span><span class="p">,</span> <span class="n">Params</span><span class="o">=</span><span class="s1">&#39;100&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/AlgorithmIndex.html">AlgorithmIndex</a> | <a class="reference external" href="categories/Workflow/Diffraction.html">Workflow\Diffraction</a></p>
</section>
<section id="source">
<h2><a class="toc-backref" href="#id10" role="doc-backlink">Source</a><a class="headerlink" href="#source" title="Permalink to this heading">¶</a></h2>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/291276d1b3f92d519f399310a3ef5f5d4a7c3d7f/Framework/WorkflowAlgorithms/inc/MantidWorkflowAlgorithms/AlignAndFocusPowder.h">AlignAndFocusPowder.h</a></p>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/291276d1b3f92d519f399310a3ef5f5d4a7c3d7f/Framework/WorkflowAlgorithms/src/AlignAndFocusPowder.cpp">AlignAndFocusPowder.cpp</a></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="AddTimeSeriesLog-v1.html" title="Previous Chapter: AddTimeSeriesLog v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; AddTimeSeriesLog v1</span>
    </a>
  </li>
  <li>
    <a href="AlignAndFocusPowderFromFiles-v1.html" title="Next Chapter: AlignAndFocusPowderFromFiles v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">AlignAndFocus... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>