<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>LoadWAND v1</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="LoadWANDSCD v1" href="LoadWANDSCD-v1.html" />
    <link rel="prev" title="LoadVisionInelastic v1" href="LoadVisionInelastic-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.7</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://www.mantidproject.org">Home</a></li>
                <li><a href="https://download.mantidproject.org">Download</a></li>
                <li><a href="https://docs.mantidproject.org">Documentation</a></li>
                <li><a href="https://www.mantidproject.org/contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Algorithms</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">LoadWAND v1</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="loadwand-v1">
<span id="algm-loadwand"></span><span id="algm-loadwand-v1"></span><h1>LoadWAND v1<a class="headerlink" href="#loadwand-v1" title="Permalink to this heading">¶</a></h1>
<figure class="align-right" id="id1">
<span id="index-0"></span><a class="screenshot reference internal image-reference" href="../_images/ImageNotFound.png"><img alt="../_images/ImageNotFound.png" class="screenshot" src="../_images/ImageNotFound.png" style="width: 200px;" /></a>
<figcaption>
<p><span class="caption-text">Enable screenshots using DOCS_SCREENSHOTS in CMake</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#summary" id="id2">Summary</a></p></li>
<li><p><a class="reference internal" href="#properties" id="id3">Properties</a></p></li>
<li><p><a class="reference internal" href="#description" id="id4">Description</a></p></li>
<li><p><a class="reference internal" href="#usage" id="id5">Usage</a></p></li>
<li><p><a class="reference internal" href="#source" id="id6">Source</a></p></li>
</ul>
</nav>
<section id="summary">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Summary</a><a class="headerlink" href="#summary" title="Permalink to this heading">¶</a></h2>
<p>Loads Event Nexus file, integrates events, sets wavelength, mask, and goniometer, and sets proton charge to monitor counts</p>
</section>
<section id="properties">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Properties</a><a class="headerlink" href="#properties" title="Permalink to this heading">¶</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Direction</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Filename</p></td>
<td><p>Input</p></td>
<td><p>list of str lists</p></td>
<td></td>
<td><p>Files to Load. Allowed extensions: [‘.nxs.h5’]</p></td>
</tr>
<tr class="row-odd"><td><p>IPTS</p></td>
<td><p>Input</p></td>
<td><p>long</p></td>
<td><p><em>Optional</em></p></td>
<td><p>IPTS number to load from</p></td>
</tr>
<tr class="row-even"><td><p>RunNumbers</p></td>
<td><p>Input</p></td>
<td><p>long list</p></td>
<td></td>
<td><p>Run numbers to load</p></td>
</tr>
<tr class="row-odd"><td><p>ApplyMask</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>True</p></td>
<td><p>If True standard masking will be applied to the workspace</p></td>
</tr>
<tr class="row-even"><td><p>Grouping</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>None</p></td>
<td><p>Group pixels. Allowed values: [‘None’, ‘2x2’, ‘4x4’]</p></td>
</tr>
<tr class="row-odd"><td><p>OutputWorkspace</p></td>
<td><p>Output</p></td>
<td><p><a class="reference internal" href="../concepts/Workspace.html#workspace"><span class="std std-ref">Workspace</span></a></p></td>
<td><p><em>Mandatory</em></p></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="description">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Description</a><a class="headerlink" href="#description" title="Permalink to this heading">¶</a></h2>
<p>This algorithm uses <a class="reference internal" href="LoadEventNexus-v1.html#algm-loadeventnexus"><span class="std std-ref">LoadEventNexus v1</span></a> to load a WAND² data
file after which it will integrate out the events, apply a standard
mask, set the goniometer, and set the proton charge to be the number
of monitor counts.</p>
<p>The standard mask includes the top and bottom 2 rows of pixels and the
last 6 columns for run numbers up to 26600 or the first and last 2
columns for larger run numbers.</p>
<p>If it’s a powder sample it can be reduced with <a class="reference internal" href="WANDPowderReduction-v1.html#algm-wandpowderreduction"><span class="std std-ref">WANDPowderReduction v1</span></a>.</p>
<p>If you need to do event filtering don’t use this algorithm, simply use
<a class="reference internal" href="LoadEventNexus-v1.html#algm-loadeventnexus"><span class="std std-ref">LoadEventNexus v1</span></a> and convert to data manually.</p>
<p>You can specify multiple files in the filename property or set the
IPTS and RunNumbers, where RunNumbers can be a range or list of
numbers, see Usage example below. If multiple files are loaded they
will be named ‘OutputWorkspace’+’_runnumber’ and be grouped in
‘OutputWorkspace’.</p>
<p>There is a grouping option to group pixels by either 2x2 or 4x4 which
will help in reducing memory usage and speed up the later reduction
steps. In most cases you will not see a difference in reduced data
with 4x4 pixel grouping.</p>
</section>
<section id="usage">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Usage</a><a class="headerlink" href="#usage" title="Permalink to this heading">¶</a></h2>
<p><strong>Example - LoadWAND</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">silicon</span> <span class="o">=</span> <span class="n">LoadWAND</span><span class="p">(</span><span class="s1">&#39;/HFIR/HB2C/IPTS-7776/nexus/HB2C_26506.nxs.h5&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Workspace has </span><span class="si">{0}</span><span class="s2"> spectrum and </span><span class="si">{1}</span><span class="s2"> point in units </span><span class="si">{2}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">silicon</span><span class="o">.</span><span class="n">getNumberHistograms</span><span class="p">(),</span>
                                                                     <span class="n">silicon</span><span class="o">.</span><span class="n">blocksize</span><span class="p">(),</span>
                                                                     <span class="n">silicon</span><span class="o">.</span><span class="n">getXDimension</span><span class="p">()</span><span class="o">.</span><span class="n">name</span><span class="p">))</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Workspace has 1966080 spectrum and 1 point in units Wavelength
</pre></div>
</div>
<p><strong>Load using Multiple file</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">silicon</span> <span class="o">=</span> <span class="n">LoadWAND</span><span class="p">(</span><span class="s1">&#39;/HFIR/HB2C/IPTS-7776/nexus/HB2C_26506.nxs.h5,/HFIR/HB2C/IPTS-7776/nexus/HB2C_26507.nxs.h5&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Workspace group </span><span class="si">{0}</span><span class="s2"> has </span><span class="si">{1}</span><span class="s2"> workspaces </span><span class="si">{2}</span><span class="s2"> and </span><span class="si">{3}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">silicon</span><span class="o">.</span><span class="n">name</span><span class="p">(),</span>
                                                                  <span class="n">silicon</span><span class="o">.</span><span class="n">getNumberOfEntries</span><span class="p">(),</span>
                                                                  <span class="n">silicon</span><span class="o">.</span><span class="n">getNames</span><span class="p">()[</span><span class="mi">0</span><span class="p">],</span>
                                                                  <span class="n">silicon</span><span class="o">.</span><span class="n">getNames</span><span class="p">()[</span><span class="mi">1</span><span class="p">]))</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Workspace group silicon has 2 workspaces silicon_26506 and silicon_26507
</pre></div>
</div>
<p><strong>Load using IPTS and run numbers</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Comma-separated list</span>
<span class="n">silicon</span> <span class="o">=</span> <span class="n">LoadWAND</span><span class="p">(</span><span class="n">IPTS</span><span class="o">=</span><span class="mi">7776</span><span class="p">,</span><span class="n">RunNumbers</span><span class="o">=</span><span class="s1">&#39;26506,26507&#39;</span><span class="p">)</span>
<span class="c1"># or range</span>
<span class="n">silicon</span> <span class="o">=</span> <span class="n">LoadWAND</span><span class="p">(</span><span class="n">IPTS</span><span class="o">=</span><span class="mi">7776</span><span class="p">,</span><span class="n">RunNumbers</span><span class="o">=</span><span class="s1">&#39;26506-26507&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Workspace group </span><span class="si">{0}</span><span class="s2"> has </span><span class="si">{1}</span><span class="s2"> workspaces </span><span class="si">{2}</span><span class="s2"> and </span><span class="si">{3}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">silicon</span><span class="o">.</span><span class="n">name</span><span class="p">(),</span>
                                                                  <span class="n">silicon</span><span class="o">.</span><span class="n">getNumberOfEntries</span><span class="p">(),</span>
                                                                  <span class="n">silicon</span><span class="o">.</span><span class="n">getNames</span><span class="p">()[</span><span class="mi">0</span><span class="p">],</span>
                                                                  <span class="n">silicon</span><span class="o">.</span><span class="n">getNames</span><span class="p">()[</span><span class="mi">1</span><span class="p">]))</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Workspace group silicon has 2 workspaces silicon_26506 and silicon_26507
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/AlgorithmIndex.html">AlgorithmIndex</a> | <a class="reference external" href="categories/DataHandling/Nexus.html">DataHandling\Nexus</a></p>
</section>
<section id="source">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">Source</a><a class="headerlink" href="#source" title="Permalink to this heading">¶</a></h2>
<p>Python: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/291276d1b3f92d519f399310a3ef5f5d4a7c3d7f/Framework/PythonInterface/plugins/algorithms/WorkflowAlgorithms/LoadWAND.py">LoadWAND.py</a></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="LoadVisionInelastic-v1.html" title="Previous Chapter: LoadVisionInelastic v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; LoadVisionIne...</span>
    </a>
  </li>
  <li>
    <a href="LoadWANDSCD-v1.html" title="Next Chapter: LoadWANDSCD v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">LoadWANDSCD v1 &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>