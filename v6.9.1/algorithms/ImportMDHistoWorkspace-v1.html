<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>ImportMDHistoWorkspace v1</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css?v=fadd4351" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css?v=7f9a90b1" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=77160d70" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script src="../_static/documentation_options.js?v=ff701123"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="IndexPeaks v1" href="IndexPeaks-v1.html" />
    <link rel="prev" title="ImportMDEventWorkspace v1" href="ImportMDEventWorkspace-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.9</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://www.mantidproject.org">Home</a></li>
                <li><a href="https://download.mantidproject.org">Download</a></li>
                <li><a href="https://docs.mantidproject.org">Documentation</a></li>
                <li><a href="https://www.mantidproject.org/contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Algorithms</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">ImportMDHistoWorkspace v1</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="importmdhistoworkspace-v1">
<span id="algm-importmdhistoworkspace"></span><span id="algm-importmdhistoworkspace-v1"></span><h1>ImportMDHistoWorkspace v1<a class="headerlink" href="#importmdhistoworkspace-v1" title="Link to this heading">¶</a></h1>
<nav class="contents local" id="table-of-contents">
<span id="index-0"></span><p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#summary" id="id1">Summary</a></p>
<ul>
<li><p><a class="reference internal" href="#see-also" id="id2">See Also</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#properties" id="id3">Properties</a></p></li>
<li><p><a class="reference internal" href="#description" id="id4">Description</a></p>
<ul>
<li><p><a class="reference internal" href="#details" id="id5">Details</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#alternatives" id="id6">Alternatives</a></p></li>
<li><p><a class="reference internal" href="#usage" id="id7">Usage</a></p></li>
<li><p><a class="reference internal" href="#source" id="id8">Source</a></p></li>
</ul>
</nav>
<section id="summary">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">Summary</a><a class="headerlink" href="#summary" title="Link to this heading">¶</a></h2>
<p>Reads a text file and generates an MDHistoWorkspace from it.</p>
<section id="see-also">
<h3><a class="toc-backref" href="#id2" role="doc-backlink">See Also</a><a class="headerlink" href="#see-also" title="Link to this heading">¶</a></h3>
<p><a class="reference internal" href="ImportMDEventWorkspace-v1.html#algm-importmdeventworkspace"><span class="std std-ref">ImportMDEventWorkspace</span></a></p>
</section>
</section>
<section id="properties">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Properties</a><a class="headerlink" href="#properties" title="Link to this heading">¶</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Direction</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Filename</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>File of type txt. Allowed extensions: [‘.txt’]</p></td>
</tr>
<tr class="row-odd"><td><p>Dimensionality</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>Dimensionality of the data in the file.</p></td>
</tr>
<tr class="row-even"><td><p>Extents</p></td>
<td><p>Input</p></td>
<td><p>dbl list</p></td>
<td></td>
<td><p>A comma separated list of min, max for each dimension, specifying the extents of each dimension.</p></td>
</tr>
<tr class="row-odd"><td><p>NumberOfBins</p></td>
<td><p>Input</p></td>
<td><p>int list</p></td>
<td></td>
<td><p>Number of bin in each dimension.</p></td>
</tr>
<tr class="row-even"><td><p>Names</p></td>
<td><p>Input</p></td>
<td><p>str list</p></td>
<td></td>
<td><p>A comma separated list of the name of each dimension. e.g. (‘[H,0,0]’,’[0,K,0]’,’[0,0,L]’)</p></td>
</tr>
<tr class="row-odd"><td><p>Units</p></td>
<td><p>Input</p></td>
<td><p>str list</p></td>
<td></td>
<td><p>A comma separated list of the units of each dimension.</p></td>
</tr>
<tr class="row-even"><td><p>OutputWorkspace</p></td>
<td><p>Output</p></td>
<td><p>IMDHistoWorkspace</p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>MDHistoWorkspace reflecting the input text file.</p></td>
</tr>
<tr class="row-odd"><td><p>Frames</p></td>
<td><p>Input</p></td>
<td><p>str list</p></td>
<td></td>
<td><p>A comma separated list of the frames of each dimension.  The frames can be <strong>General Frame</strong>: Any frame which is not a Q-based frame. <strong>QLab</strong>: Wave-vector converted into the lab frame. <strong>QSample</strong>: Wave-vector converted into the frame of the sample. <strong>HKL</strong>: Wave-vector converted into the crystal’s HKL indices. Note if nothing is specified then the <strong>General Frame</strong> is being selected. Also note that if you select a frame then this might override your unit selection if it is not compatible with the frame.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="description">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Description</a><a class="headerlink" href="#description" title="Link to this heading">¶</a></h2>
<p>This algorithm takes a text file (.txt extension) containing two columns
and converts it into an <a class="reference internal" href="../concepts/MDHistoWorkspace.html#mdhistoworkspace"><span class="std std-ref">MDHistoWorkspace</span></a>.</p>
<section id="details">
<h3><a class="toc-backref" href="#id5" role="doc-backlink">Details</a><a class="headerlink" href="#details" title="Link to this heading">¶</a></h3>
<p>The columns are in the order <strong>signal</strong> then <strong>error</strong>. The file must
only contain two columns, these may be separated by any whitespace
character. The algorithm expects there to be 2*product(nbins in each
dimension) entries in this file. So if you have set the dimensionality
to be <em>4,4,4</em> then you will need to provide 64 rows of data, in 2
columns or 128 floating point entries.</p>
<p>The Names, Units, Extents and NumberOfBins inputs are all linked by the
order they are provided in. For example, if you provide Names <em>A, B, C</em>
and Units <em>U1, U2, U3</em> then the dimension <em>A</em> will have units <em>U1</em>.</p>
<p>Signal and Error inputs are read in such that, the first entries in the
file will be entered across the first dimension specified, and the
zeroth index in the other dimensions. The second set of entries will be
entered across the first dimension and the 1st index in the second
dimension, and the zeroth index in the others.</p>
</section>
</section>
<section id="alternatives">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">Alternatives</a><a class="headerlink" href="#alternatives" title="Link to this heading">¶</a></h2>
<p>A very similar algorithm to this is
<a class="reference internal" href="CreateMDHistoWorkspace-v1.html#algm-createmdhistoworkspace"><span class="std std-ref">CreateMDHistoWorkspace</span></a>, which takes it’s
input signal and error values from arrays rather than a text file.
Another alternative is to use <a class="reference internal" href="ConvertToMD-v1.html#algm-converttomd"><span class="std std-ref">ConvertToMD</span></a> which works
on MatrixWorkspaces, and allows log values to be included in the
dimensionality.</p>
</section>
<section id="usage">
<h2><a class="toc-backref" href="#id7" role="doc-backlink">Usage</a><a class="headerlink" href="#usage" title="Link to this heading">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To run these usage examples please first download the
<a class="reference external" href="https://sourceforge.net/projects/mantid/files/Sample%20Data/UsageData.zip/download">usage data</a>,
and add these to your path.
In Mantid this is done using <a class="reference internal" href="../interfaces/framework/ManageUserDirectories.html#manageuserdirectories"><span class="std std-ref">Manage User Directories</span></a>.</p>
</div>
<p><strong>A 3D Example</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ws</span> <span class="o">=</span> <span class="n">ImportMDHistoWorkspace</span><span class="p">(</span><span class="s1">&#39;demo_mdhw.txt&#39;</span><span class="p">,</span><span class="n">Dimensionality</span><span class="o">=</span><span class="s1">&#39;3&#39;</span><span class="p">,</span><span class="n">Extents</span><span class="o">=</span><span class="s1">&#39;-1,1,-1,1,-1,1&#39;</span><span class="p">,</span>
                            <span class="n">NumberOfBins</span><span class="o">=</span><span class="s1">&#39;2,2,2&#39;</span><span class="p">,</span><span class="n">Names</span><span class="o">=</span><span class="s1">&#39;A,B,C&#39;</span><span class="p">,</span><span class="n">Units</span><span class="o">=</span><span class="s1">&#39;A,A,A&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Number of Dimensions = </span><span class="si">{:d}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ws</span><span class="o">.</span><span class="n">getNumDims</span><span class="p">()))</span>
<span class="n">index</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Signal at </span><span class="si">{}</span><span class="s2"> = </span><span class="si">{:.1f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">ws</span><span class="o">.</span><span class="n">getSignalArray</span><span class="p">()[</span><span class="n">index</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error Squared at </span><span class="si">{}</span><span class="s2"> = </span><span class="si">{:.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">ws</span><span class="o">.</span><span class="n">getErrorSquaredArray</span><span class="p">()[</span><span class="n">index</span><span class="p">]))</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Number of Dimensions = 3
Signal at (1, 0, 1) = 6.0
Error Squared at (1, 0, 1) = 37.21
</pre></div>
</div>
<p><strong>A 2D Example</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ws</span> <span class="o">=</span> <span class="n">ImportMDHistoWorkspace</span><span class="p">(</span><span class="s1">&#39;demo_mdhw.txt&#39;</span><span class="p">,</span><span class="n">Dimensionality</span><span class="o">=</span><span class="s1">&#39;2&#39;</span><span class="p">,</span><span class="n">Extents</span><span class="o">=</span><span class="s1">&#39;-1,1,-1,1&#39;</span><span class="p">,</span>
                            <span class="n">NumberOfBins</span><span class="o">=</span><span class="s1">&#39;4,2&#39;</span><span class="p">,</span><span class="n">Names</span><span class="o">=</span><span class="s1">&#39;A,B&#39;</span><span class="p">,</span><span class="n">Units</span><span class="o">=</span><span class="s1">&#39;A,A&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Number of Dimensions = </span><span class="si">{:d}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ws</span><span class="o">.</span><span class="n">getNumDims</span><span class="p">()))</span>
<span class="n">index</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Signal at </span><span class="si">{}</span><span class="s2"> = </span><span class="si">{:.1f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">ws</span><span class="o">.</span><span class="n">getSignalArray</span><span class="p">()[</span><span class="n">index</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error Squared at </span><span class="si">{}</span><span class="s2"> = </span><span class="si">{:.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">ws</span><span class="o">.</span><span class="n">getErrorSquaredArray</span><span class="p">()[</span><span class="n">index</span><span class="p">]))</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Number of Dimensions = 2
Signal at (2, 1) = 7.0
Error Squared at (2, 1) = 50.41
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/AlgorithmIndex.html">AlgorithmIndex</a> | <a class="reference external" href="categories/MDAlgorithms/DataHandling.html">MDAlgorithms\DataHandling</a></p>
</section>
<section id="source">
<h2><a class="toc-backref" href="#id8" role="doc-backlink">Source</a><a class="headerlink" href="#source" title="Link to this heading">¶</a></h2>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/171b44b29330a2303790637329340bb3b6de0d0a/Framework/MDAlgorithms/inc/MantidMDAlgorithms/ImportMDHistoWorkspace.h">ImportMDHistoWorkspace.h</a></p>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/171b44b29330a2303790637329340bb3b6de0d0a/Framework/MDAlgorithms/src/ImportMDHistoWorkspace.cpp">ImportMDHistoWorkspace.cpp</a></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="ImportMDEventWorkspace-v1.html" title="Previous Chapter: ImportMDEventWorkspace v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; ImportMDEvent...</span>
    </a>
  </li>
  <li>
    <a href="IndexPeaks-v1.html" title="Next Chapter: IndexPeaks v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">IndexPeaks v1 &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>