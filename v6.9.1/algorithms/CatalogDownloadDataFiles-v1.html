<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>CatalogDownloadDataFiles v1</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css?v=fadd4351" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css?v=7f9a90b1" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=77160d70" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script src="../_static/documentation_options.js?v=ff701123"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="CatalogGetDataFiles v1" href="CatalogGetDataFiles-v1.html" />
    <link rel="prev" title="CarpenterSampleCorrection v1" href="CarpenterSampleCorrection-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.9</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://www.mantidproject.org">Home</a></li>
                <li><a href="https://download.mantidproject.org">Download</a></li>
                <li><a href="https://docs.mantidproject.org">Documentation</a></li>
                <li><a href="https://www.mantidproject.org/contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Algorithms</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">CatalogDownloadDataFiles v1</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="catalogdownloaddatafiles-v1">
<span id="algm-catalogdownloaddatafiles"></span><span id="algm-catalogdownloaddatafiles-v1"></span><h1>CatalogDownloadDataFiles v1<a class="headerlink" href="#catalogdownloaddatafiles-v1" title="Link to this heading">¶</a></h1>
<nav class="contents local" id="table-of-contents">
<span id="index-0"></span><p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#summary" id="id1">Summary</a></p>
<ul>
<li><p><a class="reference internal" href="#see-also" id="id2">See Also</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#properties" id="id3">Properties</a></p></li>
<li><p><a class="reference internal" href="#description" id="id4">Description</a></p></li>
<li><p><a class="reference internal" href="#usage" id="id5">Usage</a></p></li>
<li><p><a class="reference internal" href="#source" id="id6">Source</a></p></li>
</ul>
</nav>
<section id="summary">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">Summary</a><a class="headerlink" href="#summary" title="Link to this heading">¶</a></h2>
<p>Downloads datafiles from the archives based on the ID of a datafile.</p>
<section id="see-also">
<h3><a class="toc-backref" href="#id2" role="doc-backlink">See Also</a><a class="headerlink" href="#see-also" title="Link to this heading">¶</a></h3>
<p><a class="reference internal" href="DownloadFile-v1.html#algm-downloadfile"><span class="std std-ref">DownloadFile</span></a>, <a class="reference internal" href="CatalogGetDataFiles-v1.html#algm-cataloggetdatafiles"><span class="std std-ref">CatalogGetDataFiles</span></a>, <a class="reference internal" href="CatalogLogin-v1.html#algm-cataloglogin"><span class="std std-ref">CatalogLogin</span></a></p>
</section>
</section>
<section id="properties">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Properties</a><a class="headerlink" href="#properties" title="Link to this heading">¶</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Direction</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>FileIds</p></td>
<td><p>Input</p></td>
<td><p>int list</p></td>
<td></td>
<td><p>List of fileids to download from the data server</p></td>
</tr>
<tr class="row-odd"><td><p>FileNames</p></td>
<td><p>Input</p></td>
<td><p>str list</p></td>
<td></td>
<td><p>List of filenames to download from the data server</p></td>
</tr>
<tr class="row-even"><td><p>DownloadPath</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>The path to save the downloaded files.</p></td>
</tr>
<tr class="row-odd"><td><p>Session</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>The session information of the catalog to use.</p></td>
</tr>
<tr class="row-even"><td><p>FileLocations</p></td>
<td><p>Output</p></td>
<td><p>str list</p></td>
<td></td>
<td><p>A list of file locations to the catalog datafiles.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="description">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Description</a><a class="headerlink" href="#description" title="Link to this heading">¶</a></h2>
<p>This algorithm downloads a datafile or multiple datafiles based on the given ID of a datafile in an investigation. It first checks if the file can be downloaded from the data archives (based on information in the config file Facilities.xml) and downloads the file from there. Otherwise, the file is downloaded over HTTPS.</p>
<p>The datafile ID to use to download a datafile can be obtained from <a class="reference internal" href="CatalogGetDataFiles-v1.html#algm-cataloggetdatafiles"><span class="std std-ref">CatalogGetDataFiles</span></a>.</p>
</section>
<section id="usage">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Usage</a><a class="headerlink" href="#usage" title="Link to this heading">¶</a></h2>
<p><strong>Example - downloading a single datafile from ICAT.</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Assuming you have previously logged into the catalog</span>
<span class="c1"># and stored the session return value in the variable &#39;session&#39;</span>
<span class="n">CatalogDownloadDataFiles</span><span class="p">(</span><span class="n">FileIds</span> <span class="o">=</span> <span class="s1">&#39;33127010&#39;</span><span class="p">,</span> <span class="c1"># Which file to find?</span>
                         <span class="n">FileNames</span> <span class="o">=</span> <span class="s1">&#39;33127010.nxs&#39;</span><span class="p">,</span> <span class="c1"># What to name it?</span>
                         <span class="n">DownloadPath</span> <span class="o">=</span> <span class="s1">&#39;~/Desktop&#39;</span><span class="p">,</span>  <span class="c1"># Where to save it?</span>
                         <span class="n">Session</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">getPropertyValue</span><span class="p">(</span><span class="s2">&quot;Session&quot;</span><span class="p">)</span> <span class="c1"># Which session to use?</span>
                        <span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Outputs a list locations of the datafiles downloaded.</span>
<span class="c1"># USERNAME will be your username on your system.</span>
<span class="p">[</span><span class="s1">&#39;/home/USERNAME/Desktop/33127010.nxs&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p><strong>Example - downloading multiple datafiles from ICAT.</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># The ids of the datafiles to download.</span>
<span class="c1"># These could be obtained from CatalogGetDataFiles or entered manually.</span>
<span class="n">datafile_ids</span> <span class="o">=</span> <span class="p">[</span><span class="mi">33127010</span><span class="p">,</span> <span class="mi">33127011</span><span class="p">]</span>

<span class="c1"># This option will not append any file extensions to the datafiles.</span>
<span class="n">CatalogDownloadDataFiles</span><span class="p">(</span><span class="n">FileIds</span> <span class="o">=</span> <span class="n">datafile_ids</span><span class="p">,</span>    <span class="c1"># We now pass our list of ids here</span>
                         <span class="c1"># The filenames are those that will be saved on your machine</span>
                         <span class="c1"># I have opted to use the datafile ids for this, but it is possible</span>
                         <span class="c1"># to provide a list of desired names.</span>
                         <span class="c1"># This must be the same size as the FileIds list.</span>
                         <span class="n">FileNames</span> <span class="o">=</span> <span class="n">datafile_ids</span><span class="p">,</span>
                         <span class="n">DownloadPath</span> <span class="o">=</span> <span class="s1">&#39;~/Desktop&#39;</span><span class="p">,</span>
                         <span class="n">Session</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">getPropertyValue</span><span class="p">(</span><span class="s2">&quot;Session&quot;</span><span class="p">)</span>
                         <span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s1">&#39;/home/USERNAME/Desktop/33127010.nxs&#39;</span><span class="p">,</span> <span class="s1">&#39;/home/USERNAME/Desktop/33127011.nxs&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/AlgorithmIndex.html">AlgorithmIndex</a> | <a class="reference external" href="categories/DataHandling/Catalog.html">DataHandling\Catalog</a></p>
</section>
<section id="source">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">Source</a><a class="headerlink" href="#source" title="Link to this heading">¶</a></h2>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/171b44b29330a2303790637329340bb3b6de0d0a/Framework/ICat/inc/MantidICat/CatalogDownloadDataFiles.h">CatalogDownloadDataFiles.h</a></p>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/171b44b29330a2303790637329340bb3b6de0d0a/Framework/ICat/src/CatalogDownloadDataFiles.cpp">CatalogDownloadDataFiles.cpp</a></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="CarpenterSampleCorrection-v1.html" title="Previous Chapter: CarpenterSampleCorrection v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; CarpenterSamp...</span>
    </a>
  </li>
  <li>
    <a href="CatalogGetDataFiles-v1.html" title="Next Chapter: CatalogGetDataFiles v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">CatalogGetDat... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>