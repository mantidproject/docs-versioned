<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>BayesQuasi2 v1</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css?v=fadd4351" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css?v=7f9a90b1" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=77160d70" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script src="../_static/documentation_options.js?v=ff701123"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="BayesStretch v1" href="BayesStretch-v1.html" />
    <link rel="prev" title="BayesQuasi v1" href="BayesQuasi-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.9</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://www.mantidproject.org">Home</a></li>
                <li><a href="https://download.mantidproject.org">Download</a></li>
                <li><a href="https://docs.mantidproject.org">Documentation</a></li>
                <li><a href="https://www.mantidproject.org/contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Algorithms</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">BayesQuasi2 v1</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="bayesquasi2-v1">
<span id="algm-bayesquasi2"></span><span id="algm-bayesquasi2-v1"></span><h1>BayesQuasi2 v1<a class="headerlink" href="#bayesquasi2-v1" title="Link to this heading">¶</a></h1>
<nav class="contents local" id="table-of-contents">
<span id="index-0"></span><p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#summary" id="id1">Summary</a></p></li>
<li><p><a class="reference internal" href="#properties" id="id2">Properties</a></p></li>
<li><p><a class="reference internal" href="#description" id="id3">Description</a></p></li>
<li><p><a class="reference internal" href="#source" id="id4">Source</a></p></li>
</ul>
</nav>
<section id="summary">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">Summary</a><a class="headerlink" href="#summary" title="Link to this heading">¶</a></h2>
<p>This algorithm uses the Python quickBayes package to fit the quasielastic data (Lorentzians or stretched exponential).</p>
</section>
<section id="properties">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Properties</a><a class="headerlink" href="#properties" title="Link to this heading">¶</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Direction</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Program</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>QL</p></td>
<td><p>The type of program to run (either QL or QSe). Allowed values: [‘QL’, ‘QSe’]</p></td>
</tr>
<tr class="row-odd"><td><p>SampleWorkspace</p></td>
<td><p>Input</p></td>
<td><p><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a></p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>Name of the Sample input Workspace</p></td>
</tr>
<tr class="row-even"><td><p>ResolutionWorkspace</p></td>
<td><p>Input</p></td>
<td><p><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a></p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>Name of the resolution input Workspace</p></td>
</tr>
<tr class="row-odd"><td><p>EMin</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>-0.2</p></td>
<td><p>The start of the fit range. Default=-0.2</p></td>
</tr>
<tr class="row-even"><td><p>EMax</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>0.2</p></td>
<td><p>The end of the fit range. Default=0.2</p></td>
</tr>
<tr class="row-odd"><td><p>Elastic</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>True</p></td>
<td><p>Fit option for using the elastic peak</p></td>
</tr>
<tr class="row-even"><td><p>Background</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>Flat</p></td>
<td><p>Fit option for the type of background. Allowed values: [‘Linear’, ‘Flat’, ‘None’]</p></td>
</tr>
<tr class="row-odd"><td><p>OutputWorkspaceFit</p></td>
<td><p>Output</p></td>
<td><p>WorkspaceGroup</p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>The name of the fit output workspaces</p></td>
</tr>
<tr class="row-even"><td><p>OutputWorkspaceResult</p></td>
<td><p>Output</p></td>
<td><p><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a></p></td>
<td></td>
<td><p>The name of the result output workspaces</p></td>
</tr>
<tr class="row-odd"><td><p>OutputWorkspaceProb</p></td>
<td><p>Output</p></td>
<td><p><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a></p></td>
<td></td>
<td><p>The name of the probability output workspaces</p></td>
</tr>
</tbody>
</table>
</section>
<section id="description">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Description</a><a class="headerlink" href="#description" title="Link to this heading">¶</a></h2>
<p>This algorithm replaces <a class="reference internal" href="BayesQuasi-v1.html#algm-bayesquasi"><span class="std std-ref">BayesQuasi</span></a>.</p>
<p>The algorithm has two modes, <cite>QL</cite> and <cite>QSe</cite>.
These two modes are the same, except for the fitting function being used.
The sample and resolution are cropped and rebinned so that they have the same binning.
The fitting function is then generated with the user selected background plus a convolution of the resolution data with
a delta function (if elastic) and one of the following:</p>
<ul class="simple">
<li><p>one, two and three Lorentzians for the <cite>QL</cite> mode</p></li>
<li><p>one stretched exponential for the <cite>QSe</cite> mode</p></li>
</ul>
<p>The output includes a workspace of the fitting parameters, the loglikelihoods (the least negative is the most likely fit)
and the fits (interpolated back onto the original sample binning).</p>
<p>The stretched exponential results for the FWHM are different to <a class="reference internal" href="BayesQuasi-v1.html#algm-bayesquasi"><span class="std std-ref">BayesQuasi</span></a>, as shown by the figure below.
However, the new results agree with the FWHM values for fitting a single Lorentzian (‘QL’).
The new method provides FWHM results that are comparable for all <span class="math notranslate nohighlight">\(Q\)</span> values (green and black data), unlike the original code that has a divergence for low :math`Q` values.</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/qse_cf.png"><img alt="qse_cf.png" src="../_images/qse_cf.png" style="width: 400px;" /></a>
</figure>
<p><strong>Categories</strong>: <a class="reference external" href="categories/AlgorithmIndex.html">AlgorithmIndex</a> | <a class="reference external" href="categories/Workflow/MIDAS.html">Workflow\MIDAS</a></p>
</section>
<section id="source">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Source</a><a class="headerlink" href="#source" title="Link to this heading">¶</a></h2>
<p>Python: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/171b44b29330a2303790637329340bb3b6de0d0a/Framework/PythonInterface/plugins/algorithms/WorkflowAlgorithms/BayesQuasi2.py">BayesQuasi2.py</a></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="BayesQuasi-v1.html" title="Previous Chapter: BayesQuasi v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; BayesQuasi v1</span>
    </a>
  </li>
  <li>
    <a href="BayesStretch-v1.html" title="Next Chapter: BayesStretch v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">BayesStretch v1 &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>