<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>MuSR Changes</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-sphinx.css?v=fadd4351" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=77160d70" />
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <script src="../../_static/documentation_options.js?v=5b08953a"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Reflectometry Changes" href="reflectometry.html" />
    <link rel="prev" title="Workbench Changes" href="mantidworkbench.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.9</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://www.mantidproject.org">Home</a></li>
                <li><a href="https://download.mantidproject.org">Download</a></li>
                <li><a href="https://docs.mantidproject.org">Documentation</a></li>
                <li><a href="https://www.mantidproject.org/contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="../index.html" >Release Notes</a> &#187;</li>
          
            <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">Mantid 5.1.0 Release Notes</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">MuSR Changes</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="musr-changes">
<h1>MuSR Changes<a class="headerlink" href="#musr-changes" title="Link to this heading">¶</a></h1>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#muon-analysis-2-and-frequency-domain-analysis" id="id7">Muon Analysis 2 and Frequency Domain Analysis</a></p>
<ul>
<li><p><a class="reference internal" href="#new-features" id="id8">New Features</a></p></li>
<li><p><a class="reference internal" href="#improvements" id="id9">Improvements</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#bug-fixes" id="id10">Bug fixes</a></p></li>
<li><p><a class="reference internal" href="#alc" id="id11">ALC</a></p></li>
<li><p><a class="reference internal" href="#id1" id="id12">New Features</a></p>
<ul>
<li><p><a class="reference internal" href="#id2" id="id13">Improvements</a></p></li>
<li><p><a class="reference internal" href="#id3" id="id14">Bug fixes</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#elemental-analysis" id="id15">Elemental Analysis</a></p></li>
<li><p><a class="reference internal" href="#id4" id="id16">New Features</a></p></li>
<li><p><a class="reference internal" href="#id5" id="id17">Bug fixes</a></p>
<ul>
<li><p><a class="reference internal" href="#algorithms" id="id18">Algorithms</a></p></li>
<li><p><a class="reference internal" href="#id6" id="id19">New Features</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="muon-analysis-2-and-frequency-domain-analysis">
<h2><a class="toc-backref" href="#id7" role="doc-backlink">Muon Analysis 2 and Frequency Domain Analysis</a><a class="headerlink" href="#muon-analysis-2-and-frequency-domain-analysis" title="Link to this heading">¶</a></h2>
<figure class="align-right">
<a class="screenshot reference internal image-reference" href="../../_images/MuonAnalysis_release_5_1_0.png"><img alt="../../_images/MuonAnalysis_release_5_1_0.png" class="screenshot" src="../../_images/MuonAnalysis_release_5_1_0.png" style="width: 700px;" /></a>
</figure>
<section id="new-features">
<h3><a class="toc-backref" href="#id8" role="doc-backlink">New Features</a><a class="headerlink" href="#new-features" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>The plotting logic within the Muon Analysis 2 GUI has updated to prevent all the workspaces from a
fit being plotted at the same time. Instead, the choice of which fit workspace to plot can be made in
fitting and sequential fitting tabs.</p></li>
<li><p>When the user switches to the fitting tab, the workspace present in the fit display box is plotted.
To switch back to a view of all the data, the user can switch to the home, grouping or phase table tabs.</p></li>
<li><p>The sequential fitting table now allows multiple selections to be made.</p></li>
<li><p>Addition of an external plotting button to the Muon Analysis 2 GUI.
This allows the user to create a standalone Workbench (or MantidPlot) plot of the displayed data.
The user may then perform standard operations on the plot, e.g drag and drop workspaces onto the figure.</p></li>
<li><p>The loading in the Muon and Frequency domain interfaces has been sped up by reducing the number of calls made to
algorithms. On average, this should result in a 50% decrease in load times. This reduction in the number of algorithms
also improves the clarity of the workspace history, as the number of algorithms present in the history is now reduced.</p></li>
<li><p>On the fitting tab, only one fit object (fit output and input workspaces) will be shown at a time.</p></li>
<li><p>Addition of background correction algorithm (PSIBackgroundCorrection) to remove the background present in
PSI bin data loaded using <a class="reference internal" href="../../algorithms/LoadPSIMuonBin-v1.html#algm-loadpsimuonbin"><span class="std std-ref">LoadPSIMuonBin</span></a>.</p></li>
<li><p>Addition of a LoadMuonNexusV2 algorithm to load the new Muon V2 files, see <a class="reference internal" href="../../algorithms/LoadMuonNexusV2-v1.html#algm-loadmuonnexusv2"><span class="std std-ref">LoadMuonNexusV2</span></a>.</p></li>
<li><p>Updated rounding for time zero and first good data to be 3 decimal places.</p></li>
<li><p>Added double pulse analysis, see <a class="reference internal" href="../../interfaces/muon/muon_home_tab.html#muon-home-tab-ref"><span class="std std-ref">Muon home tab</span></a>.</p></li>
<li><p>Added multi-period support to the LoadMuonNexusV2 algorithm.</p></li>
<li><p>Added support for specifying which groups should be used to calculate a group.</p></li>
<li><p>Added support for specifying which periods should be used to calculate a group.</p></li>
<li><p>Added two buttons to the Muon analysis and Frequency domain analysis plot toolbar to allow users to
show major and minor gridlines.</p></li>
<li><p>Added a Plot difference checkbox to the Muon Analysis GUI, which allows user to choose whether the
fit difference curve is shown.</p></li>
<li><p>Added support for loading and saving group period data from xml files.</p></li>
<li><p>Added a Help option to the right-click menu in the function browser which brings up a relevant
documentation page describing the function.</p></li>
</ul>
</section>
<section id="improvements">
<h3><a class="toc-backref" href="#id9" role="doc-backlink">Improvements</a><a class="headerlink" href="#improvements" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>The plot guess option within the fitting tab will now update when a parameter is changed.</p></li>
<li><p>Have updated the FDA GUI so that it functions correctly for frequency transforms and single fits.</p></li>
<li><p>Updated <a class="reference internal" href="../../algorithms/DoublePulseFit-v1.html#algm-doublepulsefit"><span class="std std-ref">DoublePulseFit</span></a> to allow composite function input.</p></li>
<li><p>Updated <a class="reference internal" href="../../algorithms/CalculateMuonAsymmetry-v1.html#algm-calculatemuonasymmetry"><span class="std std-ref">CalculateMuonAsymmetry</span></a> to allow double pulse fits.</p></li>
<li><p>Tf asymmetry mode can now be performed on double pulse fits from the Muon Analysis GUI.</p></li>
<li><p>Updated <a class="reference internal" href="../../algorithms/LoadMuonNexusV2-v1.html#algm-loadmuonnexusv2"><span class="std std-ref">LoadMuonNexusV2</span></a> and <a class="reference internal" href="../../algorithms/LoadPSIMuonBin-v1.html#algm-loadpsimuonbin"><span class="std std-ref">LoadPSIMuonBin</span></a> to
load a list of time zeros into a new property TimZeroList.</p></li>
<li><p>Updated <a class="reference internal" href="../../algorithms/LoadMuonNexusV2-v1.html#algm-loadmuonnexusv2"><span class="std std-ref">LoadMuonNexusV2</span></a> and <a class="reference internal" href="../../algorithms/LoadPSIMuonBin-v1.html#algm-loadpsimuonbin"><span class="std std-ref">LoadPSIMuonBin</span></a> to
add an option to not auto-correct the time by loaded timezero.</p></li>
<li><p>Fitting tab in Muon analysis and Frequency domain analysis GUI’s are now disabled when
no valid fitting data is present.</p></li>
<li><p>Global parameters within the function browser will no longer reset when a new function is added/removed.</p></li>
<li><p>Updated plotting to make line colours more consistent. The maximum number of unique line colors in each plot is 10.</p></li>
<li><p>Have updated the FDA GUI so that it functions correctly for frequency transforms and single fits.</p></li>
<li><p>Added in default group and pair selection when loading grouping files from xml.</p></li>
<li><p>Updated CHRONUS TF asymmetry mode default grouping. Now uses eight groups by default.</p></li>
<li><p>Added warnings when the selected runs do not have the relevant periods to calculate the groups or pairs.</p></li>
<li><p>Autoscale has been replaced with a checkbox. It does not work with pan/zoom on.</p></li>
</ul>
</section>
</section>
<section id="bug-fixes">
<h2><a class="toc-backref" href="#id10" role="doc-backlink">Bug fixes</a><a class="headerlink" href="#bug-fixes" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Fixed an issue where ties set in Muon Analysis were not being respected.</p></li>
<li><p>The plot will always match the state of the <cite>Plot raw</cite> checkbox.</p></li>
<li><p>Fixed a bug that caused rebinned data to override non-binned data.</p></li>
<li><p>Fixed an issue where switching to simultaneous fit mode was occasionally throwing an exception.</p></li>
<li><p>Fixed an issue where loading additional data in simultaneous fit mode was throwing an exception.</p></li>
<li><p>Fixed an issue where Mantid crashed when the Muon Analysis plotting window crashed was resized to be too small.</p></li>
<li><p>Fixed an issue where groups were all being plotted on the same tiled plot.</p></li>
<li><p>Fixed an issue with setting the current workspace before adding a function.</p></li>
<li><p>Fixed an issue with the results tab not updating correctly after multiple fits with different functions.</p></li>
<li><p>Fixed an issue where Muon Analysis and Frequency Domain Analysis gui was not properly disabling during calculations.</p></li>
<li><p>Fixed an issue where Muon Analysis and Frequency Domain Analysis was not correctly resetting
the DeadTime property to default when a user changes the instrument.</p></li>
<li><p>Fixed issue where select data was enabled incorrectly.</p></li>
<li><p>Fixed a bug in simultaneous TF asymmetry mode fitting, which would cause a crash when the run
was incremented. Note that currently the single fitting tab will not update with the new normalization
constants after a new run is loaded.</p></li>
<li><p>Fixed a bug were fitting in TF asymmetry mode for group data, then switching instrument and
loading pair data would cause mantid to crash.</p></li>
</ul>
</section>
<section id="alc">
<h2><a class="toc-backref" href="#id11" role="doc-backlink">ALC</a><a class="headerlink" href="#alc" title="Link to this heading">¶</a></h2>
</section>
<section id="id1">
<h2><a class="toc-backref" href="#id12" role="doc-backlink">New Features</a><a class="headerlink" href="#id1" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>The ALC interface has been updated and now only has a single runs box.</p></li>
<li><p>‘Auto’ has been renamed to ‘Auto Find Current Run’ and its functionality slightly altered.
See <a class="reference internal" href="../../interfaces/muon/Muon%20ALC.html#muonalc-ref"><span class="std std-ref">Muon ALC</span></a> for more.</p></li>
</ul>
<section id="id2">
<h3><a class="toc-backref" href="#id13" role="doc-backlink">Improvements</a><a class="headerlink" href="#id2" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>The ALC interface in workbench will now show errors by default. The error bars can also be
turned on/off using the right-click plot menu.</p></li>
</ul>
</section>
<section id="id3">
<h3><a class="toc-backref" href="#id14" role="doc-backlink">Bug fixes</a><a class="headerlink" href="#id3" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Fixed an issue in the ALC interface baseline fit where corrected data from all fits were plotted at
the same time in the corrected data tab. Now only corrected data from the most recent fit is plotted.</p></li>
</ul>
</section>
</section>
<section id="elemental-analysis">
<h2><a class="toc-backref" href="#id15" role="doc-backlink">Elemental Analysis</a><a class="headerlink" href="#elemental-analysis" title="Link to this heading">¶</a></h2>
</section>
<section id="id4">
<h2><a class="toc-backref" href="#id16" role="doc-backlink">New Features</a><a class="headerlink" href="#id4" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Added a deselect all elements button.</p></li>
<li><p>Fixed an issue where groups were all being plotted on the same tiled plot.</p></li>
</ul>
</section>
<section id="id5">
<h2><a class="toc-backref" href="#id17" role="doc-backlink">Bug fixes</a><a class="headerlink" href="#id5" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Fixed an issue where Elemental Analysis gui was crashing when any peak checkbox was unselected.</p></li>
<li><p>Fixed an issue with reloading data after closing gui.</p></li>
</ul>
<section id="algorithms">
<h3><a class="toc-backref" href="#id18" role="doc-backlink">Algorithms</a><a class="headerlink" href="#algorithms" title="Link to this heading">¶</a></h3>
</section>
<section id="id6">
<h3><a class="toc-backref" href="#id19" role="doc-backlink">New Features</a><a class="headerlink" href="#id6" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>A new parameter has been added to the <a class="reference internal" href="../../algorithms/PlotAsymmetryByLogValue-v1.html#algm-plotasymmetrybylogvalue"><span class="std std-ref">PlotAsymmetryByLogValue</span></a> algorithm
which accepts a range of runs to be processed.</p></li>
<li><p>In the <a class="reference internal" href="../../algorithms/PlotAsymmetryByLogValue-v1.html#algm-plotasymmetrybylogvalue"><span class="std std-ref">PlotAsymmetryByLogValue</span></a> algorithm parameters ‘FirstRun’ and
‘LastRun’ are no longer mandatory. Either WorkspaceNames, or FirstRun and LastRun must be supplied for a valid input.
Preference is given to WorkspaceNames if FirstRun, LastRun, and WorkspaceNames is supplied.
An example of a valid range is ‘62260-3, 62267, 62270-4’.</p></li>
</ul>
<p><a class="reference internal" href="index.html#v5-1-0"><span class="std std-ref">Release 5.1.0</span></a></p>
</section>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="mantidworkbench.html" title="Previous Chapter: Workbench Changes"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Workbench Changes</span>
    </a>
  </li>
  <li>
    <a href="reflectometry.html" title="Next Chapter: Reflectometry Changes"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Reflectometry Changes &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>