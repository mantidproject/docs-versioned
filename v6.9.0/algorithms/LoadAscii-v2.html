<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>LoadAscii v2</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css?v=fadd4351" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=77160d70" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script src="../_static/documentation_options.js?v=5b08953a"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="LoadBBY v1" href="LoadBBY-v1.html" />
    <link rel="prev" title="LoadAscii v1" href="LoadAscii-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.9</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://www.mantidproject.org">Home</a></li>
                <li><a href="https://download.mantidproject.org">Download</a></li>
                <li><a href="https://docs.mantidproject.org">Documentation</a></li>
                <li><a href="https://www.mantidproject.org/contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Algorithms</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">LoadAscii v2</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="loadascii-v2">
<span id="algm-loadascii"></span><span id="algm-loadascii-v2"></span><h1>LoadAscii v2<a class="headerlink" href="#loadascii-v2" title="Link to this heading">¶</a></h1>
<nav class="contents local" id="table-of-contents">
<span id="index-0"></span><p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#summary" id="id1">Summary</a></p>
<ul>
<li><p><a class="reference internal" href="#see-also" id="id2">See Also</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#properties" id="id3">Properties</a></p></li>
<li><p><a class="reference internal" href="#description" id="id4">Description</a></p></li>
<li><p><a class="reference internal" href="#usage" id="id5">Usage</a></p></li>
<li><p><a class="reference internal" href="#source" id="id6">Source</a></p></li>
</ul>
</nav>
<section id="summary">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">Summary</a><a class="headerlink" href="#summary" title="Link to this heading">¶</a></h2>
<p>Loads data from a text file and stores it in a 2D workspace or Table Workspace.</p>
<section id="see-also">
<h3><a class="toc-backref" href="#id2" role="doc-backlink">See Also</a><a class="headerlink" href="#see-also" title="Link to this heading">¶</a></h3>
<p><a class="reference internal" href="SaveAscii-v2.html#algm-saveascii"><span class="std std-ref">SaveAscii</span></a></p>
</section>
</section>
<section id="properties">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Properties</a><a class="headerlink" href="#properties" title="Link to this heading">¶</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Direction</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Filename</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>The name of the text file to read, including its full or relative path. The file extension must be .txt, .dat, or .csv. Allowed values: [‘.dat’, ‘.txt’, ‘.csv’, ‘’]</p></td>
</tr>
<tr class="row-odd"><td><p>OutputWorkspace</p></td>
<td><p>Output</p></td>
<td><p><a class="reference internal" href="../concepts/Workspace.html#workspace"><span class="std std-ref">Workspace</span></a></p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>The name of the workspace that will be created, filled with the read-in data and stored in the [[Analysis Data Service]].</p></td>
</tr>
<tr class="row-even"><td><p>Separator</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>Automatic</p></td>
<td><p>The separator between data columns in the data file. The possible values are “CSV”, “Tab”, “Space”, “SemiColon”, “Colon” or a user defined value. (default: Automatic selection from comma, tab, space, semicolon or colon.). Allowed values: [‘Automatic’, ‘CSV’, ‘Tab’, ‘Space’, ‘Colon’, ‘SemiColon’, ‘UserDefined’]</p></td>
</tr>
<tr class="row-odd"><td><p>CustomSeparator</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>If present, will override any specified choice given to Separator.</p></td>
</tr>
<tr class="row-even"><td><p>CommentIndicator</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>#</p></td>
<td><p>Character(s) found front of comment lines. Cannot contain numeric characters</p></td>
</tr>
<tr class="row-odd"><td><p>Unit</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>Energy</p></td>
<td><p>The unit to assign to the X axis (anything known to the [[Unit Factory]] or “Dimensionless”). Allowed values: [‘Dimensionless’, ‘AtomicDistance’, ‘Degrees’, ‘DeltaE’, ‘DeltaE_inFrequency’, ‘DeltaE_inWavenumber’, ‘dSpacing’, ‘dSpacingPerpendicular’, ‘Empty’, ‘Energy’, ‘Energy_inWavenumber’, ‘Label’, ‘Momentum’, ‘MomentumTransfer’, ‘Phi’, ‘QSquared’, ‘SpinEchoLength’, ‘SpinEchoTime’, ‘Temperature’, ‘Time’, ‘TOF’, ‘Wavelength’]</p></td>
</tr>
<tr class="row-even"><td><p>SkipNumLines</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p><em>Optional</em></p></td>
<td><p>If given, skip this number of lines at the start of the file.</p></td>
</tr>
<tr class="row-odd"><td><p>ForceDistributionTrue</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>False</p></td>
<td><p>(default: false) If true, the loaded workspace is set to Distribution=true. If true, the Distribution flag, which may be in the file header, is ignored.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="description">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Description</a><a class="headerlink" href="#description" title="Link to this heading">¶</a></h2>
<p>The LoadAscii2 algorithm reads in spectra data from a text file and
stores it in a <a class="reference internal" href="../concepts/Workspace2D.html#workspace2d"><span class="std std-ref">Workspace2D</span></a> as data points, or a Table Workspace if it is table data. The data in
the file must be organized in columns separated by commas, tabs, spaces,
colons or semicolons. Only one separator type can be used throughout the
file; use the “Separator” property to tell the algorithm which to use.
The algorithm <a class="reference internal" href="SaveAscii-v2.html#algm-saveascii-v2"><span class="std std-ref">SaveAscii2</span></a> is normally able to produce
such a file.</p>
<p>The format must be (Workspace 2D):</p>
<ul class="simple">
<li><p>A single integer or blank line to denote a new spectra</p></li>
<li><p>For each bin, between two and four columns of delimited data in the
following order: 1st column=X, 2nd column=Y, 3rd column=E, 4th
column=DX (X error)</p></li>
<li><p>Comments can be included by prefixing the line with a non-numerical
character which must be consistent throughout the file and specified
when you load the file. Defaults to “#”</p></li>
<li><p>The number of bins is defined by the number of rows and must be
identical for each spectra</p></li>
</ul>
<p>The following is an example valid file of 4 spectra of 2 bins each with
no X error:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#. X , Y , E</span>

<span class="mi">1</span> <span class="mf">2.00000000</span><span class="p">,</span><span class="mf">2.00000000</span><span class="p">,</span><span class="mf">1.00000000</span> <span class="mf">4.00000000</span><span class="p">,</span><span class="mf">1.00000000</span><span class="p">,</span><span class="mf">1.00000000</span> <span class="mi">2</span>
<span class="mf">2.00000000</span><span class="p">,</span><span class="mf">5.00000000</span><span class="p">,</span><span class="mf">2.00000000</span> <span class="mf">4.00000000</span><span class="p">,</span><span class="mf">4.00000000</span><span class="p">,</span><span class="mf">2.00000000</span> <span class="mi">3</span>
<span class="mf">2.00000000</span><span class="p">,</span><span class="mf">3.00000000</span><span class="p">,</span><span class="mf">1.00000000</span> <span class="mf">4.00000000</span><span class="p">,</span><span class="mf">0.00000000</span><span class="p">,</span><span class="mf">0.00000000</span> <span class="mi">4</span>
<span class="mf">2.00000000</span><span class="p">,</span><span class="mf">0.00000000</span><span class="p">,</span><span class="mf">0.00000000</span> <span class="mf">4.00000000</span><span class="p">,</span><span class="mf">0.00000000</span><span class="p">,</span><span class="mf">0.00000000</span>
</pre></div>
</div>
<p>The format must be (Table Workspace):</p>
<ul class="simple">
<li><p>Two commented header lines</p></li>
<li><p>The first containing the column names</p></li>
<li><p>The second containing the column types (str, int, unit, long64, size_t, float, double, bool, V3D)</p></li>
<li><p>The number of column names, types and data items must match</p></li>
</ul>
<p>The following is an example valid file of two columns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Instrument Name , Run Number</span>
<span class="c1"># str , int</span>
<span class="n">MUSR</span><span class="p">,</span><span class="mi">10245</span>
<span class="n">IRIS</span><span class="p">,</span><span class="mi">8465</span>
<span class="n">SANS2D</span><span class="p">,</span><span class="mi">20462</span>
</pre></div>
</div>
</section>
<section id="usage">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Usage</a><a class="headerlink" href="#usage" title="Link to this heading">¶</a></h2>
<p><strong>Example</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#import the os path libraries for directory functions</span>
<span class="kn">import</span> <span class="nn">os</span>

<span class="c1"># create histogram workspace</span>
<span class="n">dataX1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]</span> <span class="c1"># or use dataX1=range(0,10)</span>
<span class="n">dataY1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]</span> <span class="c1"># or use dataY1=range(0,9)</span>
<span class="n">dataE1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span> <span class="c1"># or use dataE1=[1]*9</span>

<span class="n">ws1</span> <span class="o">=</span> <span class="n">CreateWorkspace</span><span class="p">(</span><span class="n">dataX1</span><span class="p">,</span> <span class="n">dataY1</span><span class="p">,</span> <span class="n">dataE1</span><span class="p">)</span>

<span class="c1">#Create an absolute path by joining the proposed filename to a directory</span>
<span class="c1">#os.path.expanduser(&quot;~&quot;) used in this case returns the home directory of the current user</span>
<span class="n">savefile</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s2">&quot;~&quot;</span><span class="p">),</span> <span class="s2">&quot;AsciiFile.txt&quot;</span><span class="p">)</span>

<span class="c1"># perform the algorithm</span>
<span class="n">SaveAscii</span><span class="p">(</span><span class="n">InputWorkspace</span><span class="o">=</span><span class="n">ws1</span><span class="p">,</span><span class="n">Filename</span><span class="o">=</span><span class="n">savefile</span><span class="p">)</span>

<span class="c1">#Load it again - Load would work just as well as LoadAscii</span>
<span class="n">wsOutput</span> <span class="o">=</span> <span class="n">LoadAscii</span><span class="p">(</span><span class="n">savefile</span><span class="p">,</span><span class="n">Unit</span><span class="o">=</span><span class="s2">&quot;Label&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">CompareWorkspaces</span><span class="p">(</span><span class="n">ws1</span><span class="p">,</span><span class="n">wsOutput</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>

<span class="c1">#clean up the file I saved</span>
<span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">savefile</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/AlgorithmIndex.html">AlgorithmIndex</a> | <a class="reference external" href="categories/DataHandling/Text.html">DataHandling\Text</a></p>
</section>
<section id="source">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">Source</a><a class="headerlink" href="#source" title="Link to this heading">¶</a></h2>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/66c74f87d9b779695dc85b538bc48767c5975b19/Framework/DataHandling/inc/MantidDataHandling/LoadAscii2.h">LoadAscii2.h</a></p>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/66c74f87d9b779695dc85b538bc48767c5975b19/Framework/DataHandling/src/LoadAscii2.cpp">LoadAscii2.cpp</a></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="LoadAscii-v1.html" title="Previous Chapter: LoadAscii v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; LoadAscii v1</span>
    </a>
  </li>
  <li>
    <a href="LoadBBY-v1.html" title="Next Chapter: LoadBBY v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">LoadBBY v1 &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>