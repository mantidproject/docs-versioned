<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>LoadDetectorsGroupingFile v1</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css?v=fadd4351" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=77160d70" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script src="../_static/documentation_options.js?v=5b08953a"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="LoadDiffCal v1" href="LoadDiffCal-v1.html" />
    <link rel="prev" title="LoadDetectorInfo v1" href="LoadDetectorInfo-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.9</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://www.mantidproject.org">Home</a></li>
                <li><a href="https://download.mantidproject.org">Download</a></li>
                <li><a href="https://docs.mantidproject.org">Documentation</a></li>
                <li><a href="https://www.mantidproject.org/contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Algorithms</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">LoadDetectorsGroupingFile v1</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="loaddetectorsgroupingfile-v1">
<span id="algm-loaddetectorsgroupingfile"></span><span id="algm-loaddetectorsgroupingfile-v1"></span><h1>LoadDetectorsGroupingFile v1<a class="headerlink" href="#loaddetectorsgroupingfile-v1" title="Link to this heading">¶</a></h1>
<nav class="contents local" id="table-of-contents">
<span id="index-0"></span><p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#summary" id="id1">Summary</a></p>
<ul>
<li><p><a class="reference internal" href="#see-also" id="id2">See Also</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#properties" id="id3">Properties</a></p></li>
<li><p><a class="reference internal" href="#description" id="id4">Description</a></p></li>
<li><p><a class="reference internal" href="#xml-file-format" id="id5">XML File Format</a></p>
<ul>
<li><p><a class="reference internal" href="#parameters" id="id6">Parameters</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#map-file-format" id="id7">Map File Format</a></p></li>
<li><p><a class="reference internal" href="#usage" id="id8">Usage</a></p></li>
<li><p><a class="reference internal" href="#source" id="id9">Source</a></p></li>
</ul>
</nav>
<section id="summary">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">Summary</a><a class="headerlink" href="#summary" title="Link to this heading">¶</a></h2>
<p>Load an XML or Map file, which contains definition of detectors grouping, to a GroupingWorkspace.</p>
<section id="see-also">
<h3><a class="toc-backref" href="#id2" role="doc-backlink">See Also</a><a class="headerlink" href="#see-also" title="Link to this heading">¶</a></h3>
<p><a class="reference internal" href="SaveDetectorsGrouping-v1.html#algm-savedetectorsgrouping"><span class="std std-ref">SaveDetectorsGrouping</span></a>, <a class="reference internal" href="GroupDetectors-v2.html#algm-groupdetectors"><span class="std std-ref">GroupDetectors</span></a></p>
</section>
</section>
<section id="properties">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Properties</a><a class="headerlink" href="#properties" title="Link to this heading">¶</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Direction</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>InputFile</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>The XML or Map file with full path. Allowed extensions: [‘.xml’, ‘.map’]</p></td>
</tr>
<tr class="row-odd"><td><p>InputWorkspace</p></td>
<td><p>Input</p></td>
<td><p><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a></p></td>
<td></td>
<td><p>Optional: An input workspace with the instrument we want to use. This will override what is specified in the grouping file.</p></td>
</tr>
<tr class="row-even"><td><p>OutputWorkspace</p></td>
<td><p>Output</p></td>
<td><p>GroupingWorkspace</p></td>
<td></td>
<td><p>The output workspace containing the loaded grouping information.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="description">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Description</a><a class="headerlink" href="#description" title="Link to this heading">¶</a></h2>
<p>This algorithm is used to generate a GroupingWorkspace from an XML or
Map file containing detectors’ grouping information.</p>
</section>
<section id="xml-file-format">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">XML File Format</a><a class="headerlink" href="#xml-file-format" title="Link to this heading">¶</a></h2>
<p>Extension: .xml</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">InputWorkspace</span></code> is specified, it overrides what is given in
the file. This is useful for loading a grouping for an instrument that
is not the most recent one.</p>
<section id="parameters">
<h3><a class="toc-backref" href="#id6" role="doc-backlink">Parameters</a><a class="headerlink" href="#parameters" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>“instrument”: optional attribute of node ‘detector-grouping’. It must
be valid instrument name. If “instrument” is not defined, only tag
“ids” can be used in this XML file.</p></li>
<li><p>“ID”: optional attribute of node ‘group’. It must be an integer, and
the key to denote group. If “ID” is not given, algorithm will use
default group ID for each group in the same order as in XML file. The
automatic group ID starts from 1.</p></li>
<li><p>“detids”: a node to define grouping by detectors’ ID. Its value must
be a list of integers separated by ‘,’. A ‘-’ is used between 2
integers to define a range of detectors.</p></li>
<li><p>“component”: a node to define that all detectors belonged to a
component in the instrument are to be in a same group. Its value
should be a valid component name.</p></li>
<li><p>“ids”: a node to define that all detectors of the spectrum whose ID
‘s defined by “ids” will be grouped together.</p></li>
</ul>
<p>Example 1 (using detector IDs and explicit group ID):</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;detector-grouping</span><span class="w"> </span><span class="na">instrument=</span><span class="s">&quot;VULCAN&quot;</span><span class="w"> </span><span class="na">idf-date=</span><span class="s">&quot;2018-01-01 00:00:00&quot;</span><span class="nt">&gt;</span>
<span class="w"> </span><span class="nt">&lt;group</span><span class="w"> </span><span class="na">ID=</span><span class="s">&quot;4&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;detids&gt;</span>28750-29981<span class="nt">&lt;/detids&gt;</span>
<span class="w">  </span><span class="nt">&lt;component&gt;</span>bank21<span class="nt">&lt;/component&gt;</span>
<span class="w"> </span><span class="nt">&lt;/group&gt;</span>
<span class="w"> </span><span class="nt">&lt;group</span><span class="w"> </span><span class="na">ID=</span><span class="s">&quot;5&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;component&gt;</span>bank26<span class="nt">&lt;/component&gt;</span>
<span class="w"> </span><span class="nt">&lt;/group&gt;</span>
<span class="nt">&lt;/detector-grouping&gt;</span>
</pre></div>
</div>
<p>Example 2 (using detector IDs and default group ID):</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;detector-grouping</span><span class="w"> </span><span class="na">instrument=</span><span class="s">&quot;VULCAN&quot;</span><span class="w"> </span><span class="na">idf-date=</span><span class="s">&quot;2018-01-01 00:00:00&quot;</span><span class="nt">&gt;</span>
<span class="w"> </span><span class="nt">&lt;group&gt;</span>
<span class="w">  </span><span class="nt">&lt;detids&gt;</span>28750-29981<span class="nt">&lt;/detids&gt;</span>
<span class="w">  </span><span class="nt">&lt;component&gt;</span>bank21<span class="nt">&lt;/component&gt;</span>
<span class="w"> </span><span class="nt">&lt;/group&gt;</span>
<span class="w"> </span><span class="nt">&lt;group&gt;</span>
<span class="w">  </span><span class="nt">&lt;component&gt;</span>bank26<span class="nt">&lt;/component&gt;</span>
<span class="w"> </span><span class="nt">&lt;/group&gt;</span>
<span class="nt">&lt;/detector-grouping&gt;</span>
</pre></div>
</div>
<p>Example 3 (using spectra number - note that no instrument is required):</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;detector-grouping&gt;</span>
<span class="w"> </span><span class="nt">&lt;group</span><span class="w"> </span><span class="na">ID=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;ids&gt;</span>3,34-44,47<span class="nt">&lt;/ids&gt;</span>
<span class="w"> </span><span class="nt">&lt;/group&gt;</span>
<span class="w"> </span><span class="nt">&lt;group</span><span class="w"> </span><span class="na">ID=</span><span class="s">&quot;2&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;ids&gt;</span>26<span class="nt">&lt;/ids&gt;</span>
<span class="w">  </span><span class="nt">&lt;ids&gt;</span>27,28<span class="nt">&lt;/ids&gt;</span>
<span class="w"> </span><span class="nt">&lt;/group&gt;</span>
<span class="nt">&lt;/detector-grouping&gt;</span>
</pre></div>
</div>
</section>
</section>
<section id="map-file-format">
<h2><a class="toc-backref" href="#id7" role="doc-backlink">Map File Format</a><a class="headerlink" href="#map-file-format" title="Link to this heading">¶</a></h2>
<p>Extension: .map</p>
<p>The file must have the following format* (extra space and comments
starting with # are allowed):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;unused number1&quot;</span>
<span class="s2">&quot;unused number2&quot;</span>
<span class="s2">&quot;number_of_input_spectra1&quot;</span>
<span class="s2">&quot;input spec1&quot;</span> <span class="s2">&quot;input spec2&quot;</span> <span class="s2">&quot;input spec3&quot;</span> <span class="s2">&quot;input spec4&quot;</span>
<span class="s2">&quot;input spec5 input spec6&quot;</span>
<span class="o">**</span>
<span class="s2">&quot;unused number2&quot;</span>
<span class="s2">&quot;number_of_input_spectra2&quot;</span>
<span class="s2">&quot;input spec1&quot;</span> <span class="s2">&quot;input spec2&quot;</span> <span class="s2">&quot;input spec3&quot;</span> <span class="s2">&quot;input spec4&quot;</span>
</pre></div>
</div>
<p>* each phrase in “ “ is replaced by a single integer</p>
<p>** the section of the file that follows is repeated once for each
group</p>
<p>Some programs require that “unused number1” is the number of groups
specified in the file but Mantid ignores that number and all groups
contained in the file are read regardless. “unused number2” is in other
implementations the group’s spectrum number but in this algorithm it is
is ignored and can be any integer (not necessarily the same integer)</p>
<p>An example of an input file follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">3</span>
<span class="mi">1</span>
<span class="mi">64</span>
<span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span> <span class="mi">5</span> <span class="mi">6</span> <span class="mi">7</span> <span class="mi">8</span> <span class="mi">9</span> <span class="mi">10</span>
<span class="mi">11</span> <span class="mi">12</span> <span class="mi">13</span> <span class="mi">14</span> <span class="mi">15</span> <span class="mi">16</span> <span class="mi">17</span> <span class="mi">18</span> <span class="mi">19</span> <span class="mi">20</span>
<span class="mi">21</span> <span class="mi">22</span> <span class="mi">23</span> <span class="mi">24</span> <span class="mi">25</span> <span class="mi">26</span> <span class="mi">27</span> <span class="mi">28</span> <span class="mi">29</span> <span class="mi">30</span>
<span class="mi">31</span> <span class="mi">32</span> <span class="mi">33</span> <span class="mi">34</span> <span class="mi">35</span> <span class="mi">36</span> <span class="mi">37</span> <span class="mi">38</span> <span class="mi">39</span> <span class="mi">40</span>
<span class="mi">41</span> <span class="mi">42</span> <span class="mi">43</span> <span class="mi">44</span> <span class="mi">45</span> <span class="mi">46</span> <span class="mi">47</span> <span class="mi">48</span> <span class="mi">49</span> <span class="mi">50</span>
<span class="mi">51</span> <span class="mi">52</span> <span class="mi">53</span> <span class="mi">54</span> <span class="mi">55</span> <span class="mi">56</span> <span class="mi">57</span> <span class="mi">58</span> <span class="mi">59</span> <span class="mi">60</span>
<span class="mi">61</span> <span class="mi">62</span> <span class="mi">63</span> <span class="mi">64</span>
<span class="mi">2</span>
<span class="mi">60</span>
<span class="mi">65</span> <span class="mi">66</span> <span class="mi">67</span> <span class="mi">68</span> <span class="mi">69</span> <span class="mi">70</span> <span class="mi">71</span> <span class="mi">72</span> <span class="mi">73</span> <span class="mi">74</span>
<span class="mi">75</span> <span class="mi">76</span> <span class="mi">77</span> <span class="mi">78</span> <span class="mi">79</span> <span class="mi">80</span> <span class="mi">81</span> <span class="mi">82</span> <span class="mi">83</span> <span class="mi">84</span>
<span class="mi">85</span> <span class="mi">86</span> <span class="mi">87</span> <span class="mi">88</span> <span class="mi">89</span> <span class="mi">90</span> <span class="mi">91</span> <span class="mi">92</span> <span class="mi">93</span> <span class="mi">94</span>
<span class="mi">95</span> <span class="mi">96</span> <span class="mi">97</span> <span class="mi">98</span> <span class="mi">99</span> <span class="mi">100</span> <span class="mi">101</span> <span class="mi">102</span> <span class="mi">103</span> <span class="mi">104</span>
<span class="mi">105</span> <span class="mi">106</span> <span class="mi">107</span> <span class="mi">108</span> <span class="mi">109</span> <span class="mi">110</span> <span class="mi">111</span> <span class="mi">112</span> <span class="mi">113</span> <span class="mi">114</span>
<span class="mi">115</span> <span class="mi">116</span> <span class="mi">117</span> <span class="mi">118</span> <span class="mi">119</span> <span class="mi">120</span> <span class="mi">121</span> <span class="mi">122</span> <span class="mi">123</span> <span class="mi">124</span>
<span class="mi">3</span>
<span class="mi">60</span>
<span class="mi">125</span> <span class="mi">126</span> <span class="mi">127</span> <span class="o">-</span> <span class="mi">180</span> <span class="mi">181</span> <span class="mi">182</span> <span class="mi">183</span> <span class="mi">184</span>
</pre></div>
</div>
</section>
<section id="usage">
<h2><a class="toc-backref" href="#id8" role="doc-backlink">Usage</a><a class="headerlink" href="#usage" title="Link to this heading">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># create some grouping file</span>
<span class="kn">import</span> <span class="nn">mantid</span>
<span class="n">filename</span><span class="o">=</span><span class="n">mantid</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">getString</span><span class="p">(</span><span class="s2">&quot;defaultsave.directory&quot;</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;test.xml&quot;</span>
<span class="n">f</span><span class="o">=</span><span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt; </span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;&lt;detector-grouping instrument=&quot;VULCAN&quot; idf-date=&quot;2018-01-01 00:00:00&quot;&gt; </span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  &lt;group ID=&quot;1&quot;&gt; </span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;   &lt;detids&gt;28750-29981&lt;/detids&gt; </span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;   &lt;component&gt;bank23&lt;/component&gt; </span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  &lt;/group&gt; </span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  &lt;group ID=&quot;2&quot;&gt; </span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;   &lt;component&gt;bank26&lt;/component&gt; </span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;   &lt;component&gt;bank27&lt;/component&gt; </span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  &lt;/group&gt; </span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39; &lt;/detector-grouping&gt;&#39;</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c1">#load the grouping file</span>
<span class="n">ws</span><span class="o">=</span><span class="n">LoadDetectorsGroupingFile</span><span class="p">(</span><span class="s2">&quot;test.xml&quot;</span><span class="p">)</span>

<span class="c1">#check some values</span>
<span class="n">format_string</span> <span class="o">=</span> <span class="s2">&quot;Detector </span><span class="si">{}</span><span class="s2">, with ID </span><span class="si">{}</span><span class="s2">, in spectrum </span><span class="si">{}</span><span class="s2"> belongs to group </span><span class="si">{:.0f}</span><span class="s2">&quot;</span>

<span class="n">sid</span><span class="o">=</span><span class="mi">0</span>
<span class="nb">print</span><span class="p">(</span><span class="n">format_string</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ws</span><span class="o">.</span><span class="n">getDetector</span><span class="p">(</span><span class="n">sid</span><span class="p">)</span><span class="o">.</span><span class="n">getName</span><span class="p">(),</span> <span class="n">ws</span><span class="o">.</span><span class="n">getDetector</span><span class="p">(</span><span class="n">sid</span><span class="p">)</span><span class="o">.</span><span class="n">getID</span><span class="p">(),</span>
      <span class="n">sid</span><span class="p">,</span> <span class="n">ws</span><span class="o">.</span><span class="n">dataY</span><span class="p">(</span><span class="n">sid</span><span class="p">)[</span><span class="mi">0</span><span class="p">]))</span>
<span class="n">sid</span><span class="o">=</span><span class="mi">2500</span>
<span class="nb">print</span><span class="p">(</span><span class="n">format_string</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ws</span><span class="o">.</span><span class="n">getDetector</span><span class="p">(</span><span class="n">sid</span><span class="p">)</span><span class="o">.</span><span class="n">getName</span><span class="p">(),</span> <span class="n">ws</span><span class="o">.</span><span class="n">getDetector</span><span class="p">(</span><span class="n">sid</span><span class="p">)</span><span class="o">.</span><span class="n">getID</span><span class="p">(),</span>
      <span class="n">sid</span><span class="p">,</span> <span class="n">ws</span><span class="o">.</span><span class="n">dataY</span><span class="p">(</span><span class="n">sid</span><span class="p">)[</span><span class="mi">0</span><span class="p">]))</span>
<span class="n">sid</span><span class="o">=</span><span class="mi">5000</span>
<span class="nb">print</span><span class="p">(</span><span class="n">format_string</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ws</span><span class="o">.</span><span class="n">getDetector</span><span class="p">(</span><span class="n">sid</span><span class="p">)</span><span class="o">.</span><span class="n">getName</span><span class="p">(),</span> <span class="n">ws</span><span class="o">.</span><span class="n">getDetector</span><span class="p">(</span><span class="n">sid</span><span class="p">)</span><span class="o">.</span><span class="n">getID</span><span class="p">(),</span>
      <span class="n">sid</span><span class="p">,</span> <span class="n">ws</span><span class="o">.</span><span class="n">dataY</span><span class="p">(</span><span class="n">sid</span><span class="p">)[</span><span class="mi">0</span><span class="p">]))</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Detector bank21(0,0), with ID 26250, in spectrum 0 belongs to group 0
Detector bank23(49,1), with ID 29094, in spectrum 2500 belongs to group 1
Detector bank27(98,2), with ID 34438, in spectrum 5000 belongs to group 2
</pre></div>
</div>
<p><strong>Example - Loading from map file:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># create some grouping file</span>
<span class="kn">import</span> <span class="nn">mantid</span>
<span class="n">filename</span><span class="o">=</span><span class="n">mantid</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">getString</span><span class="p">(</span><span class="s2">&quot;defaultsave.directory&quot;</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;test.map&quot;</span>
<span class="n">f</span><span class="o">=</span><span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;3</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;1</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;64</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;1 - 64</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;2</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;60</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;65 - 124</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;3</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;60</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;125 - 184</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c1">#load the grouping file</span>
<span class="n">ws</span><span class="o">=</span><span class="n">LoadDetectorsGroupingFile</span><span class="p">(</span><span class="s2">&quot;test.map&quot;</span><span class="p">)</span>

<span class="c1">#check some values</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Spectrum 0 belongs to group </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ws</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">0</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Spectrum 65 belongs to group </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ws</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">65</span><span class="p">)[</span><span class="mi">0</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Spectrum 125 belongs to group </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ws</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">125</span><span class="p">)[</span><span class="mi">0</span><span class="p">]))</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Spectrum 0 belongs to group 1.0
Spectrum 65 belongs to group 2.0
Spectrum 125 belongs to group 3.0
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/AlgorithmIndex.html">AlgorithmIndex</a> | <a class="reference external" href="categories/DataHandling/Grouping.html">DataHandling\Grouping</a> | <a class="reference external" href="categories/Transforms/Grouping.html">Transforms\Grouping</a></p>
</section>
<section id="source">
<h2><a class="toc-backref" href="#id9" role="doc-backlink">Source</a><a class="headerlink" href="#source" title="Link to this heading">¶</a></h2>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/66c74f87d9b779695dc85b538bc48767c5975b19/Framework/DataHandling/inc/MantidDataHandling/LoadDetectorsGroupingFile.h">LoadDetectorsGroupingFile.h</a></p>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/66c74f87d9b779695dc85b538bc48767c5975b19/Framework/DataHandling/src/LoadDetectorsGroupingFile.cpp">LoadDetectorsGroupingFile.cpp</a></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="LoadDetectorInfo-v1.html" title="Previous Chapter: LoadDetectorInfo v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; LoadDetectorInfo v1</span>
    </a>
  </li>
  <li>
    <a href="LoadDiffCal-v1.html" title="Next Chapter: LoadDiffCal v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">LoadDiffCal v1 &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>