<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Step Scan Analysis</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-sphinx.css?v=fadd4351" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css?v=7f9a90b1" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=77160d70" />
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <script src="../../_static/documentation_options.js?v=94a1c62f"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="DrILL interface" href="../ILL/DrILL.html" />
    <link rel="prev" title="Sample Transmission Calculator" href="Sample%20Transmission%20Calculator.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.12</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://www.mantidproject.org">Home</a></li>
                <li><a href="https://download.mantidproject.org">Download</a></li>
                <li><a href="https://docs.mantidproject.org">Documentation</a></li>
                <li><a href="https://www.mantidproject.org/contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="../index.html" accesskey="U">Interfaces</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">Step Scan Analysis</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="step-scan-analysis">
<h1>Step Scan Analysis<a class="headerlink" href="#step-scan-analysis" title="Link to this heading">¶</a></h1>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#interface-overview" id="id2">Interface Overview</a></p></li>
<li><p><a class="reference internal" href="#basic-offline-usage" id="id3">Basic Offline Usage</a></p>
<ul>
<li><p><a class="reference internal" href="#region-of-interest-selection" id="id4">Region of Interest Selection</a></p></li>
<li><p><a class="reference internal" href="#analyzing-scans-from-pre-adara-data-files" id="id5">Analyzing Scans from Pre-ADARA Data Files</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#live-usage" id="id6">Live Usage</a></p></li>
</ul>
</nav>
<section id="interface-overview">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Interface Overview</a><a class="headerlink" href="#interface-overview" title="Link to this heading">¶</a></h2>
<p>The step scan analysis graphical interface is a simple tool for the analysis of
scan runs taken primarily on ADARA-enabled beamlines at the SNS.
As the name suggests, it is for the analysis of stepping scans (a.k.a. rocking curves)
rather than, e.g., continuous rotation runs and relies on the scan index markers included
in the logs to allow the splitting of a single run into the separate scan points.
It uses the <a class="reference internal" href="../../algorithms/StepScan-v1.html#algm-stepscan"><span class="std std-ref">StepScan</span></a> algorithm to perform most of the work.</p>
<figure class="align-right" id="id1">
<a class="screenshot reference internal image-reference" href="../../_images/ImageNotFound.png"><img alt="../../_images/ImageNotFound.png" class="screenshot" src="../../_images/ImageNotFound.png" style="width: 200px;" />
</a>
<figcaption>
<p><span class="caption-text">Enable screenshots using DOCS_SCREENSHOTS in CMake</span><a class="headerlink" href="#id1" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="basic-offline-usage">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Basic Offline Usage</a><a class="headerlink" href="#basic-offline-usage" title="Link to this heading">¶</a></h2>
<p>The first step is to load the run to be analysed, which can be accomplished via
either the Browse button or, if the file is in your search path, by entering the run number
(prefixed with the instrument name if not your default instrument).
The file will immediately load and enable the controls to run the analysis.
The drop-down list of variables to plot against will be populated with all of the logs which changed value during the run.
You will need to select the variable that you were scanning against, or can just plot against scan_index.
The normalization options are: none, time, the summed proton charge in the step or the counts in any monitors that have been loaded.</p>
<p>Hitting Start will run the StepScan algorithm and generate the rocking curve plot (see example screenshot below).
The plot variable and normalization can be interactively changed via the drop-down lists.
When you are done, pressing Close will close the plot and remove all workspaces apart from the table.
Choosing a different file (or the live button - see below) will do the same, but also load the new data which can be analysed by once more clicking Start.</p>
<section id="region-of-interest-selection">
<h3><a class="toc-backref" href="#id4" role="doc-backlink">Region of Interest Selection</a><a class="headerlink" href="#region-of-interest-selection" title="Link to this heading">¶</a></h3>
<p>The data included in the analysis can be refined via the controls in the Data filtering
section of the interface.
A pixel mask can be given either by selecting a previously loaded/generated masking workspace
or by clicking Define, which will launch the Instrument View window.
From there, you can draw your region of interest and save it to a workspace via
Apply and Save followed by As ROI to workspace.
The generated workspace (called MaskWorkspace) will be automatically selected for
the Pixel mask option. You can also filter by time (later, other units will be added)
by entering minimum and maximum values in the boxes provided.</p>
</section>
<section id="analyzing-scans-from-pre-adara-data-files">
<h3><a class="toc-backref" href="#id5" role="doc-backlink">Analyzing Scans from Pre-ADARA Data Files</a><a class="headerlink" href="#analyzing-scans-from-pre-adara-data-files" title="Link to this heading">¶</a></h3>
<p>Step scans where each scan point is saved to a separate file
(e.g. a simple PyDas scan where ‘save_events’ was set to true).
If multiple event nexus files are given as the data source then they will be loaded
and then combined after a sequential scan index marker has been inserted into each run.
They can then be analyzed in the normal way.</p>
</section>
</section>
<section id="live-usage">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">Live Usage</a><a class="headerlink" href="#live-usage" title="Link to this heading">¶</a></h2>
<p>If, on starting the interface, the ability to connect to the live data feed of your
default instrument is detected, then the Use <em>live stream</em> button will become enabled.
This needs to be an ADARA-enabled SNS beamline.
Selecting the button will start data collection and continuously update the
<em>Plot against</em> drop-down with any variables which change during the run
(<code class="docutils literal notranslate"><span class="pre">scan_index</span></code> will always be present).
Hitting start will generate the plot, which will then auto-update as the run progresses.
Live data collection will stop when the end of the run is detected.
<strong>Note: Start should only be clicked once the scan run has started.</strong></p>
<p><strong>Categories</strong>: <a class="reference external" href="../ILL/categories/Interfaces.html">Interfaces</a> | <a class="reference external" href="../../fitting/fitfunctions/categories/General.html">General</a></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="Sample%20Transmission%20Calculator.html" title="Previous Chapter: Sample Transmission Calculator"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Sample Transm...</span>
    </a>
  </li>
  <li>
    <a href="../ILL/DrILL.html" title="Next Chapter: DrILL interface"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">DrILL interface &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>