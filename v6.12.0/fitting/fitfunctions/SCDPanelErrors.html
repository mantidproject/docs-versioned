<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>SCDPanelErrors</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-sphinx.css?v=fadd4351" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css?v=7f9a90b1" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=77160d70" />
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <script src="../../_static/documentation_options.js?v=94a1c62f"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Smooth Transition" href="SmoothTransition.html" />
    <link rel="prev" title="Resolution" href="Resolution.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.12</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://www.mantidproject.org">Home</a></li>
                <li><a href="https://download.mantidproject.org">Download</a></li>
                <li><a href="https://docs.mantidproject.org">Documentation</a></li>
                <li><a href="https://www.mantidproject.org/contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Fit Functions</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">SCDPanelErrors</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="scdpanelerrors">
<span id="func-scdpanelerrors"></span><h1>SCDPanelErrors<a class="headerlink" href="#scdpanelerrors" title="Link to this heading">¶</a></h1>
<section id="description">
<span id="index-0"></span><h2>Description<a class="headerlink" href="#description" title="Link to this heading">¶</a></h2>
<p>This fit function is used for calibrating RectangularDetectors by
adjusting L0, time offset, panel width, panel height, panel center,
panel orientation, and allow for the sample being offset from the
instrument center.</p>
<section id="workspace">
<h3>Workspace<a class="headerlink" href="#workspace" title="Link to this heading">¶</a></h3>
<p>A Workspace2D with 1 spectra. The xvalues of the spectra are for each
peak, the peak index repeated 3 times. The y values are all zero and the
errors are all 1.0</p>
<p>This spectra may have to be copied 3 times because of requirements from
the fitting system.</p>
</section>
<section id="output">
<h3>Output<a class="headerlink" href="#output" title="Link to this heading">¶</a></h3>
<p>The argument out from function1D ,for each peak, gives the error in qx,
qy, and qz. The theoretical values for the qx, qy and qz are found as
follows:</p>
<ul class="simple">
<li><p>Calculating the best fitting UB for the given indexing and parameter
values</p></li>
<li><p>Find U</p></li>
<li><p>The theoretical UB is then U*B<sub>0</sub> where B<sub>0</sub> is formed
from the supplied lattice parameters</p></li>
<li><p>The theoretical qx,qy,and qz can be obtained by multiplying the hkl
for the peak by this matrix(/2π)</p></li>
</ul>
</section>
</section>
<section id="attributes-non-fitting-parameters">
<h2>Attributes (non-fitting parameters)<a class="headerlink" href="#attributes-non-fitting-parameters" title="Link to this heading">¶</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>a</p></td>
<td></td>
<td></td>
<td><p>The lattice parameter a in Angstroms</p></td>
</tr>
<tr class="row-odd"><td><p>b</p></td>
<td></td>
<td></td>
<td><p>The lattice parameter b in Angstroms</p></td>
</tr>
<tr class="row-even"><td><p>c</p></td>
<td></td>
<td></td>
<td><p>The lattice parameter c in Angstroms</p></td>
</tr>
<tr class="row-odd"><td><p>alpha</p></td>
<td></td>
<td></td>
<td><p>The lattice parameter alpha in degrees</p></td>
</tr>
<tr class="row-even"><td><p>beta</p></td>
<td></td>
<td></td>
<td><p>The lattice parameter beta in degrees</p></td>
</tr>
<tr class="row-odd"><td><p>gamma</p></td>
<td></td>
<td></td>
<td><p>The lattice parameter gamma in degrees</p></td>
</tr>
<tr class="row-even"><td><p>PeakWorkspaceName</p></td>
<td></td>
<td></td>
<td><p>The name of the PeaksWorkspace</p></td>
</tr>
<tr class="row-odd"><td><p>NGroups</p></td>
<td></td>
<td></td>
<td><p>The number of grouping of banks to be considered</p></td>
</tr>
<tr class="row-even"><td><p>BankNames</p></td>
<td></td>
<td></td>
<td><p>List of banknames to group.</p></td>
</tr>
<tr class="row-odd"><td><p>startX</p></td>
<td></td>
<td></td>
<td><p>-1 or starting position in the workspace to start calculating the outputs</p></td>
</tr>
<tr class="row-even"><td><p>endX</p></td>
<td></td>
<td></td>
<td><p>-1 or 1+ ending position in the workspace to start calculating the outputs</p></td>
</tr>
<tr class="row-odd"><td><p>RotateCenters</p></td>
<td><p>Boolean</p></td>
<td></td>
<td><p>If false Rotations are only about the center of the banks.</p></td>
</tr>
<tr class="row-even"><td><p>SampleOffsets</p></td>
<td><p>Boolean</p></td>
<td></td>
<td><p>A sample being off from the center of the goniometer can result in larger errors.</p></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><p>PeakWorkspaceName - This peak must be indexed by a UB matrix
whose lattice parametersare CLOSE to the above lattice parameters</p></li>
<li><p>BankNames - Names separated by “/” or a “!” if the next
bank is in a different group. Bank names from the same group
belong together(“Requirement” for use with the Fit algorithm)</p></li>
</ul>
</section>
<section id="properties-fitting-parameters">
<h2>Properties (fitting parameters)<a class="headerlink" href="#properties-fitting-parameters" title="Link to this heading">¶</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>XShift</p></td>
<td><p>0.0</p></td>
<td><p>Shift factor in X</p></td>
</tr>
<tr class="row-odd"><td><p>YShift</p></td>
<td><p>0.0</p></td>
<td><p>Shift factor in Y</p></td>
</tr>
<tr class="row-even"><td><p>ZShift</p></td>
<td><p>0.0</p></td>
<td><p>Shift factor in Z</p></td>
</tr>
<tr class="row-odd"><td><p>XRotate</p></td>
<td><p>0.0</p></td>
<td><p>Rotate angle in X</p></td>
</tr>
<tr class="row-even"><td><p>YRotate</p></td>
<td><p>0.0</p></td>
<td><p>Rotate angle in Y</p></td>
</tr>
<tr class="row-odd"><td><p>ZRotate</p></td>
<td><p>0.0</p></td>
<td><p>Rotate angle in Z</p></td>
</tr>
<tr class="row-even"><td><p>ScaleWidth</p></td>
<td><p>1.0</p></td>
<td><p>Scale width of detector</p></td>
</tr>
<tr class="row-odd"><td><p>ScaleHeight</p></td>
<td><p>1.0</p></td>
<td><p>Scale height of detector</p></td>
</tr>
<tr class="row-even"><td><p>T0Shift</p></td>
<td><p>0.0</p></td>
<td><p>Shift for TOF</p></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><p>l0- the initial Flight path in units from Peak.getL1</p></li>
<li><p>t0-Time offset in the same units returned with Peak.getTOF)</p></li>
<li><p>SampleX-Sample x offset in the same units returned with
Peak.getDetPos().norm()</p></li>
<li><p>SampleY-Sample y offset in the same units returned with
Peak.getDetPos().norm()</p></li>
<li><p>SampleZ-Sample z offset in the same units returned with
Peak.getDetPos().norm()</p></li>
<li><p>f*_detWidthScale-panel Width for Group* in the same units returned
with Peak.getDetPos().norm()</p></li>
<li><p>f*_detHeightScale-panel Height for Group* in the same units
returned with Peak.getDetPos().norm()</p></li>
<li><p>f*_Xoffset-Panel Center x offsets for Group* banks in the same
units returned with Peak.getDetPos().norm()</p></li>
<li><p>f*_Yoffset-Panel Center y offsets for Group* banks in the same
units returned with Peak.getDetPos().norm()</p></li>
<li><p>f*_Zoffset-Panel Center z offsets for Group* banks in the same
units returned with Peak.getDetPos().norm()</p></li>
<li><p>f*_Xrot-Rotations(degrees) for Group* banks around “Center” in x
axis direction</p></li>
<li><p>f*_Yrot-Rotations(degrees) for Group* banks around “Center” in y
axis direction</p></li>
<li><p>f*_Zrot-Rotations(degrees) for Group* banks around “Center” in z
axis direction</p></li>
<li><p>SampleX -sample X offset in meters(Really Goniometer X offset)</p></li>
<li><p>SampleY- sample Y offset in meters</p></li>
<li><p>SampleZ- sample Z offset in meters</p></li>
</ul>
<p>The order of rotations correspond to the order used in all of Mantid.</p>
<p><strong>Categories</strong>: <a class="reference external" href="categories/FitFunctions.html">FitFunctions</a> | <a class="reference external" href="categories/General.html">General</a></p>
</section>
<section id="source">
<h2>Source<a class="headerlink" href="#source" title="Link to this heading">¶</a></h2>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/a8f64cccc781eac9892433e956bab7104ebf1213/Framework/Crystal/inc/MantidCrystal/SCDPanelErrors.h">SCDPanelErrors.h</a></p>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/a8f64cccc781eac9892433e956bab7104ebf1213/Framework/Crystal/src/SCDPanelErrors.cpp">SCDPanelErrors.cpp</a></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="Resolution.html" title="Previous Chapter: Resolution"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Resolution</span>
    </a>
  </li>
  <li>
    <a href="SmoothTransition.html" title="Next Chapter: Smooth Transition"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Smooth Transition &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>