<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>SANSBeamSpreaderTransmission v1</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css?v=fadd4351" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css?v=7f9a90b1" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=77160d70" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script src="../_static/documentation_options.js?v=94a1c62f"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="SANSConvertToWavelengthAndRebin v1" href="SANSConvertToWavelengthAndRebin-v1.html" />
    <link rel="prev" title="SANSBeamFluxCorrection v1" href="SANSBeamFluxCorrection-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.12</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://www.mantidproject.org">Home</a></li>
                <li><a href="https://download.mantidproject.org">Download</a></li>
                <li><a href="https://docs.mantidproject.org">Documentation</a></li>
                <li><a href="https://www.mantidproject.org/contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Algorithms</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">SANSBeamSpreaderTransmission v1</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="sansbeamspreadertransmission-v1">
<span id="algm-sansbeamspreadertransmission"></span><span id="algm-sansbeamspreadertransmission-v1"></span><h1>SANSBeamSpreaderTransmission v1<a class="headerlink" href="#sansbeamspreadertransmission-v1" title="Link to this heading">¶</a></h1>
<nav class="contents local" id="table-of-contents">
<span id="index-0"></span><p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#summary" id="id1">Summary</a></p></li>
<li><p><a class="reference internal" href="#properties" id="id2">Properties</a></p></li>
<li><p><a class="reference internal" href="#description" id="id3">Description</a></p></li>
<li><p><a class="reference internal" href="#source" id="id4">Source</a></p></li>
</ul>
</nav>
<section id="summary">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">Summary</a><a class="headerlink" href="#summary" title="Link to this heading">¶</a></h2>
<p>Compute transmission using the beam spreader method</p>
</section>
<section id="properties">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Properties</a><a class="headerlink" href="#properties" title="Link to this heading">¶</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Direction</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>InputWorkspace</p></td>
<td><p>Input</p></td>
<td><p><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a></p></td>
<td><p><em>Mandatory</em></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>SampleSpreaderFilename</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>Allowed values: [‘xml’, ‘nxs’, ‘nxs.h5’]</p></td>
</tr>
<tr class="row-even"><td><p>DirectSpreaderFilename</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>Allowed values: [‘xml’, ‘nxs’, ‘nxs.h5’]</p></td>
</tr>
<tr class="row-odd"><td><p>SampleScatteringFilename</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>Allowed values: [‘xml’, ‘nxs’, ‘nxs.h5’]</p></td>
</tr>
<tr class="row-even"><td><p>DirectScatteringFilename</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>Allowed values: [‘xml’, ‘nxs’, ‘nxs.h5’]</p></td>
</tr>
<tr class="row-odd"><td><p>SpreaderTransmissionValue</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>1</p></td>
<td><p>Transmission of the beam spreader</p></td>
</tr>
<tr class="row-even"><td><p>SpreaderTransmissionError</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>0</p></td>
<td><p>Error on the transmission of the beam spreader</p></td>
</tr>
<tr class="row-odd"><td><p>ThetaDependent</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>True</p></td>
<td><p>If true, a theta-dependent correction will be applied</p></td>
</tr>
<tr class="row-even"><td><p>DarkCurrentFilename</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>Allowed values: [‘xml’, ‘nxs’, ‘nxs.h5’]</p></td>
</tr>
<tr class="row-odd"><td><p>UseSampleDarkCurrent</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>False</p></td>
<td><p>If true, the sample dark current will be used</p></td>
</tr>
<tr class="row-even"><td><p>ReductionProperties</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>__sans_reduction_properties</p></td>
<td><p>Property manager name for the reduction</p></td>
</tr>
<tr class="row-odd"><td><p>OutputWorkspace</p></td>
<td><p>Output</p></td>
<td><p><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a></p></td>
<td><p><em>Mandatory</em></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>MeasuredTransmission</p></td>
<td><p>Output</p></td>
<td><p>number</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>MeasuredError</p></td>
<td><p>Output</p></td>
<td><p>number</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>OutputMessage</p></td>
<td><p>Output</p></td>
<td><p>string</p></td>
<td></td>
<td><p>Output message</p></td>
</tr>
</tbody>
</table>
</section>
<section id="description">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Description</a><a class="headerlink" href="#description" title="Link to this heading">¶</a></h2>
<p>Worfklow algorithm used to compute and apply the sample transmission correction using
the beam spreader (“glassy carbon”) method. The transmission is calculated by the
<a class="reference internal" href="CalculateTransmission-v1.html#algm-calculatetransmission"><span class="std std-ref">CalculateTransmission</span></a> as follows:</p>
<p><span class="math notranslate nohighlight">\(T=\frac{N_{gc,\ sample}/T_{gc,\ sample} - T_{gc}N_{sample}/T_{sample}}{N_{gc,\ empty}/T_{gc,\ empty} - T_{gc}N_{empty}/T_{empty}}\)</span></p>
<p>where <span class="math notranslate nohighlight">\(N_{gc}\)</span>, sample and <span class="math notranslate nohighlight">\(N_{gc}\)</span>, empty are the sums of all pixel counts
for the sample and direct beam data sets with glass carbon, and
<span class="math notranslate nohighlight">\(N_{sample}\)</span> and <span class="math notranslate nohighlight">\(N_{empty}\)</span> are the sums
of all the pixel counts for the sample and direct beam without glassy carbon.
The T values are the corresponding counting times. If the user chose to normalize the
data using the beam monitor when setting up the reduction process, the beam monitor
will be used to normalize all data sets instead of the timer.
If the user chose to use a dark current data set when starting the reduction process,
that dark current data will be subtracted from all data sets before the transmission
is calculated.</p>
<p>For each detector pixel, the transmission correction is applied by the
<a class="reference internal" href="ApplyTransmissionCorrection-v1.html#algm-applytransmissioncorrection"><span class="std std-ref">ApplyTransmissionCorrection</span></a> as follows:</p>
<p><span class="math notranslate nohighlight">\(I'(x,y)=\frac{I(x,y)}{T^{[1+\sec(2\theta)]/2}}
\sigma_{I'(x,y)}=[[{\frac{\sigma_I}{{T^{[1+\sec(2\theta)]/2}}}}]^2 + [{\frac{I(x,y)\sigma_T(\frac{1+\sec(2\theta)}{2})}{{T^{[\sec(2\theta)-1]/2}}}}]^2]^{1/2}\)</span></p>
<p>This algorithm is rarely called directly. It is called by
<a class="reference internal" href="HFIRSANSReduction-v1.html#algm-hfirsansreduction"><span class="std std-ref">HFIRSANSReduction</span></a>.</p>
<p><strong>Categories</strong>: <a class="reference external" href="categories/AlgorithmIndex.html">AlgorithmIndex</a> | <a class="reference external" href="categories/Workflow/SANS/UsesPropertyManager.html">Workflow\SANS\UsesPropertyManager</a></p>
</section>
<section id="source">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Source</a><a class="headerlink" href="#source" title="Link to this heading">¶</a></h2>
<p>Python: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/a8f64cccc781eac9892433e956bab7104ebf1213/Framework/PythonInterface/plugins/algorithms/WorkflowAlgorithms/SANSBeamSpreaderTransmission.py">SANSBeamSpreaderTransmission.py</a></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="SANSBeamFluxCorrection-v1.html" title="Previous Chapter: SANSBeamFluxCorrection v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; SANSBeamFluxC...</span>
    </a>
  </li>
  <li>
    <a href="SANSConvertToWavelengthAndRebin-v1.html" title="Next Chapter: SANSConvertToWavelengthAndRebin v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">SANSConvertTo... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>