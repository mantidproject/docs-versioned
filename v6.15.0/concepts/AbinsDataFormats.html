<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Abins Data Formats</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css?v=4468db6d" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css?v=7f9a90b1" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=9aca6aaf" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script src="../_static/documentation_options.js?v=2d21b807"></script>
    <script src="../_static/doctools.js?v=fd6eb6e6"></script>
    <script src="../_static/sphinx_highlight.js?v=6ffebe34"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Abins: Implementation details" href="AbinsImplementation.html" />
    <link rel="prev" title="Concepts" href="index.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





<nav id="navbar" class="navbar navbar-default navbar-fixed-top">
  <div id="navbar-main" class="container">
    <ul class="nav navbar-nav">
      
      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <li>
        <a class="navbar-brand" href="http://www.mantidproject.org">
         </a>
      </li>
      <span class="navbar-text navbar-version pull-left"><b>6.15</b></span>
    </ul>

    
    <div class="collapse navbar-collapse nav-collapse">
    
      <ul class="nav navbar-nav">
        <li class="divider-vertical"></li>
        
          <li>
            <a href="https://www.mantidproject.org">Home</a>
          </li>
          <li>
            <a href="https://download.mantidproject.org">Download</a>
          </li>
          <li>
            <a href="https://docs.mantidproject.org">Documentation</a>
          </li>
          <li>
            <a href="https://www.mantidproject.org/contact">Contact Us</a>
          </li>
        
        
          
          
        
        
        
        
      </ul>
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          </div>
  </div> <!-- /navbar-main -->
<div id="navbar-breadcrumbs" class="related" role="navigation" aria-label="related navigation">
  <h3>Navigation</h3>
  <ul>
    <li class="nav-item nav-item-0">
      <a href="../index.html">Documentation</a>
         &#187;
    </li>
    
    <li class="nav-item nav-item-1">
      <a href="index.html" accesskey="U">
        Concepts
      </a>
       &#187;
    </li>
    
    
    
    
    <li class="nav-item nav-item-this">
      <a href="">Abins Data Formats</a>
    </li>
    
    
  </ul>
</div>
</nav>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <section id="abins-data-formats">
<span id="abinsdataformats"></span><h1>Abins Data Formats<a class="headerlink" href="#abins-data-formats" title="Link to this heading">¶</a></h1>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#castep" id="id1">CASTEP</a></p>
<ul>
<li><p><a class="reference internal" href="#writing-force-constants" id="id2">Writing force constants</a></p></li>
<li><p><a class="reference internal" href="#isotopes" id="id3">Isotopes</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#phonopy" id="id4">Phonopy</a></p></li>
<li><p><a class="reference internal" href="#vasp" id="id5">VASP</a></p></li>
</ul>
</nav>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Code</p></th>
<th class="head"><p>Data type</p></th>
<th class="head"><p>File extension</p></th>
<th class="head"><p>AbInitioProgram</p></th>
<th class="head"><p>Frozen atoms</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>CASTEP</p></td>
<td><p>.phonon</p></td>
<td><p>modes</p></td>
<td><p>CASTEP</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>CASTEP</p></td>
<td><p>force constants</p></td>
<td><p>.castep_bin</p></td>
<td><p>FORCECONSTANTS</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>CRYSTAL</p></td>
<td><p>modes</p></td>
<td><p>.out</p></td>
<td><p>CRYSTAL</p></td>
<td><p>N</p></td>
</tr>
<tr class="row-odd"><td><p>DMOL3</p></td>
<td><p>modes</p></td>
<td><p>.outmol</p></td>
<td><p>DMOL3</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>Euphonic</p></td>
<td><p>modes</p></td>
<td><p>.json</p></td>
<td><p>JSON</p></td>
<td><p>N</p></td>
</tr>
<tr class="row-odd"><td><p>Euphonic</p></td>
<td><p>force constants</p></td>
<td><p>.json</p></td>
<td><p>JSON</p></td>
<td><p>N</p></td>
</tr>
<tr class="row-even"><td><p>Gaussian</p></td>
<td><p>modes</p></td>
<td><p>.log</p></td>
<td><p>GAUSSIAN</p></td>
<td><p>Y</p></td>
</tr>
<tr class="row-odd"><td><p>Phonopy</p></td>
<td><p>force constants</p></td>
<td><p>.yaml</p></td>
<td><p>FORCECONSTANTS</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>VASP</p></td>
<td><p>modes</p></td>
<td><p>.xml</p></td>
<td><p>VASP</p></td>
<td><p>Y</p></td>
</tr>
</tbody>
</table>
<section id="castep">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">CASTEP</a><a class="headerlink" href="#castep" title="Link to this heading">¶</a></h2>
<section id="writing-force-constants">
<h3><a class="toc-backref" href="#id2" role="doc-backlink">Writing force constants</a><a class="headerlink" href="#writing-force-constants" title="Link to this heading">¶</a></h3>
<p>To include force constants in a <em>.castep_bin</em> file,
set <code class="docutils literal notranslate"><span class="pre">phonon_write_force_constants</span> <span class="pre">=</span> <span class="pre">True</span></code>, <code class="docutils literal notranslate"><span class="pre">phonon_fine_method</span> <span class="pre">=</span> <span class="pre">interpolate</span></code>
and ensure the <code class="docutils literal notranslate"><span class="pre">phonon_mp_grid</span></code> includes the Gamma point (0, 0, 0).
This can be achieved by carefully setting <code class="docutils literal notranslate"><span class="pre">phonon_kpoint_mp_offset</span></code> to suitable divisions or,
in recent CASTEP versions, setting it to <code class="docutils literal notranslate"><span class="pre">INCLUDE_GAMMA</span></code>.</p>
<p>Further information is available in the <a class="reference external" href="https://castep-docs.github.io/castep-docs/documentation/Phonons/Castep_Phonons/Running-phonon-calculations/#sec:interpolation-setup">castep docs</a>.</p>
</section>
<section id="isotopes">
<h3><a class="toc-backref" href="#id3" role="doc-backlink">Isotopes</a><a class="headerlink" href="#isotopes" title="Link to this heading">¶</a></h3>
<p>CASTEP allows arbitrary labels to be assigned to species with corresponding masses and pseudopotentials.
In order to match customised species to on-the-fly-generated pseudopotentials, it is recommended to use the <code class="docutils literal notranslate"><span class="pre">EL:tag</span></code> syntax, where e.g. deuterium would be specified as <code class="docutils literal notranslate"><span class="pre">H:D</span></code> or <code class="docutils literal notranslate"><span class="pre">H:2</span></code> and a corresponding species put in the SPECIES_MASS block.
Abins expects this syntax and uses it to identify appropriate neutron cross-section data.</p>
<p>Some examples are given in the <a class="reference external" href="https://castep-docs.github.io/castep-docs/documentation/Phonons/Castep_Phonons/Advanced-Topics/#sec:isotopes">castep docs</a>.</p>
</section>
</section>
<section id="phonopy">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Phonopy</a><a class="headerlink" href="#phonopy" title="Link to this heading">¶</a></h2>
<p>Abins expects to read force constants from a <em>phonopy.yaml</em> file generated with <code class="docutils literal notranslate"><span class="pre">INCLUDE_ALL</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>.
It is also permitted to use a phonopy YAML file which does not contain the force constants, if the force constants are stored in a <em>FORCE_CONSTANTS</em> or <em>force_constants.hdf5</em> file in the same directory.
We recommend using the <em>force_constants.hdf5</em> file where practical as the read/write performance is significantly better.
(With the power and flexibility of <em>.yaml</em> comes a lot of computational overhead to read simple arrays!)</p>
<p>Machine-learned interatomic potential calculations with <a class="reference external" href="https://stfc.github.io/janus-core/">janus-core</a> can use Phonopy to produce phonon outputs with filenames <em>PREFIX-phonopy.yml</em> and <em>PREFIX-force_constants.hdf5</em>.
This filename convention can be used with Abins: again, the force constants file should be in the same directory as the YAML file.</p>
</section>
<section id="vasp">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">VASP</a><a class="headerlink" href="#vasp" title="Link to this heading">¶</a></h2>
<p>Abins can read the frequencies and displacements from Gamma-point vibration calculations performed with the <code class="docutils literal notranslate"><span class="pre">IBRION=5,6,7,8</span></code> tags.
We do not (currently) support the Fourier-interpolated supercell calculations added in VASP 6.4.0 (i.e. using QPOINTS file and PHON_DOS).
We recommend that VASP users use Phonopy for such work, which makes it easier for large calculations to be “task farmed”.</p>
<p>From VASP XML inputs, it is permitted to use “selective dynamics” in which some atoms are frozen.
In this case, data is only available for the moving atoms and contributions from the other atoms are omitted from the calculated spectrum.
This may be a suitable model for systems where the frozen atoms form a rigid substrate (e.g. a noble metal surface) for an adsorbed molecule of lightweight atoms.
It is not recommended where there is significant vibrational coupling between frozen and moving atoms, or where substrate modes would occupy a similar frequency range to the adsorbate.</p>
<p><strong>Category</strong>: <a class="reference external" href="../api/python/mantid/api/categories/Concepts.html">Concepts</a></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul id="footer-nav" class="nav navbar-nav">
      
      
          
            
  <li>
    <a href="index.html" title="Previous Chapter: Concepts"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Concepts</span>
    </a>
  </li>
  <li>
    <a href="AbinsImplementation.html" title="Next Chapter: Abins: Implementation details"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Abins: Implem... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>