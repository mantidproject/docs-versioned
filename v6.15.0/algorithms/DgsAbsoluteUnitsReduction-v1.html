<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>DgsAbsoluteUnitsReduction v1</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css?v=4468db6d" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css?v=7f9a90b1" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=9aca6aaf" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script src="../_static/documentation_options.js?v=2d21b807"></script>
    <script src="../_static/doctools.js?v=fd6eb6e6"></script>
    <script src="../_static/sphinx_highlight.js?v=6ffebe34"></script>
    <script>window.MathJax = {"tex": {"macros": {"AA": "\\unicode{x212B}"}}, "startup": {"polyfillHasOwn": true}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@4/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="DgsConvertToEnergyTransfer v1" href="DgsConvertToEnergyTransfer-v1.html" />
    <link rel="prev" title="DetermineSpinStateOrder v1" href="DetermineSpinStateOrder-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





<nav id="navbar" class="navbar navbar-default navbar-fixed-top">
  <div id="navbar-main" class="container">
    <ul class="nav navbar-nav">
      
      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <li>
        <a class="navbar-brand" href="http://www.mantidproject.org">
         </a>
      </li>
      <span class="navbar-text navbar-version pull-left"><b>6.15</b></span>
    </ul>

    
    <div class="collapse navbar-collapse nav-collapse">
    
      <ul class="nav navbar-nav">
        <li class="divider-vertical"></li>
        
          <li>
            <a href="https://www.mantidproject.org">Home</a>
          </li>
          <li>
            <a href="https://download.mantidproject.org">Download</a>
          </li>
          <li>
            <a href="https://docs.mantidproject.org">Documentation</a>
          </li>
          <li>
            <a href="https://www.mantidproject.org/contact">Contact Us</a>
          </li>
        
        
          
          
        
        
        
        
      </ul>
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          </div>
  </div> <!-- /navbar-main -->
<div id="navbar-breadcrumbs" class="related" role="navigation" aria-label="related navigation">
  <h3>Navigation</h3>
  <ul>
    <li class="nav-item nav-item-0">
      <a href="../index.html">Documentation</a>
         &#187;
    </li>
    
    <li class="nav-item nav-item-1">
      <a href="index.html" accesskey="U">
        Algorithms
      </a>
       &#187;
    </li>
    
    
    
    
    <li class="nav-item nav-item-this">
      <a href="">DgsAbsoluteUnitsReduction v1</a>
    </li>
    
    
  </ul>
</div>
</nav>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <section id="dgsabsoluteunitsreduction-v1">
<span id="algm-dgsabsoluteunitsreduction"></span><span id="algm-dgsabsoluteunitsreduction-v1"></span><h1>DgsAbsoluteUnitsReduction v1<a class="headerlink" href="#dgsabsoluteunitsreduction-v1" title="Link to this heading">¶</a></h1>
<nav class="contents local" id="table-of-contents">
<span id="index-0"></span><p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#summary" id="id2">Summary</a></p></li>
<li><p><a class="reference internal" href="#properties" id="id3">Properties</a></p></li>
<li><p><a class="reference internal" href="#description" id="id4">Description</a></p>
<ul>
<li><p><a class="reference internal" href="#workflow" id="id5">Workflow</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#usage" id="id6">Usage</a></p></li>
<li><p><a class="reference internal" href="#source" id="id7">Source</a></p></li>
</ul>
</nav>
<section id="summary">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Summary</a><a class="headerlink" href="#summary" title="Link to this heading">¶</a></h2>
<p>Process the absolute units sample.</p>
</section>
<section id="properties">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Properties</a><a class="headerlink" href="#properties" title="Link to this heading">¶</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Direction</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>InputWorkspace</p></td>
<td><p>Input</p></td>
<td><p><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a></p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>The absolute units sample workspace.</p></td>
</tr>
<tr class="row-odd"><td><p>InputMonitorWorkspace</p></td>
<td><p>Input</p></td>
<td><p><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a></p></td>
<td></td>
<td><p>A monitor workspace associated with the absolute units sample workspace</p></td>
</tr>
<tr class="row-even"><td><p>DetectorVanadiumWorkspace</p></td>
<td><p>Input</p></td>
<td><p><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a></p></td>
<td></td>
<td><p>An absolute units detector vanadium workspace.</p></td>
</tr>
<tr class="row-odd"><td><p>DetectorVanadiumMonitorWorkspace</p></td>
<td><p>Input</p></td>
<td><p><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a></p></td>
<td></td>
<td><p>A monitor workspace associated with the absolute units detector vanadium workspace.</p></td>
</tr>
<tr class="row-even"><td><p>MaskWorkspace</p></td>
<td><p>Input</p></td>
<td><p><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a></p></td>
<td></td>
<td><p>A masking workspace to apply to the data.</p></td>
</tr>
<tr class="row-odd"><td><p>GroupingWorkspace</p></td>
<td><p>Input</p></td>
<td><p><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a></p></td>
<td></td>
<td><p>A grouping workspace for the absolute units data.</p></td>
</tr>
<tr class="row-even"><td><p>ReductionProperties</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>__dgs_reduction_properties</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>OutputWorkspace</p></td>
<td><p>Output</p></td>
<td><p><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a></p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>The integrated absolute units workspace.</p></td>
</tr>
<tr class="row-even"><td><p>OutputMaskWorkspace</p></td>
<td><p>Output</p></td>
<td><p><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a></p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>The diagnostic mask from the absolute units workspace</p></td>
</tr>
</tbody>
</table>
</section>
<section id="description">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Description</a><a class="headerlink" href="#description" title="Link to this heading">¶</a></h2>
<p>This algorithm is responsible for taking an absolute units sample and
converting it to an integrated value (one value for entire workspace)
for that sample. A corresponding detector vanadium can be used in
conjunction with the data reduction. The diagram below shows the
workflow. The AbsUnitsIncidentEnergy parameter needs to be passed via a
property manager since the absolute units sample may have been measured
at an energy different from the sample of interest. Parameters in
italics are controlled by the
<a class="reference internal" href="../concepts/InstrumentParameterFile.html#instrumentparameterfile"><span class="std std-ref">instrument parameter file (IPF)</span></a>
unless provided to the algorithm via a property manager. The mappings are given
below.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>IPF Mapping</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>VanadiumMass</p></td>
<td><p>vanadium-mass</p></td>
</tr>
<tr class="row-odd"><td><p>AbsUnitsMinimumEnergy</p></td>
<td><p>monovan-integr-min</p></td>
</tr>
<tr class="row-even"><td><p>AbsUnitsMaximumEnergy</p></td>
<td><p>monovan-integr-max</p></td>
</tr>
</tbody>
</table>
<p>The last two parameters are used to create a single bin for the <a class="reference internal" href="Rebin-v1.html#algm-rebin"><span class="std std-ref">Rebin</span></a>
algorithm. The dashed oval parameter, VanadiumRmm, is taken from the
atomic information for the molecular mass of Vanadium. The open circle
represents detector diagnostic parameters and they are detailed in the
table below.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>IPF Mapping</p></th>
<th class="head"><p><a class="reference internal" href="DetectorDiagnostic-v1.html#algm-detectordiagnostic"><span class="std std-ref">DetectorDiagnostic</span></a> Mapping</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>HighCounts</p></td>
<td><p>diag_huge</p></td>
<td><p>HighThreshold</p></td>
</tr>
<tr class="row-odd"><td><p>LowCounts</p></td>
<td><p>diag_tiny</p></td>
<td><p>LowThreshold</p></td>
</tr>
<tr class="row-even"><td><p>AbsUnitsLowOutlier</p></td>
<td><p>monovan_lo_bound</p></td>
<td><p>LowOutlier</p></td>
</tr>
<tr class="row-odd"><td><p>AbsUnitsHighOutlier</p></td>
<td><p>monovan_hi_bound</p></td>
<td><p>HighOutlier</p></td>
</tr>
<tr class="row-even"><td><p>AbsUnitsMedianTestLow</p></td>
<td><p>monovan_lo_frac</p></td>
<td><p>LowThresholdFraction</p></td>
</tr>
<tr class="row-odd"><td><p>AbsUnitsMedianTestHigh</p></td>
<td><p>monovan_hi_frac</p></td>
<td><p>HighThresholdFraction</p></td>
</tr>
<tr class="row-even"><td><p>AbsUnitsErrorBarCriterion</p></td>
<td><p>diag_samp_sig</p></td>
<td><p>SignificanceTest</p></td>
</tr>
</tbody>
</table>
<p>If a detector vanadium is used, the processed sample workspace is
multiplied by a factor containing the sample mass (SampleMass), sample
molecular mass (SampleRmm) and the cross-section (Scattering XSec) given
by:
<span class="math notranslate nohighlight">\(\frac{(\sigma^{V}_{incoherent}+\sigma^{V}_{coherent})\times10^{3}}{4\pi}\)</span>
with the cross-section units of <span class="math notranslate nohighlight">\(millibarns/steradian\)</span>.</p>
<section id="workflow">
<h3><a class="toc-backref" href="#id5" role="doc-backlink">Workflow</a><a class="headerlink" href="#workflow" title="Link to this heading">¶</a></h3>
<figure class="align-default" id="id1">
<img alt="../_images/ImageNotFound.png" src="../_images/ImageNotFound.png" />
<figcaption>
<p><span class="caption-text">diagram generation was disabled</span><a class="headerlink" href="#id1" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
</section>
<section id="usage">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">Usage</a><a class="headerlink" href="#usage" title="Link to this heading">¶</a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This algorithm is not really intended for use at the command line, but is used
within <a class="reference internal" href="DgsReduction-v1.html#algm-dgsreduction"><span class="std std-ref">DgsReduction</span></a>.</p>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/AlgorithmIndex.html">AlgorithmIndex</a> | <a class="reference external" href="categories/Workflow/Inelastic/UsesPropertyManager.html">Workflow\Inelastic\UsesPropertyManager</a></p>
</section>
<section id="source">
<h2><a class="toc-backref" href="#id7" role="doc-backlink">Source</a><a class="headerlink" href="#source" title="Link to this heading">¶</a></h2>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/6762777a1cda710ac427c4efdb2a7fa75b50dc69/Framework/WorkflowAlgorithms/inc/MantidWorkflowAlgorithms/DgsAbsoluteUnitsReduction.h">DgsAbsoluteUnitsReduction.h</a></p>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/6762777a1cda710ac427c4efdb2a7fa75b50dc69/Framework/WorkflowAlgorithms/src/DgsAbsoluteUnitsReduction.cpp">DgsAbsoluteUnitsReduction.cpp</a></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul id="footer-nav" class="nav navbar-nav">
      
      
          
            
  <li>
    <a href="DetermineSpinStateOrder-v1.html" title="Previous Chapter: DetermineSpinStateOrder v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; DetermineSpin...</span>
    </a>
  </li>
  <li>
    <a href="DgsConvertToEnergyTransfer-v1.html" title="Next Chapter: DgsConvertToEnergyTransfer v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">DgsConvertToE... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>