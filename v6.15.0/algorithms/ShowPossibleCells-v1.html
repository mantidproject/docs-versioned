<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>ShowPossibleCells v1</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css?v=4468db6d" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css?v=7f9a90b1" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=9aca6aaf" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script src="../_static/documentation_options.js?v=1afa37e1"></script>
    <script src="../_static/doctools.js?v=fd6eb6e6"></script>
    <script src="../_static/sphinx_highlight.js?v=6ffebe34"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="SignalOverError v1" href="SignalOverError-v1.html" />
    <link rel="prev" title="ShowPeakHKLOffsets v1" href="ShowPeakHKLOffsets-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





<nav id="navbar" class="navbar navbar-default navbar-fixed-top">
  <div id="navbar-main" class="container">
    <ul class="nav navbar-nav">
      
      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <li>
        <a class="navbar-brand" href="http://www.mantidproject.org">
         </a>
      </li>
      <span class="navbar-text navbar-version pull-left"><b>6.15</b></span>
    </ul>

    
    <div class="collapse navbar-collapse nav-collapse">
    
      <ul class="nav navbar-nav">
        <li class="divider-vertical"></li>
        
          <li>
            <a href="https://www.mantidproject.org">Home</a>
          </li>
          <li>
            <a href="https://download.mantidproject.org">Download</a>
          </li>
          <li>
            <a href="https://docs.mantidproject.org">Documentation</a>
          </li>
          <li>
            <a href="https://www.mantidproject.org/contact">Contact Us</a>
          </li>
        
        
          
          
        
        
        
        
      </ul>
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          </div>
  </div> <!-- /navbar-main -->
<div id="navbar-breadcrumbs" class="related" role="navigation" aria-label="related navigation">
  <h3>Navigation</h3>
  <ul>
    <li class="nav-item nav-item-0">
      <a href="../index.html">Documentation</a>
         &#187;
    </li>
    
    <li class="nav-item nav-item-1">
      <a href="index.html" accesskey="U">
        Algorithms
      </a>
       &#187;
    </li>
    
    
    
    
    <li class="nav-item nav-item-this">
      <a href="">ShowPossibleCells v1</a>
    </li>
    
    
  </ul>
</div>
</nav>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <section id="showpossiblecells-v1">
<span id="algm-showpossiblecells"></span><span id="algm-showpossiblecells-v1"></span><h1>ShowPossibleCells v1<a class="headerlink" href="#showpossiblecells-v1" title="Link to this heading">¶</a></h1>
<nav class="contents local" id="table-of-contents">
<span id="index-0"></span><p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#summary" id="id1">Summary</a></p>
<ul>
<li><p><a class="reference internal" href="#see-also" id="id2">See Also</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#properties" id="id3">Properties</a></p></li>
<li><p><a class="reference internal" href="#description" id="id4">Description</a></p></li>
<li><p><a class="reference internal" href="#usage" id="id5">Usage</a></p></li>
<li><p><a class="reference internal" href="#source" id="id6">Source</a></p></li>
</ul>
</nav>
<section id="summary">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">Summary</a><a class="headerlink" href="#summary" title="Link to this heading">¶</a></h2>
<p>Show conventional cells corresponding to the UB stored with the sample for this peaks works space.</p>
<section id="see-also">
<h3><a class="toc-backref" href="#id2" role="doc-backlink">See Also</a><a class="headerlink" href="#see-also" title="Link to this heading">¶</a></h3>
<p><a class="reference internal" href="FindUBUsingFFT-v1.html#algm-findubusingfft"><span class="std std-ref">FindUBUsingFFT</span></a>, <a class="reference internal" href="FindUBUsingIndexedPeaks-v1.html#algm-findubusingindexedpeaks"><span class="std std-ref">FindUBUsingIndexedPeaks</span></a>, <a class="reference internal" href="FindUBUsingLatticeParameters-v1.html#algm-findubusinglatticeparameters"><span class="std std-ref">FindUBUsingLatticeParameters</span></a></p>
</section>
</section>
<section id="properties">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Properties</a><a class="headerlink" href="#properties" title="Link to this heading">¶</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Direction</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>PeaksWorkspace</p></td>
<td><p>InOut</p></td>
<td><p>IPeaksWorkspace</p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>Input Peaks Workspace</p></td>
</tr>
<tr class="row-odd"><td><p>MaxScalarError</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>0.2</p></td>
<td><p>Max Scalar Error (0.2)</p></td>
</tr>
<tr class="row-even"><td><p>BestOnly</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>True</p></td>
<td><p>Show at most one for each Bravais Lattice</p></td>
</tr>
<tr class="row-odd"><td><p>NumberOfCells</p></td>
<td><p>Output</p></td>
<td><p>number</p></td>
<td></td>
<td><p>Gets set with the number of possible cells.</p></td>
</tr>
<tr class="row-even"><td><p>AllowPermutations</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>True</p></td>
<td><p>Allow permutations of conventional cells</p></td>
</tr>
<tr class="row-odd"><td><p>Cells</p></td>
<td><p>Output</p></td>
<td><p>str list</p></td>
<td></td>
<td><p>A list of the different cells</p></td>
</tr>
</tbody>
</table>
</section>
<section id="description">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Description</a><a class="headerlink" href="#description" title="Link to this heading">¶</a></h2>
<p>Given a PeaksWorkspace with a <a class="reference internal" href="../concepts/Lattice.html#lattice"><span class="std std-ref">UB matrix</span></a> corresponding
to a Niggli reduced cell, this algorithm will display a list of possible
conventional cells. The max scalar error property sets a limit on the
maximum allowed error in the cell scalars, to restrict the list to
possible cells that are a good match for the current reduced cell. The
list can also be forced to contain only the best fitting conventional
cell for each Bravais lattice type, by setting the best only property to
true.</p>
<p>This algorithm is based on the paper: Alan D. Mighell, <em>Lattice
Symmetry and Identification—The Fundamental Role of Reduced Cells in
Materials Characterization.</em> Journal of research of the National
Institute of Standards and Technology <strong>106.6</strong> (2001): 983, available
from: <a class="reference external" href="http://nvlpubs.nist.gov/nistpubs/jres/106/6/j66mig.pdf">nvlpubs</a>.</p>
</section>
<section id="usage">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Usage</a><a class="headerlink" href="#usage" title="Link to this heading">¶</a></h2>
<p><strong>Example:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">json</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">LoadIsawPeaks</span><span class="p">(</span><span class="s2">&quot;TOPAZ_3007.peaks&quot;</span><span class="p">)</span>
<span class="n">FindUBUsingFFT</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span><span class="n">MinD</span><span class="o">=</span><span class="mf">8.0</span><span class="p">,</span><span class="n">MaxD</span><span class="o">=</span><span class="mf">13.0</span><span class="p">)</span>
<span class="n">number_of_cells</span><span class="p">,</span> <span class="n">cells</span> <span class="o">=</span> <span class="n">ShowPossibleCells</span><span class="p">(</span><span class="n">PeaksWorkspace</span><span class="o">=</span><span class="n">ws</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Num Cells: </span><span class="si">{</span><span class="n">number_of_cells</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">cell1</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">cells</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">cell2</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">cells</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;First cell: Error=</span><span class="si">{</span><span class="n">cell1</span><span class="p">[</span><span class="s1">&#39;Error&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2"> FormNumber=</span><span class="si">{</span><span class="n">cell1</span><span class="p">[</span><span class="s1">&#39;FormNumber&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">, CellType=</span><span class="si">{</span><span class="n">cell1</span><span class="p">[</span><span class="s1">&#39;CellType&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">, Centering=</span><span class="si">{</span><span class="n">cell1</span><span class="p">[</span><span class="s1">&#39;Centering&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Second cell: Error=</span><span class="si">{</span><span class="n">cell2</span><span class="p">[</span><span class="s1">&#39;Error&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2"> FormNumber=</span><span class="si">{</span><span class="n">cell2</span><span class="p">[</span><span class="s1">&#39;FormNumber&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">, CellType=</span><span class="si">{</span><span class="n">cell2</span><span class="p">[</span><span class="s1">&#39;CellType&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">, Centering=</span><span class="si">{</span><span class="n">cell2</span><span class="p">[</span><span class="s1">&#39;Centering&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># the output can then be used by SelectCellOfType</span>
<span class="n">SelectCellOfType</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span> <span class="n">CellType</span><span class="o">=</span><span class="n">cell1</span><span class="p">[</span><span class="s1">&#39;CellType&#39;</span><span class="p">],</span> <span class="n">Centering</span><span class="o">=</span><span class="n">cell1</span><span class="p">[</span><span class="s1">&#39;Centering&#39;</span><span class="p">],</span> <span class="n">Apply</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="c1"># or SelectCellWithForm</span>
<span class="n">SelectCellWithForm</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span> <span class="n">FormNumber</span><span class="o">=</span><span class="n">cell1</span><span class="p">[</span><span class="s1">&#39;FormNumber&#39;</span><span class="p">],</span> <span class="n">Apply</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="c1"># or SetUB</span>
<span class="n">SetUB</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span> <span class="n">UB</span><span class="o">=</span><span class="n">cell1</span><span class="p">[</span><span class="s2">&quot;UB&quot;</span><span class="p">])</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Num Cells: 2
First cell: Error=0.022 FormNumber=25, CellType=Monoclinic, Centering=C
Second cell: Error=0.000 FormNumber=44, CellType=Triclinic, Centering=P
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/AlgorithmIndex.html">AlgorithmIndex</a> | <a class="reference external" href="categories/Crystal/Cell.html">Crystal\Cell</a></p>
</section>
<section id="source">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">Source</a><a class="headerlink" href="#source" title="Link to this heading">¶</a></h2>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/6762777a1cda710ac427c4efdb2a7fa75b50dc69/Framework/Crystal/inc/MantidCrystal/ShowPossibleCells.h">ShowPossibleCells.h</a></p>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/6762777a1cda710ac427c4efdb2a7fa75b50dc69/Framework/Crystal/src/ShowPossibleCells.cpp">ShowPossibleCells.cpp</a></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul id="footer-nav" class="nav navbar-nav">
      
      
          
            
  <li>
    <a href="ShowPeakHKLOffsets-v1.html" title="Previous Chapter: ShowPeakHKLOffsets v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; ShowPeakHKLOffsets v1</span>
    </a>
  </li>
  <li>
    <a href="SignalOverError-v1.html" title="Next Chapter: SignalOverError v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">SignalOverError v1 &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>