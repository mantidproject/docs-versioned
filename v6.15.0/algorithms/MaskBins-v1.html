<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>MaskBins v1</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css?v=4468db6d" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css?v=7f9a90b1" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=9aca6aaf" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script src="../_static/documentation_options.js?v=2d21b807"></script>
    <script src="../_static/doctools.js?v=fd6eb6e6"></script>
    <script src="../_static/sphinx_highlight.js?v=6ffebe34"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="MaskBinsFromTable v1" href="MaskBinsFromTable-v1.html" />
    <link rel="prev" title="MaskBTP v1" href="MaskBTP-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





<nav id="navbar" class="navbar navbar-default navbar-fixed-top">
  <div id="navbar-main" class="container">
    <ul class="nav navbar-nav">
      
      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <li>
        <a class="navbar-brand" href="http://www.mantidproject.org">
         </a>
      </li>
      <span class="navbar-text navbar-version pull-left"><b>6.15</b></span>
    </ul>

    
    <div class="collapse navbar-collapse nav-collapse">
    
      <ul class="nav navbar-nav">
        <li class="divider-vertical"></li>
        
          <li>
            <a href="https://www.mantidproject.org">Home</a>
          </li>
          <li>
            <a href="https://download.mantidproject.org">Download</a>
          </li>
          <li>
            <a href="https://docs.mantidproject.org">Documentation</a>
          </li>
          <li>
            <a href="https://www.mantidproject.org/contact">Contact Us</a>
          </li>
        
        
          
          
        
        
        
        
      </ul>
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          </div>
  </div> <!-- /navbar-main -->
<div id="navbar-breadcrumbs" class="related" role="navigation" aria-label="related navigation">
  <h3>Navigation</h3>
  <ul>
    <li class="nav-item nav-item-0">
      <a href="../index.html">Documentation</a>
         &#187;
    </li>
    
    <li class="nav-item nav-item-1">
      <a href="index.html" accesskey="U">
        Algorithms
      </a>
       &#187;
    </li>
    
    
    
    
    <li class="nav-item nav-item-this">
      <a href="">MaskBins v1</a>
    </li>
    
    
  </ul>
</div>
</nav>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <section id="maskbins-v1">
<span id="algm-maskbins"></span><span id="algm-maskbins-v1"></span><h1>MaskBins v1<a class="headerlink" href="#maskbins-v1" title="Link to this heading">¶</a></h1>
<nav class="contents local" id="table-of-contents">
<span id="index-0"></span><p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#summary" id="id1">Summary</a></p>
<ul>
<li><p><a class="reference internal" href="#see-also" id="id2">See Also</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#properties" id="id3">Properties</a></p></li>
<li><p><a class="reference internal" href="#description" id="id4">Description</a></p></li>
<li><p><a class="reference internal" href="#usage" id="id5">Usage</a></p></li>
<li><p><a class="reference internal" href="#related-algorithms" id="id6">Related Algorithms</a></p>
<ul>
<li><p><a class="reference internal" href="#removebins" id="id7">RemoveBins</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#source" id="id8">Source</a></p></li>
</ul>
</nav>
<section id="summary">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">Summary</a><a class="headerlink" href="#summary" title="Link to this heading">¶</a></h2>
<p>Marks bins in a workspace as being masked.</p>
<section id="see-also">
<h3><a class="toc-backref" href="#id2" role="doc-backlink">See Also</a><a class="headerlink" href="#see-also" title="Link to this heading">¶</a></h3>
<p><a class="reference internal" href="MaskBinsIf-v1.html#algm-maskbinsif"><span class="std std-ref">MaskBinsIf</span></a>, <a class="reference internal" href="MaskBinsFromTable-v1.html#algm-maskbinsfromtable"><span class="std std-ref">MaskBinsFromTable</span></a>, <a class="reference internal" href="MaskNonOverlappingBins-v1.html#algm-masknonoverlappingbins"><span class="std std-ref">MaskNonOverlappingBins</span></a></p>
</section>
</section>
<section id="properties">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Properties</a><a class="headerlink" href="#properties" title="Link to this heading">¶</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Direction</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>InputWorkspace</p></td>
<td><p>Input</p></td>
<td><p><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a></p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>The name of the input workspace. Must contain histogram data.</p></td>
</tr>
<tr class="row-odd"><td><p>InputWorkspaceIndexType</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>The type of indices in the optional index set; For optimal performance WorkspaceIndex should be preferred;. Allowed values: [‘WorkspaceIndex’, ‘SpectrumNumber’]</p></td>
</tr>
<tr class="row-even"><td><p>InputWorkspaceIndexSet</p></td>
<td><p>Input</p></td>
<td><p>long list</p></td>
<td></td>
<td><p>An optional set of spectra that will be processed by the algorithm; If not set, all spectra will be processed; The indices in this list can be workspace indices or possibly spectrum numbers, depending on the selection made for the index type; Indices are entered as a comma-separated list of values, and/or ranges; For example, ‘4,6,10-20,1000’;</p></td>
</tr>
<tr class="row-odd"><td><p>OutputWorkspace</p></td>
<td><p>Output</p></td>
<td><p><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a></p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>The name of the Workspace containing the masked bins.</p></td>
</tr>
<tr class="row-even"><td><p>XMin</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>The value to start masking from.</p></td>
</tr>
<tr class="row-odd"><td><p>XMax</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>The value to end masking at.</p></td>
</tr>
<tr class="row-even"><td><p>SpectraList</p></td>
<td><p>Input</p></td>
<td><p>long list</p></td>
<td></td>
<td><p>Deprecated, use InputWorkspaceIndexSet.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="description">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Description</a><a class="headerlink" href="#description" title="Link to this heading">¶</a></h2>
<p>Masks bins in a workspace. Masked bins should properly be regarded as
having been completely removed from the workspace. Bins falling within
the range given (even partially) are masked, i.e. their data and error
values are set to zero and the bin is added to the list of masked bins.
This range is masked for all spectra in the workspace (though the
workspace does not have to have common X values in all spectra).</p>
<p>At present, although the zeroing of data will obviously be ‘seen’ by all
downstream algorithms. Only
<a class="reference internal" href="DiffractionFocussing-v2.html#algm-diffractionfocussing"><span class="std std-ref">DiffractionFocussing v2</span></a> (version 2) and
<a class="reference internal" href="Q1D-v2.html#algm-q1d"><span class="std std-ref">Q1D v2</span></a> have been modified to take account of masking. Several
algorithms (e.g. <a class="reference internal" href="Rebin-v1.html#algm-rebin"><span class="std std-ref">Rebin v1</span></a>, <a class="reference internal" href="CropWorkspace-v1.html#algm-cropworkspace"><span class="std std-ref">CropWorkspace v1</span></a>)
have been modified to properly propagate the masking.</p>
</section>
<section id="usage">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Usage</a><a class="headerlink" href="#usage" title="Link to this heading">¶</a></h2>
<p><strong>Masking of a small workspace</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create workspace with 10 bins of width 10</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">(</span><span class="n">BankPixelWidth</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">Xmax</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">BinWidth</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="c1"># Mask a range of X-values</span>
<span class="n">wsMasked</span> <span class="o">=</span> <span class="n">MaskBins</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span><span class="n">XMin</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span><span class="n">XMax</span><span class="o">=</span><span class="mi">32</span><span class="p">)</span>

<span class="c1"># Show Y values in workspaces</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Before masking: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ws</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;After masking: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">wsMasked</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)))</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Before masking: [ 0.3  0.3  0.3  0.3  0.3 10.3  0.3  0.3  0.3  0.3]
After masking: [ 0.3  0.   0.   0.   0.3 10.3  0.3  0.3  0.3  0.3]
</pre></div>
</div>
</section>
<section id="related-algorithms">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">Related Algorithms</a><a class="headerlink" href="#related-algorithms" title="Link to this heading">¶</a></h2>
<section id="removebins">
<h3><a class="toc-backref" href="#id7" role="doc-backlink">RemoveBins</a><a class="headerlink" href="#removebins" title="Link to this heading">¶</a></h3>
<p><a class="reference internal" href="RemoveBins-v1.html#algm-removebins"><span class="std std-ref">RemoveBins v1</span></a> can work in several ways, if the bins are at
the edges of the workspace they will be removed, and that will in many
ways act like Masking the bins. If the bins are in the middle of the
workspace then the effect depends on the type of interpolation, but
importantly these bins will continue to influence future algorithms as
opposed to masked bins. For example, with no interpolation
<a class="reference internal" href="RemoveBins-v1.html#algm-removebins"><span class="std std-ref">RemoveBins v1</span></a> sets the bin values to 0. This 0 values will
be included in the summing performed in DiffractionFocussing, pushing
down the values in that region. MaskBins is more clever. While if you
look at the data, it will appear that it has simply set the values to 0.
It has also set a series of flags inside that mark those bins to not be
included in further claculations. This means that when you Focus the
data these values are simply missed out of the summing that is
performed.</p>
<p><strong>Categories</strong>: <a class="reference external" href="categories/AlgorithmIndex.html">AlgorithmIndex</a> | <a class="reference external" href="categories/Transforms/Masking.html">Transforms\Masking</a></p>
</section>
</section>
<section id="source">
<h2><a class="toc-backref" href="#id8" role="doc-backlink">Source</a><a class="headerlink" href="#source" title="Link to this heading">¶</a></h2>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/6762777a1cda710ac427c4efdb2a7fa75b50dc69/Framework/Algorithms/inc/MantidAlgorithms/MaskBins.h">MaskBins.h</a></p>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/6762777a1cda710ac427c4efdb2a7fa75b50dc69/Framework/Algorithms/src/MaskBins.cpp">MaskBins.cpp</a></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul id="footer-nav" class="nav navbar-nav">
      
      
          
            
  <li>
    <a href="MaskBTP-v1.html" title="Previous Chapter: MaskBTP v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; MaskBTP v1</span>
    </a>
  </li>
  <li>
    <a href="MaskBinsFromTable-v1.html" title="Next Chapter: MaskBinsFromTable v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">MaskBinsFromTable v1 &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>