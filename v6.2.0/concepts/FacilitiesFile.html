<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Facilities File</title>
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '6.2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Fit Constraint" href="FitConstraint.html" />
    <link rel="prev" title="FABADA" href="FABADA.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.2</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://docs.mantidproject.org/nightly/">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <p><span class="math">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<div class="section" id="facilities-file">
<span id="id1"></span><h1>Facilities File<a class="headerlink" href="#facilities-file" title="Permalink to this headline">¶</a></h1>
<div class="section" id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>The facilities file, called <strong>facilities.xml</strong>, contains properties of
facilities and instruments that Mantid is aware of. In order for Mantid
to function correctly for your facility then the facilities file should
contain the appropriate definitions as defined below.</p>
</div>
<div class="section" id="file-syntax">
<h2>File syntax<a class="headerlink" href="#file-syntax" title="Permalink to this headline">¶</a></h2>
<p>Each facility is described using XML with an instrument defined as a sub
component of a facility. A simple facility definition would be</p>
<div class="highlight-xml"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;facilities&gt;</span>
 <span class="nt">&lt;facility</span> <span class="na">name=</span><span class="s">&quot;BrandNew&quot;</span> <span class="na">delimiter=</span><span class="s">&quot;_&quot;</span> <span class="na">zeropadding=</span><span class="s">&quot;8&quot;</span> <span class="na">FileExtensions=</span><span class="s">&quot;.nxs,.n*&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;timezone&gt;</span>UTC<span class="nt">&lt;/timezone&gt;</span>

  <span class="nt">&lt;instrument</span> <span class="na">name=</span><span class="s">&quot;ABCDEF&quot;</span><span class="nt">/&gt;</span>

 <span class="nt">&lt;/facility&gt;</span>
<span class="nt">&lt;/facilities&gt;</span>
</pre></div>
</div>
<p>which would define a facility called <em>BrandNew</em> with an instrument
called <em>ABCDEF</em>. The facilities attributes have the following meanings:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">delimiter</span></code> gives the delimiter that is inserted between the
instrument name and the run number when constructing a file name;</li>
<li><code class="docutils literal"><span class="pre">zeroPadding</span></code> gives the number of digits that a run number is
padded to when constructing a file name;</li>
<li><code class="docutils literal"><span class="pre">FileExtensions</span></code> should list the extensions of the data files for
the facility. The first is taken as the preferred extension.</li>
<li><code class="docutils literal"><span class="pre">timezone</span></code> specifies what timezone the facility is in for use with
<a class="reference external" href="https://pythonhosted.org/pytz/">pytz</a>. Valid timezones can be found
in python by looking at the list in <code class="docutils literal"><span class="pre">pytz.all_timezones</span></code></li>
</ul>
<p>An instrument can have further attributes which define properties of the
that instrument rather than the facility as a whole, e.g.</p>
<div class="highlight-xml"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;facilities&gt;</span>

 <span class="nt">&lt;facility</span> <span class="na">name=</span><span class="s">&quot;BrandNew&quot;</span> <span class="na">zeropadding=</span><span class="s">&quot;8&quot;</span> <span class="na">FileExtensions=</span><span class="s">&quot;.nxs,.n*&quot;</span><span class="nt">&gt;</span>

  <span class="nt">&lt;instrument</span> <span class="na">name=</span><span class="s">&quot;ABCDEF&quot;</span> <span class="na">shortName=</span><span class="s">&quot;ABC&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;technique&gt;</span>Tech 1<span class="nt">&lt;/technique&gt;</span>
  <span class="nt">&lt;technique&gt;</span>Tech 2<span class="nt">&lt;/technique&gt;</span>
  <span class="nt">&lt;zeropadding</span> <span class="na">size=</span><span class="s">&quot;12&quot;</span> <span class="na">startRunNumber=</span><span class="s">&quot;12345&quot;</span> <span class="na">prefix=</span><span class="s">&quot;FEDCBA&quot;</span><span class="nt">&gt;&lt;/zeropadding&gt;</span>
  <span class="nt">&lt;zeropadding</span> <span class="na">size=</span><span class="s">&quot;15&quot;</span> <span class="na">startRunNumber=</span><span class="s">&quot;54321&quot;</span> <span class="na">prefix=</span><span class="s">&quot;ZYXWUV&quot;</span><span class="nt">&gt;&lt;/zeropadding&gt;</span>
  <span class="nt">&lt;/instrument&gt;</span>

 <span class="nt">&lt;/facility&gt;</span>

<span class="nt">&lt;/facilities&gt;</span>
</pre></div>
</div>
<p>where the attributes are defined as:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">shortName</span></code> gives a shortened version of the instrument name
sometimes used in run filename generation;</li>
<li><code class="docutils literal"><span class="pre">&lt;technique&gt;NAME&lt;\technique&gt;</span></code> tags give a named technique supported
by the instrument. Mantid uses this to retrieve lists of instruments
based on a particular technique. Multiple techniques can be
specified.</li>
<li><code class="docutils literal"><span class="pre">&lt;zeropadding</span> <span class="pre">size=&quot;12&quot;</span> <span class="pre">startRunNumber=&quot;12345&quot;</span> <span class="pre">prefix=&quot;FEDCBA&quot;\&gt;</span></code>
is an optional tag to specify zero padding different from the default
for the facility. <code class="docutils literal"><span class="pre">startRunNumber</span></code> is an optional attribute
specifying the smallest run number at which this zero padding must be
used. If <code class="docutils literal"><span class="pre">startRunNumber</span></code> is omitted this zero padding is applied
from run number 0. The optional <code class="docutils literal"><span class="pre">prefix</span></code> attribute allows a
filename to have a different prefix. An <code class="docutils literal"><span class="pre">instrument</span></code> tag can have
multiple <code class="docutils literal"><span class="pre">zeropadding</span></code> tags.</li>
</ul>
</div>
<div class="section" id="location">
<h2>Location<a class="headerlink" href="#location" title="Permalink to this headline">¶</a></h2>
<p>The file should be located in the directory pointed to by the
<strong>instrumentDefinition.directory</strong> key in the
<a class="reference internal" href="PropertiesFile.html#properties-file"><span class="std std-ref">.properties</span></a> file.</p>
<p><strong>Category</strong>: <a class="reference external" href="../api/python/mantid/api/categories/Concepts.html">Concepts</a></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="FABADA.html" title="Previous Chapter: FABADA"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; FABADA</span>
    </a>
  </li>
  <li>
    <a href="FitConstraint.html" title="Next Chapter: Fit Constraint"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Fit Constraint &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
      Last updated on 2021-09-29.<br/>
    </p>
  </div>
</footer>
  </body>
</html>