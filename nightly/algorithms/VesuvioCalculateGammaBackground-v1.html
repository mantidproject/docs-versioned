<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>VesuvioCalculateGammaBackground v1</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="VesuvioCalculateMS v1" href="VesuvioCalculateMS-v1.html" />
    <link rel="prev" title="VesuvioAnalysis v1" href="VesuvioAnalysis-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.5</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://docs.mantidproject.org/nightly/">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Algorithms</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">VesuvioCalculateGammaBackground v1</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="vesuviocalculategammabackground-v1">
<span id="algm-vesuviocalculategammabackground"></span><span id="algm-vesuviocalculategammabackground-v1"></span><h1>VesuvioCalculateGammaBackground v1<a class="headerlink" href="#vesuviocalculategammabackground-v1" title="Permalink to this heading">¶</a></h1>
<figure class="align-right" id="id1">
<span id="index-0"></span><a class="screenshot reference internal image-reference" href="../_images/VesuvioCalculateGammaBackground-v1_dlg.png"><img alt="../_images/VesuvioCalculateGammaBackground-v1_dlg.png" class="screenshot" src="../_images/VesuvioCalculateGammaBackground-v1_dlg.png" style="width: 380px;" /></a>
<figcaption>
<p><span class="caption-text"><strong>VesuvioCalculateGammaBackground</strong> dialog.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#summary" id="id2">Summary</a></p>
<ul>
<li><p><a class="reference internal" href="#see-also" id="id3">See Also</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#properties" id="id4">Properties</a></p></li>
<li><p><a class="reference internal" href="#description" id="id5">Description</a></p></li>
<li><p><a class="reference internal" href="#usage" id="id6">Usage</a></p></li>
<li><p><a class="reference internal" href="#source" id="id7">Source</a></p></li>
</ul>
</nav>
<section id="summary">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Summary</a><a class="headerlink" href="#summary" title="Permalink to this heading">¶</a></h2>
<p>Calculates the background due to gamma rays produced when neutrons are absorbed by shielding.</p>
<section id="see-also">
<h3><a class="toc-backref" href="#id3" role="doc-backlink">See Also</a><a class="headerlink" href="#see-also" title="Permalink to this heading">¶</a></h3>
<p><a class="reference internal" href="VesuvioCorrections-v1.html#algm-vesuviocorrections"><span class="std std-ref">VesuvioCorrections</span></a></p>
</section>
</section>
<section id="properties">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Properties</a><a class="headerlink" href="#properties" title="Permalink to this heading">¶</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Direction</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>InputWorkspace</p></td>
<td><p>Input</p></td>
<td><p><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a></p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>An input workspace containing TOF data</p></td>
</tr>
<tr class="row-odd"><td><p>ComptonFunction</p></td>
<td><p>InOut</p></td>
<td><p>Function</p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>Function that is able to compute the mass spectrum for the input dataThis will usually be the output from the Fitting</p></td>
</tr>
<tr class="row-even"><td><p>WorkspaceIndexList</p></td>
<td><p>Input</p></td>
<td><p>int list</p></td>
<td></td>
<td><p>Indices of the spectra to include in the correction. If provided, the output only include these spectra (Default: all spectra from input)</p></td>
</tr>
<tr class="row-odd"><td><p>BackgroundWorkspace</p></td>
<td><p>Output</p></td>
<td><p><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a></p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>A new workspace containing the calculated background.</p></td>
</tr>
<tr class="row-even"><td><p>CorrectedWorkspace</p></td>
<td><p>Output</p></td>
<td><p><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a></p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>A new workspace containing the calculated background subtracted from the input.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="description">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Description</a><a class="headerlink" href="#description" title="Permalink to this heading">¶</a></h2>
<p>This algorithm is currently designed to be used by the Vesuvio spectrometer at ISIS to
correct for background produced by photons that are created when the
neutrons are absorbed by the shielding on the instrument. It only
corrects the forward scattering detector banks - spectrum numbers 135-198.</p>
<p>Two workspaces are produced: the calculated background and a corrected
workspace where the input workspace has been corrected by the
background. The background is computed by a simple simulation of the
expected count across all of the foils. The corrected workspace counts
are computed by calculating a ratio of the expected counts at the
detector to the integrated foil counts (<span class="math notranslate nohighlight">\(\beta\)</span>) and then the
final corrected count rate <span class="math notranslate nohighlight">\(\displaystyle c_f\)</span> is defined as
<span class="math notranslate nohighlight">\(\displaystyle c_f = c_i - \beta c_b\)</span>.</p>
</section>
<section id="usage">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">Usage</a><a class="headerlink" href="#usage" title="Permalink to this heading">¶</a></h2>
<p><strong>Example: Correcting the first spectrum</strong></p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="c1">###### Simulates LoadVesuvio with spectrum number 135-136 #################</span>
<span class="n">tof_ws</span> <span class="o">=</span> <span class="n">CreateSimulationWorkspace</span><span class="p">(</span><span class="n">Instrument</span><span class="o">=</span><span class="s1">&#39;Vesuvio&#39;</span><span class="p">,</span><span class="n">BinParams</span><span class="o">=</span><span class="p">[</span><span class="mi">50</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mi">562</span><span class="p">],</span><span class="n">UnitX</span><span class="o">=</span><span class="s1">&#39;TOF&#39;</span><span class="p">)</span>
<span class="n">tof_ws</span> <span class="o">=</span> <span class="n">CropWorkspace</span><span class="p">(</span><span class="n">tof_ws</span><span class="p">,</span><span class="n">StartWorkspaceIndex</span><span class="o">=</span><span class="mi">134</span><span class="p">,</span><span class="n">EndWorkspaceIndex</span><span class="o">=</span><span class="mi">135</span><span class="p">)</span> <span class="c1"># index one less than spectrum number</span>
<span class="n">tof_ws</span> <span class="o">=</span> <span class="n">ConvertToPointData</span><span class="p">(</span><span class="n">tof_ws</span><span class="p">)</span>
<span class="n">SetInstrumentParameter</span><span class="p">(</span><span class="n">tof_ws</span><span class="p">,</span> <span class="n">ParameterName</span><span class="o">=</span><span class="s1">&#39;t0&#39;</span><span class="p">,</span><span class="n">ParameterType</span><span class="o">=</span><span class="s1">&#39;Number&#39;</span><span class="p">,</span><span class="n">Value</span><span class="o">=</span><span class="s1">&#39;0.5&#39;</span><span class="p">)</span>
<span class="n">SetInstrumentParameter</span><span class="p">(</span><span class="n">tof_ws</span><span class="p">,</span> <span class="n">ParameterName</span><span class="o">=</span><span class="s1">&#39;sigma_l1&#39;</span><span class="p">,</span> <span class="n">ParameterType</span><span class="o">=</span><span class="s1">&#39;Number&#39;</span><span class="p">,</span> <span class="n">Value</span><span class="o">=</span><span class="s1">&#39;0.021&#39;</span><span class="p">)</span>
<span class="n">SetInstrumentParameter</span><span class="p">(</span><span class="n">tof_ws</span><span class="p">,</span> <span class="n">ParameterName</span><span class="o">=</span><span class="s1">&#39;sigma_l2&#39;</span><span class="p">,</span> <span class="n">ParameterType</span><span class="o">=</span><span class="s1">&#39;Number&#39;</span><span class="p">,</span> <span class="n">Value</span><span class="o">=</span><span class="s1">&#39;0.023&#39;</span><span class="p">)</span>
<span class="n">SetInstrumentParameter</span><span class="p">(</span><span class="n">tof_ws</span><span class="p">,</span> <span class="n">ParameterName</span><span class="o">=</span><span class="s1">&#39;sigma_tof&#39;</span><span class="p">,</span> <span class="n">ParameterType</span><span class="o">=</span><span class="s1">&#39;Number&#39;</span><span class="p">,</span> <span class="n">Value</span><span class="o">=</span><span class="s1">&#39;0.3&#39;</span><span class="p">)</span>
<span class="n">SetInstrumentParameter</span><span class="p">(</span><span class="n">tof_ws</span><span class="p">,</span> <span class="n">ParameterName</span><span class="o">=</span><span class="s1">&#39;sigma_theta&#39;</span><span class="p">,</span> <span class="n">ParameterType</span><span class="o">=</span><span class="s1">&#39;Number&#39;</span><span class="p">,</span> <span class="n">Value</span><span class="o">=</span><span class="s1">&#39;0.028&#39;</span><span class="p">)</span>
<span class="n">SetInstrumentParameter</span><span class="p">(</span><span class="n">tof_ws</span><span class="p">,</span> <span class="n">ParameterName</span><span class="o">=</span><span class="s1">&#39;hwhm_lorentz&#39;</span><span class="p">,</span> <span class="n">ParameterType</span><span class="o">=</span><span class="s1">&#39;Number&#39;</span><span class="p">,</span> <span class="n">Value</span><span class="o">=</span><span class="s1">&#39;24.0&#39;</span><span class="p">)</span>
<span class="n">SetInstrumentParameter</span><span class="p">(</span><span class="n">tof_ws</span><span class="p">,</span> <span class="n">ParameterName</span><span class="o">=</span><span class="s1">&#39;sigma_gauss&#39;</span><span class="p">,</span> <span class="n">ParameterType</span><span class="o">=</span><span class="s1">&#39;Number&#39;</span><span class="p">,</span> <span class="n">Value</span><span class="o">=</span><span class="s1">&#39;73.0&#39;</span><span class="p">)</span>
<span class="c1"># Algorithm allows separate parameters for the foils</span>
<span class="n">SetInstrumentParameter</span><span class="p">(</span><span class="n">tof_ws</span><span class="p">,</span> <span class="n">ComponentName</span><span class="o">=</span><span class="s1">&#39;foil-pos0&#39;</span><span class="p">,</span> <span class="n">ParameterName</span><span class="o">=</span><span class="s1">&#39;hwhm_lorentz&#39;</span><span class="p">,</span>
                       <span class="n">ParameterType</span><span class="o">=</span><span class="s1">&#39;Number&#39;</span><span class="p">,</span> <span class="n">Value</span><span class="o">=</span><span class="s1">&#39;144.0&#39;</span><span class="p">)</span>
<span class="n">SetInstrumentParameter</span><span class="p">(</span><span class="n">tof_ws</span><span class="p">,</span> <span class="n">ComponentName</span><span class="o">=</span><span class="s1">&#39;foil-pos0&#39;</span><span class="p">,</span> <span class="n">ParameterName</span><span class="o">=</span><span class="s1">&#39;sigma_gauss&#39;</span><span class="p">,</span>
                       <span class="n">ParameterType</span><span class="o">=</span><span class="s1">&#39;Number&#39;</span><span class="p">,</span> <span class="n">Value</span><span class="o">=</span><span class="s1">&#39;20.0&#39;</span><span class="p">)</span>
<span class="n">SetInstrumentParameter</span><span class="p">(</span><span class="n">tof_ws</span><span class="p">,</span> <span class="n">ComponentName</span><span class="o">=</span><span class="s1">&#39;foil-pos1&#39;</span><span class="p">,</span> <span class="n">ParameterName</span><span class="o">=</span><span class="s1">&#39;hwhm_lorentz&#39;</span><span class="p">,</span>
                       <span class="n">ParameterType</span><span class="o">=</span><span class="s1">&#39;Number&#39;</span><span class="p">,</span> <span class="n">Value</span><span class="o">=</span><span class="s1">&#39;144.0&#39;</span><span class="p">)</span>
<span class="n">SetInstrumentParameter</span><span class="p">(</span><span class="n">tof_ws</span><span class="p">,</span> <span class="n">ComponentName</span><span class="o">=</span><span class="s1">&#39;foil-pos1&#39;</span><span class="p">,</span> <span class="n">ParameterName</span><span class="o">=</span><span class="s1">&#39;sigma_gauss&#39;</span><span class="p">,</span>
                       <span class="n">ParameterType</span><span class="o">=</span><span class="s1">&#39;Number&#39;</span><span class="p">,</span> <span class="n">Value</span><span class="o">=</span><span class="s1">&#39;20.0&#39;</span><span class="p">)</span>

<span class="c1">###########################################################################</span>

<span class="n">mass_function</span> <span class="o">=</span> <span class="s2">&quot;name=GaussianComptonProfile,Mass=1.0079,Width=0.4,Intensity=1.1&quot;</span>
<span class="n">corrected</span><span class="p">,</span> <span class="n">background</span> <span class="o">=</span> <span class="n">VesuvioCalculateGammaBackground</span><span class="p">(</span><span class="n">tof_ws</span><span class="p">,</span> <span class="n">ComptonFunction</span><span class="o">=</span><span class="n">mass_function</span><span class="p">,</span>
                                                 <span class="n">WorkspaceIndexList</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;First 5 values of input: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">tof_ws</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">0</span><span class="p">:</span><span class="mi">4</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;First 5 values of background: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">background</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">0</span><span class="p">:</span><span class="mi">4</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;First 5 values of corrected: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">corrected</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">0</span><span class="p">:</span><span class="mi">4</span><span class="p">]))</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>First 5 values of input: [ 1.  1.  1.  1.]
First 5 values of background: [ 1.00053363  1.00054706  1.00056074  1.0005747 ]
First 5 values of corrected: [-0.00053363 -0.00054706 -0.00056074 -0.0005747 ]
</pre></div>
</div>
<p><strong>Example: Correcting all spectra</strong></p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="c1">###### Simulates LoadVesuvio with spectrum number 135-136 #################</span>
<span class="n">tof_ws</span> <span class="o">=</span> <span class="n">CreateSimulationWorkspace</span><span class="p">(</span><span class="n">Instrument</span><span class="o">=</span><span class="s1">&#39;Vesuvio&#39;</span><span class="p">,</span><span class="n">BinParams</span><span class="o">=</span><span class="p">[</span><span class="mi">50</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mi">562</span><span class="p">],</span><span class="n">UnitX</span><span class="o">=</span><span class="s1">&#39;TOF&#39;</span><span class="p">)</span>
<span class="n">tof_ws</span> <span class="o">=</span> <span class="n">CropWorkspace</span><span class="p">(</span><span class="n">tof_ws</span><span class="p">,</span><span class="n">StartWorkspaceIndex</span><span class="o">=</span><span class="mi">134</span><span class="p">,</span><span class="n">EndWorkspaceIndex</span><span class="o">=</span><span class="mi">135</span><span class="p">)</span> <span class="c1"># index one less than spectrum number5</span>
<span class="n">tof_ws</span> <span class="o">=</span> <span class="n">ConvertToPointData</span><span class="p">(</span><span class="n">tof_ws</span><span class="p">)</span>
<span class="n">SetInstrumentParameter</span><span class="p">(</span><span class="n">tof_ws</span><span class="p">,</span> <span class="n">ParameterName</span><span class="o">=</span><span class="s1">&#39;t0&#39;</span><span class="p">,</span><span class="n">ParameterType</span><span class="o">=</span><span class="s1">&#39;Number&#39;</span><span class="p">,</span><span class="n">Value</span><span class="o">=</span><span class="s1">&#39;0.5&#39;</span><span class="p">)</span>
<span class="n">SetInstrumentParameter</span><span class="p">(</span><span class="n">tof_ws</span><span class="p">,</span> <span class="n">ParameterName</span><span class="o">=</span><span class="s1">&#39;sigma_l1&#39;</span><span class="p">,</span> <span class="n">ParameterType</span><span class="o">=</span><span class="s1">&#39;Number&#39;</span><span class="p">,</span> <span class="n">Value</span><span class="o">=</span><span class="s1">&#39;0.021&#39;</span><span class="p">)</span>
<span class="n">SetInstrumentParameter</span><span class="p">(</span><span class="n">tof_ws</span><span class="p">,</span> <span class="n">ParameterName</span><span class="o">=</span><span class="s1">&#39;sigma_l2&#39;</span><span class="p">,</span> <span class="n">ParameterType</span><span class="o">=</span><span class="s1">&#39;Number&#39;</span><span class="p">,</span> <span class="n">Value</span><span class="o">=</span><span class="s1">&#39;0.023&#39;</span><span class="p">)</span>
<span class="n">SetInstrumentParameter</span><span class="p">(</span><span class="n">tof_ws</span><span class="p">,</span> <span class="n">ParameterName</span><span class="o">=</span><span class="s1">&#39;sigma_tof&#39;</span><span class="p">,</span> <span class="n">ParameterType</span><span class="o">=</span><span class="s1">&#39;Number&#39;</span><span class="p">,</span> <span class="n">Value</span><span class="o">=</span><span class="s1">&#39;0.3&#39;</span><span class="p">)</span>
<span class="n">SetInstrumentParameter</span><span class="p">(</span><span class="n">tof_ws</span><span class="p">,</span> <span class="n">ParameterName</span><span class="o">=</span><span class="s1">&#39;sigma_theta&#39;</span><span class="p">,</span> <span class="n">ParameterType</span><span class="o">=</span><span class="s1">&#39;Number&#39;</span><span class="p">,</span> <span class="n">Value</span><span class="o">=</span><span class="s1">&#39;0.028&#39;</span><span class="p">)</span>
<span class="n">SetInstrumentParameter</span><span class="p">(</span><span class="n">tof_ws</span><span class="p">,</span> <span class="n">ParameterName</span><span class="o">=</span><span class="s1">&#39;hwhm_lorentz&#39;</span><span class="p">,</span> <span class="n">ParameterType</span><span class="o">=</span><span class="s1">&#39;Number&#39;</span><span class="p">,</span> <span class="n">Value</span><span class="o">=</span><span class="s1">&#39;73.0&#39;</span><span class="p">)</span>
<span class="n">SetInstrumentParameter</span><span class="p">(</span><span class="n">tof_ws</span><span class="p">,</span> <span class="n">ParameterName</span><span class="o">=</span><span class="s1">&#39;sigma_gauss&#39;</span><span class="p">,</span> <span class="n">ParameterType</span><span class="o">=</span><span class="s1">&#39;Number&#39;</span><span class="p">,</span> <span class="n">Value</span><span class="o">=</span><span class="s1">&#39;24.0&#39;</span><span class="p">)</span>
<span class="c1">###########################################################################</span>

<span class="n">mass_function</span> <span class="o">=</span> <span class="s2">&quot;name=GaussianComptonProfile,Mass=1.0079,Width=0.4,Intensity=1.1&quot;</span>
<span class="n">corrected</span><span class="p">,</span> <span class="n">background</span> <span class="o">=</span> <span class="n">VesuvioCalculateGammaBackground</span><span class="p">(</span><span class="n">tof_ws</span><span class="p">,</span> <span class="n">ComptonFunction</span><span class="o">=</span><span class="n">mass_function</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Number of background spectra: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">background</span><span class="o">.</span><span class="n">getNumberHistograms</span><span class="p">()))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Number of corrected spectra: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">corrected</span><span class="o">.</span><span class="n">getNumberHistograms</span><span class="p">()))</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Number of background spectra: 2
Number of corrected spectra: 2
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/AlgorithmIndex.html">AlgorithmIndex</a> | <a class="reference external" href="categories/CorrectionFunctions/BackgroundCorrections.html">CorrectionFunctions\BackgroundCorrections</a></p>
</section>
<section id="source">
<h2><a class="toc-backref" href="#id7" role="doc-backlink">Source</a><a class="headerlink" href="#source" title="Permalink to this heading">¶</a></h2>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/b49a51182ff0fbada20a1481592ea370353fb756/Framework/CurveFitting/inc/MantidCurveFitting/Algorithms/VesuvioCalculateGammaBackground.h">VesuvioCalculateGammaBackground.h</a></p>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/b49a51182ff0fbada20a1481592ea370353fb756/Framework/CurveFitting/src/Algorithms/VesuvioCalculateGammaBackground.cpp">VesuvioCalculateGammaBackground.cpp</a></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="VesuvioAnalysis-v1.html" title="Previous Chapter: VesuvioAnalysis v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; VesuvioAnalysis v1</span>
    </a>
  </li>
  <li>
    <a href="VesuvioCalculateMS-v1.html" title="Next Chapter: VesuvioCalculateMS v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">VesuvioCalculateMS v1 &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>