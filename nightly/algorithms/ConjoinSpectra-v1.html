<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>ConjoinSpectra v1</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="ConjoinWorkspaces v1" href="ConjoinWorkspaces-v1.html" />
    <link rel="prev" title="ConjoinFiles v1" href="ConjoinFiles-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.5</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://docs.mantidproject.org/nightly/">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Algorithms</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">ConjoinSpectra v1</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="conjoinspectra-v1">
<span id="algm-conjoinspectra"></span><span id="algm-conjoinspectra-v1"></span><h1>ConjoinSpectra v1<a class="headerlink" href="#conjoinspectra-v1" title="Permalink to this heading">¶</a></h1>
<figure class="align-right" id="id1">
<span id="index-0"></span><a class="screenshot reference internal image-reference" href="../_images/ConjoinSpectra-v1_dlg.png"><img alt="../_images/ConjoinSpectra-v1_dlg.png" class="screenshot" src="../_images/ConjoinSpectra-v1_dlg.png" style="width: 447px;" /></a>
<figcaption>
<p><span class="caption-text"><strong>ConjoinSpectra</strong> dialog.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#summary" id="id2">Summary</a></p>
<ul>
<li><p><a class="reference internal" href="#see-also" id="id3">See Also</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#properties" id="id4">Properties</a></p></li>
<li><p><a class="reference internal" href="#description" id="id5">Description</a></p></li>
<li><p><a class="reference internal" href="#conjoinspectra-operation" id="id6">ConjoinSpectra operation</a></p></li>
<li><p><a class="reference internal" href="#usage" id="id7">Usage</a></p></li>
<li><p><a class="reference internal" href="#source" id="id8">Source</a></p></li>
</ul>
</nav>
<section id="summary">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Summary</a><a class="headerlink" href="#summary" title="Permalink to this heading">¶</a></h2>
<section id="see-also">
<h3><a class="toc-backref" href="#id3" role="doc-backlink">See Also</a><a class="headerlink" href="#see-also" title="Permalink to this heading">¶</a></h3>
<p><a class="reference internal" href="AppendSpectra-v1.html#algm-appendspectra"><span class="std std-ref">AppendSpectra</span></a>, <a class="reference internal" href="ConjoinWorkspaces-v1.html#algm-conjoinworkspaces"><span class="std std-ref">ConjoinWorkspaces</span></a></p>
</section>
</section>
<section id="properties">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Properties</a><a class="headerlink" href="#properties" title="Permalink to this heading">¶</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Direction</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>InputWorkspaces</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>Comma seperated list of workspaces to use, group workspaces will automatically include all members.</p></td>
</tr>
<tr class="row-odd"><td><p>OutputWorkspace</p></td>
<td><p>Output</p></td>
<td><p><a class="reference internal" href="../concepts/Workspace.html#workspace"><span class="std std-ref">Workspace</span></a></p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>Name the workspace that will contain the result</p></td>
</tr>
<tr class="row-even"><td><p>WorkspaceIndex</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>0</p></td>
<td><p>The workspace index of the spectra in each workspace to extract. Default: 0</p></td>
</tr>
<tr class="row-odd"><td><p>LabelUsing</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>The name of a log value used to label the resulting spectra. Default: The source workspace name</p></td>
</tr>
<tr class="row-even"><td><p>LabelValue</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>Mean</p></td>
<td><p>How to derive the value from a time series property. Allowed values: [‘Mean’, ‘Median’, ‘Maximum’, ‘Minimum’, ‘First Value’]</p></td>
</tr>
</tbody>
</table>
</section>
<section id="description">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Description</a><a class="headerlink" href="#description" title="Permalink to this heading">¶</a></h2>
<p>This algorithm allows a single spectrum to be extracted from a range of
workspaces and placed into a single workspace for comparison and
plotting. The LabelUsing property allows you to control what the end
labels applied to each spectra will be. The default is to use the source
workspace name, but you can specify the name of a log value to use as
the label, e.g. Temp_Sample. the LabelValue property allows control of
how a single value is extracted from time series logs.</p>
</section>
<section id="conjoinspectra-operation">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">ConjoinSpectra operation</a><a class="headerlink" href="#conjoinspectra-operation" title="Permalink to this heading">¶</a></h2>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Example case with 3 input workspaces.</p></td>
<td><a class="reference internal image-reference" href="../_images/ConjoinSpectra.png"><img alt="ConjoinSpectra operation" src="../_images/ConjoinSpectra.png" style="width: 400px; height: 150px;" /></a>
</td>
</tr>
</tbody>
</table>
</section>
<section id="usage">
<h2><a class="toc-backref" href="#id7" role="doc-backlink">Usage</a><a class="headerlink" href="#usage" title="Permalink to this heading">¶</a></h2>
<p><strong>Example - Join workspace index 1 from three workspaces</strong></p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">ws</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">(</span><span class="s2">&quot;Histogram&quot;</span><span class="p">,</span><span class="n">BankPixelWidth</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">ws2</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">(</span><span class="s2">&quot;Histogram&quot;</span><span class="p">,</span><span class="n">BankPixelWidth</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">ws3</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">(</span><span class="s2">&quot;Histogram&quot;</span><span class="p">,</span><span class="n">BankPixelWidth</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="n">wsOut</span> <span class="o">=</span> <span class="n">ConjoinSpectra</span><span class="p">(</span><span class="s2">&quot;ws,ws2,ws3&quot;</span><span class="p">,</span><span class="n">WorkspaceIndex</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Creates a workspace with </span><span class="si">{}</span><span class="s2"> spectra labelled as&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">wsOut</span><span class="o">.</span><span class="n">getNumberHistograms</span><span class="p">()))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">wsOut</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">extractValues</span><span class="p">())</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Creates a workspace with 3 spectra labelled as
[&#39;ws_1&#39;, &#39;ws2_1&#39;, &#39;ws3_1&#39;]
</pre></div>
</div>
<p><strong>Example - Join spectra from three workspaces using a log value</strong></p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">ws</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">(</span><span class="s2">&quot;Histogram&quot;</span><span class="p">,</span><span class="n">BankPixelWidth</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">ws2</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">(</span><span class="s2">&quot;Histogram&quot;</span><span class="p">,</span><span class="n">BankPixelWidth</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">ws3</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">(</span><span class="s2">&quot;Histogram&quot;</span><span class="p">,</span><span class="n">BankPixelWidth</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1">#add some log values</span>
<span class="n">wsIndex</span><span class="o">=</span><span class="mi">0</span>
<span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="p">[</span><span class="n">ws</span><span class="p">,</span><span class="n">ws2</span><span class="p">,</span><span class="n">ws3</span><span class="p">]:</span>
    <span class="n">wsIndex</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">for</span> <span class="n">minute</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">60</span><span class="p">):</span>
        <span class="n">time_string</span> <span class="o">=</span> <span class="s2">&quot;2010-01-01T00:</span><span class="si">%02i</span><span class="s2">:00&quot;</span> <span class="o">%</span> <span class="n">minute</span>
        <span class="n">AddTimeSeriesLog</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">Name</span><span class="o">=</span><span class="s2">&quot;myLog&quot;</span><span class="p">,</span> <span class="n">Time</span><span class="o">=</span><span class="n">time_string</span><span class="p">,</span> <span class="n">Value</span><span class="o">=</span><span class="p">(</span><span class="n">wsIndex</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span><span class="o">+</span><span class="n">minute</span><span class="p">)</span>

<span class="n">wsOut</span> <span class="o">=</span> <span class="n">ConjoinSpectra</span><span class="p">(</span><span class="s2">&quot;ws,ws2,ws3&quot;</span><span class="p">,</span><span class="n">WorkspaceIndex</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">LabelUsing</span><span class="o">=</span><span class="s2">&quot;myLog&quot;</span><span class="p">,</span><span class="n">LabelValue</span><span class="o">=</span><span class="s2">&quot;Mean&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Creates a workspace with </span><span class="si">{}</span><span class="s2"> spectra labelled using the Mean of myLog.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">wsOut</span><span class="o">.</span><span class="n">getNumberHistograms</span><span class="p">()))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">wsOut</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">extractValues</span><span class="p">())</span>

<span class="n">otherLabelValueOptions</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;First Value&quot;</span><span class="p">,</span><span class="s2">&quot;Median&quot;</span><span class="p">,</span> <span class="s2">&quot;Maximum&quot;</span><span class="p">,</span> <span class="s2">&quot;Minimum&quot;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">labelValueOption</span> <span class="ow">in</span> <span class="n">otherLabelValueOptions</span><span class="p">:</span>
    <span class="n">wsOut</span> <span class="o">=</span> <span class="n">ConjoinSpectra</span><span class="p">(</span><span class="s2">&quot;ws,ws2,ws3&quot;</span><span class="p">,</span><span class="n">WorkspaceIndex</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">LabelUsing</span><span class="o">=</span><span class="s2">&quot;myLog&quot;</span><span class="p">,</span> <span class="n">LabelValue</span><span class="o">=</span><span class="n">labelValueOption</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Creates a workspace with </span><span class="si">{}</span><span class="s2"> spectra labelled using the </span><span class="si">{}</span><span class="s2"> of myLog.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">wsOut</span><span class="o">.</span><span class="n">getNumberHistograms</span><span class="p">(),</span> <span class="n">labelValueOption</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">wsOut</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">extractValues</span><span class="p">())</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Creates a workspace with 3 spectra labelled using the Mean of myLog.
[&#39;129.5&#39;, &#39;229.5&#39;, &#39;329.5&#39;]
Creates a workspace with 3 spectra labelled using the First Value of myLog.
[&#39;100.0&#39;, &#39;200.0&#39;, &#39;300.0&#39;]
Creates a workspace with 3 spectra labelled using the Median of myLog.
[&#39;129.5&#39;, &#39;229.5&#39;, &#39;329.5&#39;]
Creates a workspace with 3 spectra labelled using the Maximum of myLog.
[&#39;159.0&#39;, &#39;259.0&#39;, &#39;359.0&#39;]
Creates a workspace with 3 spectra labelled using the Minimum of myLog.
[&#39;100.0&#39;, &#39;200.0&#39;, &#39;300.0&#39;]
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/AlgorithmIndex.html">AlgorithmIndex</a> | <a class="reference external" href="categories/Transforms/Merging.html">Transforms\Merging</a></p>
</section>
<section id="source">
<h2><a class="toc-backref" href="#id8" role="doc-backlink">Source</a><a class="headerlink" href="#source" title="Permalink to this heading">¶</a></h2>
<p>Python: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/ae5920090788fe85703dcb99039251b0d956c4b7/Framework/PythonInterface/plugins/algorithms/ConjoinSpectra.py">ConjoinSpectra.py</a></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="ConjoinFiles-v1.html" title="Previous Chapter: ConjoinFiles v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; ConjoinFiles v1</span>
    </a>
  </li>
  <li>
    <a href="ConjoinWorkspaces-v1.html" title="Next Chapter: ConjoinWorkspaces v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">ConjoinWorkspaces v1 &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>