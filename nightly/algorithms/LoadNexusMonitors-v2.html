<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>LoadNexusMonitors v2</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="LoadNexusProcessed v1" href="LoadNexusProcessed-v1.html" />
    <link rel="prev" title="LoadNexusMonitors v1" href="LoadNexusMonitors-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.5</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://www.mantidproject.org">Home</a></li>
                <li><a href="https://download.mantidproject.org">Download</a></li>
                <li><a href="https://docs.mantidproject.org">Documentation</a></li>
                <li><a href="https://www.mantidproject.org/contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Algorithms</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">LoadNexusMonitors v2</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="loadnexusmonitors-v2">
<span id="algm-loadnexusmonitors"></span><span id="algm-loadnexusmonitors-v2"></span><h1>LoadNexusMonitors v2<a class="headerlink" href="#loadnexusmonitors-v2" title="Permalink to this heading">¶</a></h1>
<figure class="align-right" id="id1">
<span id="index-0"></span><a class="screenshot reference internal image-reference" href="../_images/LoadNexusMonitors-v2_dlg.png"><img alt="../_images/LoadNexusMonitors-v2_dlg.png" class="screenshot" src="../_images/LoadNexusMonitors-v2_dlg.png" style="width: 360px;" /></a>
<figcaption>
<p><span class="caption-text"><strong>LoadNexusMonitors</strong> dialog.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#summary" id="id2">Summary</a></p>
<ul>
<li><p><a class="reference internal" href="#see-also" id="id3">See Also</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#properties" id="id4">Properties</a></p></li>
<li><p><a class="reference internal" href="#description" id="id5">Description</a></p>
<ul>
<li><p><a class="reference internal" href="#event-monitor-and-histogram-monitor" id="id6">Event monitor and histogram monitor</a></p></li>
<li><p><a class="reference internal" href="#load-nexus-file-containing-both-event-monitor-and-histogram-monitor" id="id7">Load NeXus file containing both event monitor and histogram monitor</a></p></li>
<li><p><a class="reference internal" href="#isis-event-monitor" id="id8">ISIS event monitor</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#usage" id="id9">Usage</a></p></li>
<li><p><a class="reference internal" href="#source" id="id10">Source</a></p></li>
</ul>
</nav>
<section id="summary">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Summary</a><a class="headerlink" href="#summary" title="Permalink to this heading">¶</a></h2>
<p>Load all monitors from a NeXus file into a workspace.</p>
<section id="see-also">
<h3><a class="toc-backref" href="#id3" role="doc-backlink">See Also</a><a class="headerlink" href="#see-also" title="Permalink to this heading">¶</a></h3>
<p><a class="reference internal" href="LoadNexus-v1.html#algm-loadnexus"><span class="std std-ref">LoadNexus</span></a></p>
</section>
</section>
<section id="properties">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Properties</a><a class="headerlink" href="#properties" title="Permalink to this heading">¶</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Direction</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Filename</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>The name (including its full or relative path) of the NeXus file to attempt to load. The file extension must either be .nxs or .NXS. Allowed extensions: [‘.nxs’]</p></td>
</tr>
<tr class="row-odd"><td><p>OutputWorkspace</p></td>
<td><p>Output</p></td>
<td><p><a class="reference internal" href="../concepts/Workspace.html#workspace"><span class="std std-ref">Workspace</span></a></p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>The name of the output workspace in which to load the NeXus monitors.</p></td>
</tr>
<tr class="row-even"><td><p>NXentryName</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>Optional: Name of the NXentry to load if it’s not the default.</p></td>
</tr>
<tr class="row-odd"><td><p>LoadOnly</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>If multiple repesentations exist, which one to load. Default is to load the one that is present, and Histogram if both are present. Allowed values: [‘’, ‘Events’, ‘Histogram’]</p></td>
</tr>
<tr class="row-even"><td><p>AllowList</p></td>
<td><p>Input</p></td>
<td><p>str list</p></td>
<td></td>
<td><p>If specified, only these logs will be loaded from the file (each separated by a comma).</p></td>
</tr>
<tr class="row-odd"><td><p>BlockList</p></td>
<td><p>Input</p></td>
<td><p>str list</p></td>
<td></td>
<td><p>If specified, these logs will NOT be loaded from the file (each separated by a comma).</p></td>
</tr>
</tbody>
</table>
</section>
<section id="description">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Description</a><a class="headerlink" href="#description" title="Permalink to this heading">¶</a></h2>
<p>This algorithm loads all monitors found in a NeXus file into a single
<a class="reference internal" href="../concepts/Workspace2D.html#workspace2d"><span class="std std-ref">Workspace2D</span></a> (if there is no event data or if
<code class="docutils literal notranslate"><span class="pre">LoadOnly='Histogram'</span></code>) or into an <a class="reference internal" href="../concepts/EventWorkspace.html#eventworkspace"><span class="std std-ref">EventWorkspace</span></a> (if there is event monitor data or
<code class="docutils literal notranslate"><span class="pre">LoadOnly='Events'</span></code>).  The algorithm assumes that all of the
monitors are histograms and have the same bin boundaries. <strong>NOTE:</strong>
The entry is assumed to be in SNS or ISIS format, so the loader is
currently not generically applicable.</p>
<p>This version (v2) fixes a bug in the first version and now returns a
group workspace when invoked from Python with a multiperiod input
workspace. As a side-effect of the fix, the contained individual
workspaces for each of the periods are named slightly differently.</p>
<section id="event-monitor-and-histogram-monitor">
<h3><a class="toc-backref" href="#id6" role="doc-backlink">Event monitor and histogram monitor</a><a class="headerlink" href="#event-monitor-and-histogram-monitor" title="Permalink to this heading">¶</a></h3>
<p>There are two types of monitors, event monitors and histograms monitors.
Both of them are of class <em>NXmonitor</em> in NeXus file.</p>
<ul class="simple">
<li><p>Event monitor must contain all of the following three fields:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">event_index</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">event_time_offset</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">event_time_zero</span></code></p></li>
</ul>
</li>
<li><p>Histogram monitor must contain</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">data</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">period_index</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">time_of_flight</span></code></p></li>
</ul>
</li>
</ul>
</section>
<section id="load-nexus-file-containing-both-event-monitor-and-histogram-monitor">
<h3><a class="toc-backref" href="#id7" role="doc-backlink">Load NeXus file containing both event monitor and histogram monitor</a><a class="headerlink" href="#load-nexus-file-containing-both-event-monitor-and-histogram-monitor" title="Permalink to this heading">¶</a></h3>
<p>For most files, the <code class="docutils literal notranslate"><span class="pre">LoadOnly</span></code> option can be set to an empty string
(the default) and the correct form of the data will be loaded
(i.e. events for event monitors and histograms for histogram
monitors). In some NeXus files, both histograms and events are
provided. In this case, if <code class="docutils literal notranslate"><span class="pre">LoadOnly</span></code> is not defined, then histogram
monitors will be loaded and a warning will be outputted to the Log.</p>
<p>To suppress the warning, or to select which form of logs to load the
user <strong>must</strong> use the <code class="docutils literal notranslate"><span class="pre">LoadOnly</span></code>
option to specify what is desired.</p>
</section>
<section id="isis-event-monitor">
<h3><a class="toc-backref" href="#id8" role="doc-backlink">ISIS event monitor</a><a class="headerlink" href="#isis-event-monitor" title="Permalink to this heading">¶</a></h3>
<p>ISIS monitor of event mode may contain entry <code class="docutils literal notranslate"><span class="pre">data</span></code>.  In this case,
the monitor of event mode can be loaded in histogram mode.</p>
</section>
</section>
<section id="usage">
<h2><a class="toc-backref" href="#id9" role="doc-backlink">Usage</a><a class="headerlink" href="#usage" title="Permalink to this heading">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To run these usage examples please first download the
<a class="reference external" href="https://sourceforge.net/projects/mantid/files/Sample%20Data/UsageData.zip/download">usage data</a>,
and add these to your path.
In Mantid this is done using <a class="reference internal" href="../interfaces/framework/ManageUserDirectories.html#manageuserdirectories"><span class="std std-ref">Manage User Directories</span></a>.</p>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">ws</span> <span class="o">=</span> <span class="n">LoadNexusMonitors</span><span class="p">(</span><span class="s2">&quot;CNCS_7860_event.nxs&quot;</span><span class="p">)</span>
<span class="c1"># CNCS has 3 monitors</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Number of monitors = </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ws</span><span class="o">.</span><span class="n">getNumberHistograms</span><span class="p">()))</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Number of monitors = 3
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/AlgorithmIndex.html">AlgorithmIndex</a> | <a class="reference external" href="categories/DataHandling/Nexus.html">DataHandling\Nexus</a></p>
</section>
<section id="source">
<h2><a class="toc-backref" href="#id10" role="doc-backlink">Source</a><a class="headerlink" href="#source" title="Permalink to this heading">¶</a></h2>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/aa570da6f199141cd8ad987bf9b9b9281a1b5e33/Framework/DataHandling/inc/MantidDataHandling/LoadNexusMonitors2.h">LoadNexusMonitors2.h</a></p>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/aa570da6f199141cd8ad987bf9b9b9281a1b5e33/Framework/DataHandling/src/LoadNexusMonitors2.cpp">LoadNexusMonitors2.cpp</a></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="LoadNexusMonitors-v1.html" title="Previous Chapter: LoadNexusMonitors v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; LoadNexusMonitors v1</span>
    </a>
  </li>
  <li>
    <a href="LoadNexusProcessed-v1.html" title="Next Chapter: LoadNexusProcessed v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">LoadNexusProcessed v1 &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>