<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>SetSample v1</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="SetSampleFromLogs v1" href="SetSampleFromLogs-v1.html" />
    <link rel="prev" title="SetMDUsingMask v1" href="SetMDUsingMask-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.5</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://www.mantidproject.org">Home</a></li>
                <li><a href="https://download.mantidproject.org">Download</a></li>
                <li><a href="https://docs.mantidproject.org">Documentation</a></li>
                <li><a href="https://www.mantidproject.org/contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Algorithms</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">SetSample v1</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="setsample-v1">
<span id="algm-setsample"></span><span id="algm-setsample-v1"></span><h1>SetSample v1<a class="headerlink" href="#setsample-v1" title="Permalink to this heading">¶</a></h1>
<figure class="align-right" id="id1">
<span id="index-0"></span><a class="screenshot reference internal image-reference" href="../_images/SetSample-v1_dlg.png"><img alt="../_images/SetSample-v1_dlg.png" class="screenshot" src="../_images/SetSample-v1_dlg.png" style="width: 349px;" /></a>
<figcaption>
<p><span class="caption-text"><strong>SetSample</strong> dialog.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#summary" id="id2">Summary</a></p>
<ul>
<li><p><a class="reference internal" href="#see-also" id="id3">See Also</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#properties" id="id4">Properties</a></p></li>
<li><p><a class="reference internal" href="#description" id="id5">Description</a></p>
<ul>
<li><p><a class="reference internal" href="#geometry-and-containergeometry" id="id6">Geometry and ContainerGeometry</a></p></li>
<li><p><a class="reference internal" href="#material-and-containermaterial" id="id7">Material and ContainerMaterial</a></p></li>
<li><p><a class="reference internal" href="#environment" id="id8">Environment</a></p>
<ul>
<li><p><a class="reference internal" href="#environment-definition-file" id="id9">Environment Definition File</a></p></li>
<li><p><a class="reference internal" href="#container-geometry-and-material" id="id10">Container Geometry and Material</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#usage" id="id11">Usage</a></p></li>
<li><p><a class="reference internal" href="#source" id="id12">Source</a></p></li>
</ul>
</nav>
<section id="summary">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Summary</a><a class="headerlink" href="#summary" title="Permalink to this heading">¶</a></h2>
<p>Set properties of the sample and its environment for a workspace</p>
<section id="see-also">
<h3><a class="toc-backref" href="#id3" role="doc-backlink">See Also</a><a class="headerlink" href="#see-also" title="Permalink to this heading">¶</a></h3>
<p><a class="reference internal" href="SetSampleMaterial-v1.html#algm-setsamplematerial"><span class="std std-ref">SetSampleMaterial</span></a>, <a class="reference internal" href="CreateSampleShape-v1.html#algm-createsampleshape"><span class="std std-ref">CreateSampleShape</span></a>, <a class="reference internal" href="CopySample-v1.html#algm-copysample"><span class="std std-ref">CopySample</span></a>, <a class="reference internal" href="SetBeam-v1.html#algm-setbeam"><span class="std std-ref">SetBeam</span></a></p>
</section>
</section>
<section id="properties">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Properties</a><a class="headerlink" href="#properties" title="Permalink to this heading">¶</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Direction</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>InputWorkspace</p></td>
<td><p>InOut</p></td>
<td><p><a class="reference internal" href="../concepts/Workspace.html#workspace"><span class="std std-ref">Workspace</span></a></p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>A workspace whose sample properties will be updated</p></td>
</tr>
<tr class="row-odd"><td><p>Geometry</p></td>
<td><p>Input</p></td>
<td><p>Dictionary</p></td>
<td></td>
<td><p>A dictionary of geometry parameters for the sample.</p></td>
</tr>
<tr class="row-even"><td><p>Material</p></td>
<td><p>Input</p></td>
<td><p>Dictionary</p></td>
<td></td>
<td><p>A dictionary of material parameters for the sample. See SetSampleMaterial for all accepted parameters</p></td>
</tr>
<tr class="row-odd"><td><p>Environment</p></td>
<td><p>Input</p></td>
<td><p>Dictionary</p></td>
<td></td>
<td><p>A dictionary of parameters to configure the sample environment</p></td>
</tr>
<tr class="row-even"><td><p>ContainerGeometry</p></td>
<td><p>Input</p></td>
<td><p>Dictionary</p></td>
<td></td>
<td><p>A dictionary of geometry parameters for the container.</p></td>
</tr>
<tr class="row-odd"><td><p>ContainerMaterial</p></td>
<td><p>Input</p></td>
<td><p>Dictionary</p></td>
<td></td>
<td><p>A dictionary of material parameters for the container.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="description">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Description</a><a class="headerlink" href="#description" title="Permalink to this heading">¶</a></h2>
<p>Set properties of the sample and its environment on a workspace.</p>
<p>The arguments to this algorithm are all expected to be
dictionaries specifying multiple parameters that relate to the
respective argument, as explained below.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Contrary to the <a class="reference internal" href="../concepts/HowToDefineGeometricShape.html#howtodefinegeometricshape"><span class="std std-ref">xml forms of defining the geometry</span></a> which are in metres,
<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a> versions are in centimetres.</p>
</div>
<section id="geometry-and-containergeometry">
<h3><a class="toc-backref" href="#id6" role="doc-backlink">Geometry and ContainerGeometry</a><a class="headerlink" href="#geometry-and-containergeometry" title="Permalink to this heading">¶</a></h3>
<p>Specifies the shape of the sample (and container). This can be specified in the following ways:</p>
<ul class="simple">
<li><p>a sample geometry can be defined in the environment definition file using either CSG or Mesh geometry.
If this approach is taken then the Geometry property can be left blank</p></li>
<li><p>if an environment is specified that already knows the geometry of the sample and that geometry
is defined using a CSG shape (ie non-mesh shape) then the fields of the known geometry container
can be customized. See <a class="reference internal" href="../concepts/SampleEnvironment.html#sampleenvironment"><span class="std std-ref">Sample Environment</span></a> concept page for further details</p></li>
<li><p>a full definition of the shape can be supplied in this property.</p></li>
</ul>
<p>For defining the full shape a key called <code class="docutils literal notranslate"><span class="pre">Shape</span></code> specifying the desired shape is
expected along with additional keys specifying the values (all values are assumed to
be in centimeters):</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">FlatPlate</span></code>: Width, Height, Thick, Center, Angle</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Cylinder</span></code>: Height, Radius, Center, Axis</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">HollowCylinder</span></code>: Height, InnerRadius, OuterRadius, Center, Axis</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FlatPlateHolder</span></code>: Width, Height, Thick, Center, Angle, FrontThick, BackThick. This is a CSG union of 2 FlatPlates tightly wrapping a FlatPlate sample. To be used for the ContainerGeometry.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">HollowCylinderHolder</span></code>: Height, InnerRadius, InnerOuterRadius, OuterInnerRadius, OuterRadius, Center. This is a CSG union of 2 HollowCylinders tightly wrapping a HollowCylinder sample. To be used for the ContainerGeometry.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Sphere</span></code>: Center, Radius</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CSG</span></code>: Value is a string containing any generic shape as detailed in <a class="reference internal" href="../concepts/HowToDefineGeometricShape.html#howtodefinegeometricshape"><span class="std std-ref">How To Define Geometric Shape</span></a></p></li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">Center</span></code> key is expected to be a list of three values indicating the <code class="code highlight docutils literal notranslate"><span class="pre">[X,Y,Z]</span></code>
position of the center, which would be the geometrical center of the shape.
The reference frame of the defined instrument is used to
set the coordinate system for the shape.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">Angle</span></code> argument for a flat plate shape is expected to be in degrees and is defined as
the angle between the positive beam axis and the normal to the face perpendicular to the
beam axis when it is not rotated, increasing in an anti-clockwise sense. The rotation is
performed about the vertical axis of the instrument’s reference frame.</p>
</section>
<section id="material-and-containermaterial">
<h3><a class="toc-backref" href="#id7" role="doc-backlink">Material and ContainerMaterial</a><a class="headerlink" href="#material-and-containermaterial" title="Permalink to this heading">¶</a></h3>
<p>Specifies the composition of the sample (or its container) using properties from the <a class="reference internal" href="SetSampleMaterial-v1.html#algm-setsamplematerial-v1"><span class="std std-ref">SetSampleMaterial v1</span></a> algorithm.
Please see the algorithm documentation for the supported keywords.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Note that for the keys which historically had the <strong>Sample</strong> prefix (e.g. SampleNumberDensity) the prefix should not be specified here; that is, <strong>NumberDensity</strong> instead of <strong>SampleNumberDensity</strong>, etc. However, for backwards compatibility, it works also with prefixes.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Note that this algorithm does not invoke <a class="reference internal" href="SetSampleMaterial-v1.html#algm-setsamplematerial-v1"><span class="std std-ref">SetSampleMaterial v1</span></a> anymore, but sets the material directly through the API.</p>
</div>
</section>
<section id="environment">
<h3><a class="toc-backref" href="#id8" role="doc-backlink">Environment</a><a class="headerlink" href="#environment" title="Permalink to this heading">¶</a></h3>
<p>Specifies the sample environment kit to be used. There are two possibilities:</p>
<section id="environment-definition-file">
<h4><a class="toc-backref" href="#id9" role="doc-backlink">Environment Definition File</a><a class="headerlink" href="#environment-definition-file" title="Permalink to this heading">¶</a></h4>
<p>In this case the environment kit must be defined in the XML format. See <a class="reference internal" href="../concepts/SampleEnvironment.html#sampleenvironment"><span class="std std-ref">Sample Environment</span></a> concept page for further details on how the creating
a definition file.</p>
<p>Three keywords must be specified in the <code class="docutils literal notranslate"><span class="pre">Environment</span></code> dictionary:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Name</span></code>: The name of the predefined kit (required)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Container</span></code>: The id of the container within the predefined kit. (required if there is more than one container defined for the kit).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Path</span></code>: The directory containing the predefined kit, allowing XML files to be loaded from any directory.
If this is not set, then the Sample Environment XML file must be in one of the instrument directories.</p></li>
</ul>
<p>The name of a kit must be unique for a given instrument. The following
procedure is used when trying to find a named definition, e.g <code class="docutils literal notranslate"><span class="pre">CRYO-01</span></code>:</p>
<ul class="simple">
<li><p>check the instrument name on the input workspace:</p>
<ul>
<li><p>if this is a known instrument at a known facility (is in Facilities.xml) then
use these as <code class="docutils literal notranslate"><span class="pre">FACILITY</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">INSTRUMENT</span></code> respectively</p></li>
<li><p>else use the default facility and instrument as <code class="docutils literal notranslate"><span class="pre">FACILITY</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">INSTRUMENT</span></code> respectively</p></li>
</ul>
</li>
<li><p>append <code class="docutils literal notranslate"><span class="pre">.xml</span></code> to the given kit name</p></li>
<li><p>find the current list of directories containing instrument definition files
(see <a class="reference internal" href="../concepts/InstrumentDefinitionFile.html#instrumentdefinitionfile-directories"><span class="std std-ref">Instrument Definition Directories</span></a>
for the default directory list)</p></li>
<li><p>for each (<code class="docutils literal notranslate"><span class="pre">INSTDIR</span></code>) in turn:</p>
<ul>
<li><p>construct a test path <code class="docutils literal notranslate"><span class="pre">INSTDIR/sampleenvironments/FACILITY/INSTRUMENT/CRYO-01.xml</span></code></p></li>
<li><p>if this file exists then select this as the kit file and the search stops</p></li>
<li><p>otherwise if the file does not exist continue onto the next <code class="docutils literal notranslate"><span class="pre">INSTDIR</span></code></p></li>
<li><p>repeat for the facility directories if not found in for the specific instrument</p></li>
</ul>
</li>
</ul>
</section>
<section id="container-geometry-and-material">
<h4><a class="toc-backref" href="#id10" role="doc-backlink">Container Geometry and Material</a><a class="headerlink" href="#container-geometry-and-material" title="Permalink to this heading">¶</a></h4>
<p>You can specify the geometry and the material of a single container directly with the ContainerGeometry and ContainerMaterial dictionaries.
This option is used only when Environment input is left blank. See the sections above for the available keywords to configure those.</p>
</section>
</section>
</section>
<section id="usage">
<h2><a class="toc-backref" href="#id11" role="doc-backlink">Usage</a><a class="headerlink" href="#usage" title="Permalink to this heading">¶</a></h2>
<p>The following example uses a test file called <code class="docutils literal notranslate"><span class="pre">CRYO-01.xml</span></code> in the
<code class="docutils literal notranslate"><span class="pre">[INSTALLDIR]/instrument/sampleenvironments/TEST_LIVE/ISIS_Histogram/</span></code> directory.</p>
<p>If the examples are run via the Mantid user interface then double instead of single quotes will need to be
used for the dictionary parameters.</p>
<p><strong>Example - Container with preset cylinderical sample geometry</strong></p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># A fake host workspace, replace this with your real one.</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">()</span>

<span class="c1"># Use geometry as is from environment definition</span>
<span class="n">SetSample</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span> <span class="n">Environment</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Name&#39;</span><span class="p">:</span> <span class="s1">&#39;CRYO-01&#39;</span><span class="p">,</span> <span class="s1">&#39;Container&#39;</span><span class="p">:</span> <span class="s1">&#39;8mm&#39;</span><span class="p">},</span>
          <span class="n">Material</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;ChemicalFormula&#39;</span><span class="p">:</span> <span class="s1">&#39;(Li7)2-C-H4-N-Cl6&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;NumberDensity&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">})</span>
</pre></div>
</div>
<p><strong>Example - Override height of preset cylinder sample</strong></p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># A fake host workspace, replace this with your real one.</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">()</span>
<span class="c1"># Use geometry from environment but set different height for sample</span>
<span class="n">SetSample</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span> <span class="n">Environment</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Name&#39;</span><span class="p">:</span> <span class="s1">&#39;CRYO-01&#39;</span><span class="p">,</span> <span class="s1">&#39;Container&#39;</span><span class="p">:</span> <span class="s1">&#39;8mm&#39;</span><span class="p">},</span>
          <span class="n">Geometry</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Height&#39;</span><span class="p">:</span> <span class="mf">4.0</span><span class="p">},</span>
          <span class="n">Material</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;ChemicalFormula&#39;</span><span class="p">:</span> <span class="s1">&#39;(Li7)2-C-H4-N-Cl6&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;NumberDensity&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">})</span>
</pre></div>
</div>
<p><strong>Example - Specify height and mass of preset cylinder sample</strong></p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># A fake host workspace, replace this with your real one.</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">()</span>
<span class="c1"># Use geometry from environment but set different height for sample</span>
<span class="c1"># and calculate density with supplied sample mass</span>
<span class="n">SetSample</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span> <span class="n">Environment</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Name&#39;</span><span class="p">:</span> <span class="s1">&#39;CRYO-01&#39;</span><span class="p">,</span> <span class="s1">&#39;Container&#39;</span><span class="p">:</span> <span class="s1">&#39;8mm&#39;</span><span class="p">},</span>
          <span class="n">Geometry</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Height&#39;</span><span class="p">:</span> <span class="mf">4.0</span><span class="p">},</span>
          <span class="n">Material</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;ChemicalFormula&#39;</span><span class="p">:</span> <span class="s1">&#39;(Li7)2-C-H4-N-Cl6&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;Mass&#39;</span><span class="p">:</span> <span class="mf">3.0</span><span class="p">})</span>
</pre></div>
</div>
<p><strong>Example - Override complete sample geometry</strong></p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># A fake host workspace, replace this with your real one.</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">()</span>
<span class="c1"># Use geometry from environment but set different height for sample</span>
<span class="n">SetSample</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span> <span class="n">Environment</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Name&#39;</span><span class="p">:</span> <span class="s1">&#39;CRYO-01&#39;</span><span class="p">,</span> <span class="s1">&#39;Container&#39;</span><span class="p">:</span> <span class="s1">&#39;8mm&#39;</span><span class="p">},</span>
          <span class="n">Geometry</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Shape&#39;</span><span class="p">:</span> <span class="s1">&#39;HollowCylinder&#39;</span><span class="p">,</span> <span class="s1">&#39;Height&#39;</span><span class="p">:</span> <span class="mf">4.0</span><span class="p">,</span>
                    <span class="s1">&#39;InnerRadius&#39;</span><span class="p">:</span> <span class="mf">0.8</span><span class="p">,</span> <span class="s1">&#39;OuterRadius&#39;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
                    <span class="s1">&#39;Center&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">]},</span>
          <span class="n">Material</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;ChemicalFormula&#39;</span><span class="p">:</span> <span class="s1">&#39;(Li7)2-C-H4-N-Cl6&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;NumberDensity&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">})</span>
</pre></div>
</div>
<p><strong>Example - Use sphere sample geometry</strong></p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># A fake host workspace, replace this with your real one.</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">()</span>

<span class="c1"># Set sample geometry of workspace to a Sphere</span>
<span class="n">SetSample</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span> <span class="n">Geometry</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Shape&#39;</span><span class="p">:</span> <span class="s1">&#39;Sphere&#39;</span><span class="p">,</span>
              <span class="s1">&#39;Radius&#39;</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span> <span class="s1">&#39;Center&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">]})</span>
</pre></div>
</div>
<p><strong>Example - Flat plate sample in a flat plate holder container</strong></p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># A fake host workspace, replace this with your real one.</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">()</span>
<span class="n">SetSample</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span>
        <span class="n">Geometry</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Shape&#39;</span><span class="p">:</span> <span class="s1">&#39;FlatPlate&#39;</span><span class="p">,</span> <span class="s1">&#39;Height&#39;</span><span class="p">:</span> <span class="mf">4.0</span><span class="p">,</span>
                  <span class="s1">&#39;Width&#39;</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span> <span class="s1">&#39;Thick&#39;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
                  <span class="s1">&#39;Center&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">]},</span>
        <span class="n">Material</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;ChemicalFormula&#39;</span><span class="p">:</span> <span class="s1">&#39;(Li7)2-C-H4-N-Cl6&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;NumberDensity&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">},</span>
        <span class="n">ContainerGeometry</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Shape&#39;</span><span class="p">:</span> <span class="s1">&#39;FlatPlateHolder&#39;</span><span class="p">,</span> <span class="s1">&#39;Height&#39;</span><span class="p">:</span> <span class="mf">4.0</span><span class="p">,</span>
                  <span class="s1">&#39;Width&#39;</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span> <span class="s1">&#39;Thick&#39;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span> <span class="s1">&#39;FrontThick&#39;</span><span class="p">:</span> <span class="mf">0.3</span><span class="p">,</span> <span class="s1">&#39;BackThick&#39;</span><span class="p">:</span> <span class="mf">0.4</span><span class="p">,</span>
                  <span class="s1">&#39;Center&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">]},</span>
        <span class="n">ContainerMaterial</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;ChemicalFormula&#39;</span><span class="p">:</span> <span class="s1">&#39;Al&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;NumberDensity&#39;</span><span class="p">:</span> <span class="mf">0.01</span><span class="p">})</span>
</pre></div>
</div>
<p><strong>Example - Cylinder sample in a hollow cylinder container</strong></p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># A fake host workspace, replace this with your real one.</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">()</span>
<span class="n">SetSample</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span>
        <span class="n">Geometry</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Shape&#39;</span><span class="p">:</span> <span class="s1">&#39;Cylinder&#39;</span><span class="p">,</span> <span class="s1">&#39;Height&#39;</span><span class="p">:</span> <span class="mf">4.0</span><span class="p">,</span>
                  <span class="s1">&#39;Radius&#39;</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span> <span class="s1">&#39;Center&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">]},</span>
        <span class="n">Material</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;ChemicalFormula&#39;</span><span class="p">:</span> <span class="s1">&#39;(Li7)2-C-H4-N-Cl6&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;NumberDensity&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">},</span>
        <span class="n">ContainerGeometry</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Shape&#39;</span><span class="p">:</span> <span class="s1">&#39;HollowCylinder&#39;</span><span class="p">,</span> <span class="s1">&#39;Height&#39;</span><span class="p">:</span> <span class="mf">4.0</span><span class="p">,</span>
                  <span class="s1">&#39;InnerRadius&#39;</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span> <span class="s1">&#39;OuterRadius&#39;</span><span class="p">:</span> <span class="mf">2.3</span><span class="p">,</span>
                  <span class="s1">&#39;Center&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">]},</span>
        <span class="n">ContainerMaterial</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;ChemicalFormula&#39;</span><span class="p">:</span> <span class="s1">&#39;Al&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;NumberDensity&#39;</span><span class="p">:</span> <span class="mf">0.01</span><span class="p">})</span>
</pre></div>
</div>
<p><strong>Example - Hollow cylinder sample in a hollow cylinder holder container</strong></p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># A fake host workspace, replace this with your real one.</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">()</span>
<span class="n">SetSample</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span>
        <span class="n">Geometry</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Shape&#39;</span><span class="p">:</span> <span class="s1">&#39;HollowCylinder&#39;</span><span class="p">,</span> <span class="s1">&#39;Height&#39;</span><span class="p">:</span> <span class="mf">4.0</span><span class="p">,</span>
                  <span class="s1">&#39;InnerRadius&#39;</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span> <span class="s1">&#39;OuterRadius&#39;</span><span class="p">:</span> <span class="mf">3.0</span><span class="p">,</span> <span class="s1">&#39;Center&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">]},</span>
        <span class="n">Material</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;ChemicalFormula&#39;</span><span class="p">:</span> <span class="s1">&#39;(Li7)2-C-H4-N-Cl6&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;NumberDensity&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">},</span>
        <span class="n">ContainerGeometry</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Shape&#39;</span><span class="p">:</span> <span class="s1">&#39;HollowCylinderHolder&#39;</span><span class="p">,</span> <span class="s1">&#39;Height&#39;</span><span class="p">:</span> <span class="mf">4.0</span><span class="p">,</span>
                  <span class="s1">&#39;InnerRadius&#39;</span><span class="p">:</span> <span class="mf">1.5</span><span class="p">,</span> <span class="s1">&#39;InnerOuterRadius&#39;</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span> <span class="s1">&#39;OuterInnerRadius&#39;</span><span class="p">:</span> <span class="mf">3.0</span><span class="p">,</span> <span class="s1">&#39;OuterRadius&#39;</span><span class="p">:</span> <span class="mf">4.0</span><span class="p">,</span>
                  <span class="s1">&#39;Center&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">]},</span>
        <span class="n">ContainerMaterial</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;ChemicalFormula&#39;</span><span class="p">:</span> <span class="s1">&#39;Al&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;NumberDensity&#39;</span><span class="p">:</span> <span class="mf">0.01</span><span class="p">})</span>
</pre></div>
</div>
<p><strong>Example - Specify shape using CSG object</strong></p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># A fake host workspace, replace this with your real one.</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">()</span>
<span class="c1"># Specify an Infinite Cylinder geometry using CSG</span>
<span class="n">infinite_cylinder_xml</span> <span class="o">=</span> <span class="s2">&quot; </span><span class="se">\</span>
<span class="s2">&lt;infinite-cylinder id=&#39;some-cylinder&#39;&gt; </span><span class="se">\</span>
<span class="s2">    &lt;centre x=&#39;0.0&#39;  y=&#39;0.2&#39; z=&#39;0&#39; /&gt; </span><span class="se">\</span>
<span class="s2">        &lt;axis x=&#39;0.0&#39;  y=&#39;0.2&#39; z=&#39;0&#39; /&gt; </span><span class="se">\</span>
<span class="s2">    &lt;radius val=&#39;1&#39; /&gt; </span><span class="se">\</span>
<span class="s2">&lt;/infinite-cylinder&gt; </span><span class="se">\</span>
<span class="s2">&lt;algebra val=&#39;some-cylinder&#39; /&gt; </span><span class="se">\</span>
<span class="s2">&quot;</span>
<span class="c1"># Set sample geometry of workspace to this CSG object Sphere</span>
<span class="n">SetSample</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span> <span class="n">Geometry</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Shape&#39;</span><span class="p">:</span> <span class="s1">&#39;CSG&#39;</span><span class="p">,</span> <span class="s1">&#39;Value&#39;</span><span class="p">:</span> <span class="n">infinite_cylinder_xml</span><span class="p">})</span>
</pre></div>
</div>
<p><strong>Example - SetGoniometer to apply automatic rotation to Sample Shape.</strong></p>
<p>SetSample can be used to apply an automatic goniometer rotation. <a class="reference internal" href="SetGoniometer-v1.html#algm-setgoniometer"><span class="std std-ref">SetGoniometer</span></a> should be called before SetSample.
After running this example code to rotate a cuboid by 30° anti-clockwise around y, the sample shape can be plotted (see <a class="reference internal" href="../plotting/MeshPlotHelp.html#mesh-plots"><span class="std std-ref">3D Mesh Plots for Sample Shapes</span></a>):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">cuboid</span> <span class="o">=</span> <span class="s2">&quot; </span><span class="se">\</span>
<span class="s2">&lt;cuboid id=&#39;some-cuboid&#39;&gt; </span><span class="se">\</span>
<span class="s2">&lt;height val=&#39;2.0&#39;  /&gt; </span><span class="se">\</span>
<span class="s2">&lt;width val=&#39;2.0&#39; /&gt;  </span><span class="se">\</span>
<span class="s2">&lt;depth  val=&#39;0.2&#39; /&gt;  </span><span class="se">\</span>
<span class="s2">&lt;centre x=&#39;10.0&#39; y=&#39;10.0&#39; z=&#39;10.0&#39;  /&gt;  </span><span class="se">\</span>
<span class="s2">&lt;/cuboid&gt;  </span><span class="se">\</span>
<span class="s2">&lt;algebra val=&#39;some-cuboid&#39; /&gt; </span><span class="se">\</span>
<span class="s2">&quot;</span>

<span class="n">ws</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">()</span>
<span class="n">SetGoniometer</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span> <span class="n">Axis0</span><span class="o">=</span><span class="s2">&quot;30,0,1,0,-1&quot;</span><span class="p">)</span>
<span class="n">SetSample</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span> <span class="n">Geometry</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Shape&#39;</span><span class="p">:</span> <span class="s1">&#39;CSG&#39;</span><span class="p">,</span> <span class="s1">&#39;Value&#39;</span><span class="p">:</span> <span class="n">cuboid</span><span class="p">})</span>
</pre></div>
</div>
<p>(<a class="reference external" href="../algorithms/SetSample-v1-1.py">Source code</a>, <a class="reference external" href="../algorithms/SetSample-v1-1.png">png</a>, <a class="reference external" href="../algorithms/SetSample-v1-1.hires.png">hires.png</a>, <a class="reference external" href="../algorithms/SetSample-v1-1.pdf">pdf</a>)</p>
<figure class="align-default">
<img alt="../_images/SetSample-v1-1.png" class="plot-directive" src="../_images/SetSample-v1-1.png" />
</figure>
<p><strong>Categories</strong>: <a class="reference external" href="categories/AlgorithmIndex.html">AlgorithmIndex</a> | <a class="reference external" href="categories/Sample.html">Sample</a></p>
</section>
<section id="source">
<h2><a class="toc-backref" href="#id12" role="doc-backlink">Source</a><a class="headerlink" href="#source" title="Permalink to this heading">¶</a></h2>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/aa570da6f199141cd8ad987bf9b9b9281a1b5e33/Framework/DataHandling/inc/MantidDataHandling/SetSample.h">SetSample.h</a></p>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/aa570da6f199141cd8ad987bf9b9b9281a1b5e33/Framework/DataHandling/src/SetSample.cpp">SetSample.cpp</a></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="SetMDUsingMask-v1.html" title="Previous Chapter: SetMDUsingMask v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; SetMDUsingMask v1</span>
    </a>
  </li>
  <li>
    <a href="SetSampleFromLogs-v1.html" title="Next Chapter: SetSampleFromLogs v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">SetSampleFromLogs v1 &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>