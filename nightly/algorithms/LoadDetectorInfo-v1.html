<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>LoadDetectorInfo v1</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="LoadDetectorsGroupingFile v1" href="LoadDetectorsGroupingFile-v1.html" />
    <link rel="prev" title="LoadDaveGrp v1" href="LoadDaveGrp-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.5</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://docs.mantidproject.org/nightly/">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Algorithms</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">LoadDetectorInfo v1</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="loaddetectorinfo-v1">
<span id="algm-loaddetectorinfo"></span><span id="algm-loaddetectorinfo-v1"></span><h1>LoadDetectorInfo v1<a class="headerlink" href="#loaddetectorinfo-v1" title="Permalink to this heading">¶</a></h1>
<figure class="align-right" id="id1">
<span id="index-0"></span><a class="screenshot reference internal image-reference" href="../_images/LoadDetectorInfo-v1_dlg.png"><img alt="../_images/LoadDetectorInfo-v1_dlg.png" class="screenshot" src="../_images/LoadDetectorInfo-v1_dlg.png" style="width: 447px;" /></a>
<figcaption>
<p><span class="caption-text"><strong>LoadDetectorInfo</strong> dialog.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#summary" id="id2">Summary</a></p>
<ul>
<li><p><a class="reference internal" href="#see-also" id="id3">See Also</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#properties" id="id4">Properties</a></p></li>
<li><p><a class="reference internal" href="#description" id="id5">Description</a></p>
<ul>
<li><p><a class="reference internal" href="#related-or-similar-algorithms" id="id6">Related or similar algorithms</a></p></li>
<li><p><a class="reference internal" href="#detectors-dat-data-format" id="id7"><strong>Detectors.dat</strong> data format</a></p></li>
<li><p><a class="reference internal" href="#co-ordinate-frames" id="id8">Co-ordinate frames</a></p></li>
<li><p><a class="reference internal" href="#file-format" id="id9">File format</a></p></li>
<li><p><a class="reference internal" href="#isis-detector-dat-raw-files" id="id10">ISIS DETECTOR.DAT raw files</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#usage" id="id11">Usage</a></p></li>
<li><p><a class="reference internal" href="#source" id="id12">Source</a></p></li>
</ul>
</nav>
<section id="summary">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Summary</a><a class="headerlink" href="#summary" title="Permalink to this heading">¶</a></h2>
<p>Loads delay times, tube pressures, tube wall thicknesses and, if necessary, the detectors positions from a given special format file</p>
<section id="see-also">
<h3><a class="toc-backref" href="#id3" role="doc-backlink">See Also</a><a class="headerlink" href="#see-also" title="Permalink to this heading">¶</a></h3>
<p><a class="reference internal" href="LoadRaw-v3.html#algm-loadraw"><span class="std std-ref">LoadRaw</span></a>, <a class="reference internal" href="LoadNexus-v1.html#algm-loadnexus"><span class="std std-ref">LoadNexus</span></a></p>
</section>
</section>
<section id="properties">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Properties</a><a class="headerlink" href="#properties" title="Permalink to this heading">¶</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Direction</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Workspace</p></td>
<td><p>InOut</p></td>
<td><p><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a></p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>The name of the workspace to that the detector information will be loaded into.</p></td>
</tr>
<tr class="row-odd"><td><p>DataFilename</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>A <strong>raw, dat, nxs</strong> or <strong>sca</strong> file that contains information about the detectors in the workspace. The description of <strong>dat</strong> and <strong>nxs</strong> file format is provided below. Allowed extensions: [‘.dat’, ‘.raw’, ‘.sca’, ‘.nxs’]</p></td>
</tr>
<tr class="row-even"><td><p>RelocateDets</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>False</p></td>
<td><p>If true, the detectors are moved to the positions specified in the file defined by the field above.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="description">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Description</a><a class="headerlink" href="#description" title="Permalink to this heading">¶</a></h2>
<p>The algorithm loads specific detector properties and, if <em>RelocateDets</em> property is true, the detector positions into the instrument,
attached to the target workspace and modifies these properties as described below.</p>
<p>The detection time delay for each detector is subtracted from the time of flight bin boundaries in the spectrum associated with that detector.
It is required that all the monitors have the same time delay and if this is non-zero the delay time is added to all TOF values.
It is important that the units of the input workspace are TOF in microseconds, that <a class="reference internal" href="GroupDetectors-v2.html#algm-groupdetectors"><span class="std std-ref">GroupDetectors v2</span></a>
has not been run and this algorithm is only applied once to a workspace.</p>
<p>Values for the partial pressure of <strong>3He</strong> and <strong>wall thickness</strong> are added into the parameter map for each detector
in a form that can be read by <a class="reference internal" href="DetectorEfficiencyCor-v1.html#algm-detectorefficiencycor"><span class="std std-ref">DetectorEfficiencyCor v1</span></a>. That is, the values are assumed to be in atmospheres
and meters, respectively, and the properties are stored internally in the workspace parameter map as <strong>3He(atm)</strong> and <strong>wallT(m)</strong>.
The values are likely to be read from the same <strong>RAW</strong> file that the workspace was loaded from or a
<strong>DAT</strong> file that corresponds to the same run or series of experimental runs.</p>
<p>Spectra whose associated detector data are not found in the input <strong>DAT</strong> or <strong>RAW</strong> file will not have their
time of flight bin boundaries adjusted. Similarly nothing will be written to the parameter map for those detectors,
the algorithm will continue to process data as normal but a warning will be written to the log.
Detectors that are listed in the input file but do not exist in the instrument definition file will be ignored and details will be written to the log.</p>
<p>If all the time offsets are the same and the file <strong>appears</strong> to contain enough data for all detectors
all detector spectra will use same bin boundaries, where possible.
This will make the algorithm run much more quickly and use less memory.</p>
<p>When using a <strong>RAW</strong> file the time offset for each detector is read from the “hold off” table in the file’s
header while pressure and wall thickness data must be present in the user table array.
The format for <strong>.DAT</strong> files is specified in the document <strong>DETECTOR.DAT format</strong> written by Prof G Toby Perring and briefly described below.</p>
<p>If the RelocateDets option is set to true, (it is false by default)
then the detectors are moved to the corresponding positions specified in the data file provided.</p>
<section id="related-or-similar-algorithms">
<h3><a class="toc-backref" href="#id6" role="doc-backlink">Related or similar algorithms</a><a class="headerlink" href="#related-or-similar-algorithms" title="Permalink to this heading">¶</a></h3>
<p>See <a class="reference internal" href="UpdateInstrumentFromFile-v1.html#algm-updateinstrumentfromfile"><span class="std std-ref">UpdateInstrumentFromFile v1</span></a> which can do similar job in modifying the detector parameters and positions and  accepting arbitrary ASCII files.</p>
</section>
<section id="detectors-dat-data-format">
<h3><a class="toc-backref" href="#id7" role="doc-backlink"><strong>Detectors.dat</strong> data format</a><a class="headerlink" href="#detectors-dat-data-format" title="Permalink to this heading">¶</a></h3>
<p>The the detector data can be stored as ASCII or <a class="reference external" href="http://download.nexusformat.org/">NeXus</a> data file. It contains roughly corresponds
to the detector.dat file, present on the instrument and written to the run files. The contents of these data can be overwritten by the file,
provided as input for this algorithm</p>
<p>The description of the ASCII DETECTOR.dat file is provided in the table below. Nexus file format can come in two flavors.
The first one is completely equivalent to the ASCII 19 column data format and introduced to increase the speed of accessing these data in binary format,
where the second one left for the compatibility with Libisis.
It has meaningful data corresponding to the columns 1-6, 17&amp;18 below, but does not support multiple tube pressures and wall thickness.</p>
<p>The <a class="reference internal" href="#algm-loaddetectorinfo"><span class="std std-ref">LoadDetectorInfo v1</span></a> algorithm currently reads and interprets rows 1-6,17&amp;18 of the table,
provided below (or columns of det.dat file) or correspondent data blocks from the NeXus file.
It also does not understand the short (15 columns) MARI detector.dat ASCII file format (see <strong>ISIS detector.dat files</strong> below).</p>
</section>
<section id="co-ordinate-frames">
<h3><a class="toc-backref" href="#id8" role="doc-backlink">Co-ordinate frames</a><a class="headerlink" href="#co-ordinate-frames" title="Permalink to this heading">¶</a></h3>
<p>For the purposes of the detector table we choose a right handed set of axes fixed in the spectrometer:</p>
<ul class="simple">
<li><p>x-axis  – horizontal</p></li>
<li><p>y-axis  – vertical</p></li>
<li><p>z-axis  – parallel to <span class="math notranslate nohighlight">\(k_{i}\)</span></p></li>
</ul>
<p>Centers of each detector element are defined in spherical polar co-ordinates as seen from the sample position:</p>
<ul class="simple">
<li><p><strong>THETA</strong> –  Polar angle measured from the z-axis (what we would normally call the scattering angle PHI). Note that  0&lt; <strong>THETA</strong> &lt;180</p></li>
<li><dl class="simple">
<dt><strong>PHI</strong>   –  Azimuthal angle measured from the x-axis in a right handed sense (what TGP, CDF and RD01 call -BETA).</dt><dd><p>For example, the West Bank of HET has PHI=0, the North Bank has PHI=90, the South Bank has PHI=270.</p>
</dd>
</dl>
</li>
</ul>
<p>To specify the orientation of a detector, define axes x’, y’, z’ as follows:</p>
<ul class="simple">
<li><p>x’-axis – increasing THETA</p></li>
<li><p>y’-axis – increasing PHI</p></li>
<li><p>z’-axis – parallel to the line joining sample and detector</p></li>
</ul>
<p>The natural coordinate frame for the detector, xd, yd, zd, may not coincide with x’, y’, z’.
For example, the natural frame for a gas tube is with zd along the axis of the tube, and the direction of xd chosen to be perpendicular to the line joining the detector with the sample.
The characteristic dimensions of the detector, W_x, W_y, W_z, are given in the frame xd, yd, zd.
The detector coordinate axes xd, yd, zd are related to x’, y’, z’ by a rotation.
The transformation is be expressed by a three-component vector  <span class="math notranslate nohighlight">\(\alpha_{x},\alpha_{y},\alpha_{z}\)</span>,
where the magnitude of  the vector gives the angle of rotation in a right-hand sense,
and the normalized elements give the components along x’, y’, z’ of the unit vector about which the rotation takes place.
The magnitude of the vector is in degrees.</p>
<ul class="simple">
<li><dl class="simple">
<dt>e.g. non-PSD gas tube on the Debye-Scherrer cone:</dt><dd><p><span class="math notranslate nohighlight">\(\alpha_{x} = -90^{o};\alpha_{y} = \alpha_{z} = 0^{o}; W_{x}=W_{y}= 0.0254, W_{z}=0.300\)</span></p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>e.g. Davidson bead monitor filling the HET beam at the monitor_2 position:</dt><dd><p><span class="math notranslate nohighlight">\(\alpha_{x} =\alpha_{y}= \alpha_{z} = 0^{o}; W_{x}=W_{y}=0.045, W_{z}=0.00025\)</span></p>
</dd>
</dl>
</li>
</ul>
<p>Note that for PSD detectors the angles and dimensions refer to the pixel, not the whole tube. For HET, <span class="math notranslate nohighlight">\(W_{z}= 0.914/64 = 0.01428\)</span>.</p>
</section>
<section id="file-format">
<h3><a class="toc-backref" href="#id9" role="doc-backlink">File format</a><a class="headerlink" href="#file-format" title="Permalink to this heading">¶</a></h3>
<p>The file consists of number of ASCII columns, separated by spaces. All distances are in meters, and all angles in degrees.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Column Number</p></th>
<th class="head"><p>Column Name</p></th>
<th class="head"><p>Column Type</p></th>
<th class="head"><p>Column Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>DET_NO</p></td>
<td><p>integer</p></td>
<td><p>Detector index number as in SPECTRA.DAT</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>DELTA</p></td>
<td><p>real</p></td>
<td><p>Electronics delay time ( <span class="math notranslate nohighlight">\(\mu s\)</span> ). The origin is up to you. HOMER uses the peak in monitor_2
as the origin of time, so the only thing that really matters is the difference in the delay
time between the detectors and the monitors.</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>L2</p></td>
<td><p>real</p></td>
<td><p>Sample - detector distance (m)</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>CODE</p></td>
<td><p>integer</p></td>
<td><p>Code number that describes the detector type.  Up to now this column has
been redundant so the old files can contain unity for all detectors.
Proper detectors should now follow the scheme:</p>
<ol class="arabic simple" start="0">
<li><p>Dummy detector entry (see later)</p></li>
<li><p>Davidson scintillator bead monitor (or just monitor)</p></li>
<li><p>non-PSD gas tube</p></li>
<li><p>PSD gas tube</p></li>
</ol>
</td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p>THETA</p></td>
<td><p>real</p></td>
<td><p>Scattering angle (deg)</p></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td><p>PHI</p></td>
<td><p>real</p></td>
<td><p>Azimuthal angle (deg). Origin and rotation sense defined above</p></td>
</tr>
<tr class="row-even"><td><p>7</p></td>
<td><p><span class="math notranslate nohighlight">\(W_{x}\)</span></p></td>
<td><p>real</p></td>
<td><p>True detector dimensions (m) in the frame xd’</p></td>
</tr>
<tr class="row-odd"><td><p>8</p></td>
<td><p><span class="math notranslate nohighlight">\(W_{y}\)</span></p></td>
<td><p>real</p></td>
<td><p>True detector dimensions (m) in the frame yd’</p></td>
</tr>
<tr class="row-even"><td><p>9</p></td>
<td><p><span class="math notranslate nohighlight">\(W_{z}\)</span></p></td>
<td><p>real</p></td>
<td><p>True detector dimensions (m) in the frame zd’</p></td>
</tr>
<tr class="row-odd"><td><p>10</p></td>
<td><p>F_x</p></td>
<td><p>real</p></td>
<td><p>False detector dimensions (m) in the frame xd’ to avoid gaps between detectors</p></td>
</tr>
<tr class="row-even"><td><p>11</p></td>
<td><p>F_y</p></td>
<td><p>real</p></td>
<td><p>False detector dimensions (m) in the frame yd’ to avoid gaps between detectors</p></td>
</tr>
<tr class="row-odd"><td><p>12</p></td>
<td><p>F_z</p></td>
<td><p>real</p></td>
<td><p>False detector dimensions (m) in the frame zd’ to avoid gaps between detectors</p></td>
</tr>
<tr class="row-even"><td><p>13</p></td>
<td><p><span class="math notranslate nohighlight">\(\alpha_{x}\)</span></p></td>
<td><p>real</p></td>
<td><p>x-coordinate of the vector describing orientation of detector in the co-ordinate frame defined above.</p></td>
</tr>
<tr class="row-odd"><td><p>14</p></td>
<td><p><span class="math notranslate nohighlight">\(\alpha_{y}\)</span></p></td>
<td><p>real</p></td>
<td><p>y-coordinate of the vector describing orientation of detector in the co-ordinate frame defined above.</p></td>
</tr>
<tr class="row-even"><td><p>15</p></td>
<td><p><span class="math notranslate nohighlight">\(\alpha_{z}\)</span></p></td>
<td><p>real</p></td>
<td><p>z-coordinate of the vector describing orientation of detector in the co-ordinate frame defined above.</p></td>
</tr>
<tr class="row-odd"><td colspan="4"><p>The columns with numbers higher then those described above contain information about the detectors that is dependent on the detector type:</p></td>
</tr>
<tr class="row-even"><td colspan="4"><p><strong>CODE = 0 (Dummy detector entry)</strong> :</p></td>
</tr>
<tr class="row-odd"><td><p>16</p></td>
<td><p>det_1</p></td>
<td><p>real</p></td>
<td><p>Frequently, some of the inputs to the data acquisition electronics do not have any detectors
plugged into them. To ensure that any noise on these inputs is safely directed to a ‘dust-bin’
spectrum, they are given detector numbers which are associated with spectrum 0 in SPECTRA.DAT.
Dummy entries in DETECTOR.DAT are required for each of these dummy detectors.
These entries should be given detector CODE = 0, which will be used to indicate that the other
entries in DETECTOR.DAT can be ignored. For the sake of clarity, set all DELTA, L2…DET_4 to
zero for dummy detectors.</p></td>
</tr>
<tr class="row-even"><td><p>17</p></td>
<td><p>det_2</p></td>
<td><p>real</p></td>
<td><p>The same as 16</p></td>
</tr>
<tr class="row-odd"><td><p>18</p></td>
<td><p>det_2</p></td>
<td><p>real</p></td>
<td><p>The same as 16</p></td>
</tr>
<tr class="row-even"><td><p>19</p></td>
<td><p>det_2</p></td>
<td><p>real</p></td>
<td><p>The same as 16</p></td>
</tr>
<tr class="row-odd"><td colspan="4"><p><strong>CODE = 1 (monitor)</strong> :</p></td>
</tr>
<tr class="row-even"><td><p>16</p></td>
<td><p>det_1</p></td>
<td><p>real</p></td>
<td><p>Dead time  ( <span class="math notranslate nohighlight">\(\mu s\)</span> ). Important for old detectors and high counting rate.</p></td>
</tr>
<tr class="row-odd"><td><p>17</p></td>
<td><p>det_2</p></td>
<td><p>real</p></td>
<td><p>Macroscopic absorption cross-section <span class="math notranslate nohighlight">\(\Sigma ;(m^{-1}meV^{-0.5})\)</span>.
For our monitors this is for Li scintillator glass. (I think I know what <span class="math notranslate nohighlight">\(\Sigma\)</span>;
is approximately, but we don’t at present use it anywhere, so set to zero)</p></td>
</tr>
<tr class="row-even"><td><p>18</p></td>
<td><p>det_3</p></td>
<td><p>real</p></td>
<td><p>Ignored. Set to zero</p></td>
</tr>
<tr class="row-odd"><td><p>19</p></td>
<td><p>det_4</p></td>
<td><p>real</p></td>
<td><p>Ignored. Set to zero</p></td>
</tr>
<tr class="row-even"><td colspan="4"><p><strong>CODE = 2 (non-PSD gas tube)</strong> :</p></td>
</tr>
<tr class="row-odd"><td><p>16</p></td>
<td><p>det_1</p></td>
<td><p>real</p></td>
<td><p>Dead time ( <span class="math notranslate nohighlight">\(\mu s\)</span> ). Important for old detectors and high counting rate.</p></td>
</tr>
<tr class="row-even"><td><p>17</p></td>
<td><p>det_2</p></td>
<td><p>real</p></td>
<td><p>Gas tube detector <strong>3He</strong> partial pressure (atms)</p></td>
</tr>
<tr class="row-odd"><td><p>18</p></td>
<td><p>det_3</p></td>
<td><p>real</p></td>
<td><p>Gas tube wall thickness (m) ( 0.00080 )</p></td>
</tr>
<tr class="row-even"><td><p>19</p></td>
<td><p>det_4</p></td>
<td><p>real</p></td>
<td><p>Ignored. Set to zero</p></td>
</tr>
<tr class="row-odd"><td colspan="4"><p><strong>CODE = 3  (PSD gas tube)</strong> :</p></td>
</tr>
<tr class="row-even"><td><p>16</p></td>
<td><p>det_1</p></td>
<td><p>real</p></td>
<td><p>Dead time ( <span class="math notranslate nohighlight">\(\mu s\)</span> ). Important for old detectors and high counting rate.</p></td>
</tr>
<tr class="row-odd"><td><p>17</p></td>
<td><p>det_2</p></td>
<td><p>real</p></td>
<td><p>Gas tube detector <strong>3He</strong> partial pressure (atms) (10.0 or 6.4)</p></td>
</tr>
<tr class="row-even"><td><p>18</p></td>
<td><p>det_3</p></td>
<td><p>real</p></td>
<td><p>Gas tube wall thickness (m) ( 0.00080 )</p></td>
</tr>
<tr class="row-odd"><td><p>19</p></td>
<td><p>det_4</p></td>
<td><p>real</p></td>
<td><p>Index of tube to which the pixel belongs. Each PSD gas tube must be given a unique identifier.
This enables programs that use DETECTOR.DAT to recognize that pixels have come from the same PSD tube.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="isis-detector-dat-raw-files">
<h3><a class="toc-backref" href="#id10" role="doc-backlink">ISIS DETECTOR.DAT raw files</a><a class="headerlink" href="#isis-detector-dat-raw-files" title="Permalink to this heading">¶</a></h3>
<p>The ISIS raw files seem to have two possible entries - MARI is non-standard for some reason. The table below describes correspondence between the fields
in ASCII file above and the data containing in DETECTOR.DAT file present on data acquisition machine  and the data written to the RAW file on different ISIS instruments.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>Field</p></th>
<th class="head" colspan="2"><p>Field name in RAW file</p></th>
</tr>
<tr class="row-even"><th class="head"><p>N</p></th>
<th class="head"><p>Name in
ASCII file,
table above</p></th>
<th class="head"><p>All instruments:
Fields in use:14
ASCII ncol:19</p></th>
<th class="head"><p>MARI fields:
In use:10.
ASCII ncol:15</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>1</p></td>
<td><p>det_no</p></td>
<td><p>spec</p></td>
<td><p>spec</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>delta</p></td>
<td><p>delt</p></td>
<td><p>delt</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>l2</p></td>
<td><p>len2</p></td>
<td><p>len2</p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p>code</p></td>
<td><p>code</p></td>
<td><p>code</p></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td><p>theta</p></td>
<td><p>tthe</p></td>
<td><p>tthe</p></td>
</tr>
<tr class="row-even"><td><p>6</p></td>
<td><p>phi</p></td>
<td><p>ut1</p></td>
<td><p>ut1</p></td>
</tr>
<tr class="row-odd"><td><p>7</p></td>
<td><p><span class="math notranslate nohighlight">\(W_{x}\)</span></p></td>
<td><p>ut2</p></td>
<td><p>ut2</p></td>
</tr>
<tr class="row-even"><td><p>8</p></td>
<td><p><span class="math notranslate nohighlight">\(W_{y}\)</span></p></td>
<td><p>ut3</p></td>
<td><p>ut3</p></td>
</tr>
<tr class="row-odd"><td><p>9</p></td>
<td><p><span class="math notranslate nohighlight">\(W_{z}\)</span></p></td>
<td><p>ut4</p></td>
<td><p>ut4</p></td>
</tr>
<tr class="row-even"><td><p>10</p></td>
<td><p>F_x</p></td>
<td><p>ut5</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-odd"><td><p>11</p></td>
<td><p>F_y</p></td>
<td><p>ut6</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-even"><td><p>12</p></td>
<td><p>F_z</p></td>
<td><p>ut7</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-odd"><td><p>13</p></td>
<td><p><span class="math notranslate nohighlight">\(\alpha_{x}\)</span></p></td>
<td><p>ut8</p></td>
<td><p>ut5</p></td>
</tr>
<tr class="row-even"><td><p>14</p></td>
<td><p><span class="math notranslate nohighlight">\(\alpha_{y}\)</span></p></td>
<td><p>ut9</p></td>
<td><p>ut6</p></td>
</tr>
<tr class="row-odd"><td><p>15</p></td>
<td><p><span class="math notranslate nohighlight">\(\alpha_{z}\)</span></p></td>
<td><p>ut10</p></td>
<td><p>ut7</p></td>
</tr>
<tr class="row-even"><td><p>16</p></td>
<td><p>det_1</p></td>
<td><p>ut11</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-odd"><td><p>17</p></td>
<td><p>det_2</p></td>
<td><p>ut12</p></td>
<td><p>ut8</p></td>
</tr>
<tr class="row-even"><td><p>18</p></td>
<td><p>det_3</p></td>
<td><p>ut13</p></td>
<td><p>ut9</p></td>
</tr>
<tr class="row-odd"><td><p>19</p></td>
<td><p>det_4</p></td>
<td><p>ut14</p></td>
<td><p>ut10</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="usage">
<h2><a class="toc-backref" href="#id11" role="doc-backlink">Usage</a><a class="headerlink" href="#usage" title="Permalink to this heading">¶</a></h2>
<p><strong>Example - LoadDetectorInfo:</strong></p>
<p>Calibrate <strong>MARI</strong> using full format detector calibration file.
Note, that <a class="reference internal" href="#algm-loaddetectorinfo"><span class="std std-ref">LoadDetectorInfo v1</span></a> algorithm does not modify the monitors. Test test below provides calibration file for six detectors and test output shows,
that the first three detectors (monitors) were not touched and the next three were completely modified.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">os</span>

<span class="c1"># printing procedure</span>
<span class="k">def</span> <span class="nf">write_detectors</span><span class="p">(</span><span class="n">instr_type</span><span class="p">,</span><span class="n">instr</span><span class="p">,</span><span class="n">ndet</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; print first ndet detectors from given instrument &#39;&#39;&#39;</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{0}</span><span class="s2"> </span><span class="si">{1}</span><span class="s2"> instrument&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">instr_type</span><span class="p">,</span> <span class="n">instr</span><span class="o">.</span><span class="n">getName</span><span class="p">()))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;det ID | monitor? | polar angle| position X | position Y | position Z |  Pressure  | Wall thick |&#39;</span><span class="p">)</span>

    <span class="c1"># get first nder detectors using detector ID</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">ndet</span><span class="p">):</span>
      <span class="k">if</span> <span class="n">i</span><span class="o">&lt;</span><span class="mi">3</span><span class="p">:</span>
          <span class="n">detBase</span> <span class="o">=</span> <span class="mi">1</span>
      <span class="k">else</span><span class="p">:</span>
          <span class="n">detBase</span> <span class="o">=</span> <span class="mi">1101</span><span class="o">-</span><span class="mi">3</span>
      <span class="n">detID</span> <span class="o">=</span> <span class="n">detBase</span><span class="o">+</span><span class="n">i</span>
      <span class="n">det1</span> <span class="o">=</span> <span class="n">instr</span><span class="o">.</span><span class="n">getDetector</span><span class="p">(</span><span class="n">detID</span><span class="p">);</span>
      <span class="n">pos</span> <span class="o">=</span> <span class="n">det1</span><span class="o">.</span><span class="n">getPos</span><span class="p">();</span>
      <span class="n">pressure</span> <span class="o">=</span> <span class="n">det1</span><span class="o">.</span><span class="n">getNumberParameter</span><span class="p">(</span><span class="s1">&#39;TubePressure&#39;</span><span class="p">);</span>
      <span class="n">thickness</span> <span class="o">=</span> <span class="n">det1</span><span class="o">.</span><span class="n">getNumberParameter</span><span class="p">(</span><span class="s1">&#39;TubeThickness&#39;</span><span class="p">);</span>
      <span class="nb">print</span><span class="p">(</span><span class="s1">&#39; </span><span class="si">{0:5}</span><span class="s1"> | </span><span class="si">{1:8}</span><span class="s1"> | </span><span class="si">{2:10.3f}</span><span class="s1"> | </span><span class="si">{3:&gt;10.3f}</span><span class="s1"> | </span><span class="si">{4:&gt;10.3f}</span><span class="s1"> | </span><span class="si">{5:&gt;10.3f}</span><span class="s1"> | </span><span class="si">{6:10}</span><span class="s1"> | </span><span class="si">{7:10}</span><span class="s1"> |&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>\
             <span class="n">detID</span><span class="p">,</span><span class="n">det1</span><span class="o">.</span><span class="n">isMonitor</span><span class="p">(),(</span><span class="n">det1</span><span class="o">.</span><span class="n">getPhi</span><span class="p">()</span><span class="o">*</span><span class="p">(</span><span class="mi">180</span><span class="o">/</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="p">)),</span><span class="n">pos</span><span class="o">.</span><span class="n">X</span><span class="p">(),</span><span class="n">pos</span><span class="o">.</span><span class="n">Y</span><span class="p">(),</span><span class="n">pos</span><span class="o">.</span><span class="n">Z</span><span class="p">(),</span><span class="n">pressure</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">thickness</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;*********************************************************************************&#39;</span><span class="p">)</span>
<span class="c1">#</span>
<span class="k">def</span> <span class="nf">prepare_test_detector</span><span class="p">(</span><span class="n">ind</span><span class="p">):</span>
     <span class="sd">&quot;&quot;&quot;  prepare modified detector with random test values  &quot;&quot;&quot;</span>
     <span class="k">if</span> <span class="n">ind</span><span class="o">&lt;</span><span class="mi">3</span><span class="p">:</span>
         <span class="n">detBase</span> <span class="o">=</span> <span class="mi">1</span>
         <span class="n">offset</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
         <span class="n">l2</span> <span class="o">=</span> <span class="o">-</span><span class="mi">10</span>  <span class="c1"># incorrect  L2 for testing changes</span>
         <span class="n">code</span><span class="o">=</span><span class="mi">1</span>
         <span class="n">theta</span> <span class="o">=</span> <span class="mi">180</span> <span class="c1"># incorrect theta for testing changes</span>
         <span class="n">phi</span> <span class="o">=</span> <span class="mi">1</span>     <span class="c1"># incorrect phi for testing changes</span>
         <span class="n">w_xyz</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="c1"># incorrect w_x,w_y, w_z for testing changes</span>
         <span class="n">f_xyz</span> <span class="o">=</span> <span class="mi">5</span>   <span class="c1"># incorrect for testing changes</span>
         <span class="n">a_xyz</span> <span class="o">=</span> <span class="mi">10</span>  <span class="c1"># incorrect for testing changes</span>
         <span class="n">det1</span>  <span class="o">=</span> <span class="mi">1</span>   <span class="c1"># incorrect for testing changes</span>
         <span class="n">det2</span>  <span class="o">=</span> <span class="mi">5</span>   <span class="c1"># incorrect tube pressure for testing changes</span>
         <span class="n">det3</span>  <span class="o">=</span> <span class="mf">0.09</span> <span class="c1"># incorrect wall thickness for testing changes</span>
         <span class="n">det4</span>  <span class="o">=</span> <span class="mi">1</span>   <span class="c1"># incorrect for testing changes</span>
     <span class="k">else</span><span class="p">:</span>
         <span class="n">detBase</span> <span class="o">=</span> <span class="mi">1101</span><span class="o">-</span><span class="mi">3</span>
         <span class="n">offset</span><span class="o">=</span><span class="mf">5.5</span>
         <span class="n">l2</span> <span class="o">=</span>  <span class="mi">10</span>  <span class="c1"># incorrect  L2 for testing changes</span>
         <span class="n">code</span> <span class="o">=</span> <span class="mi">3</span>
         <span class="n">theta</span> <span class="o">=</span> <span class="o">-</span><span class="mi">180</span> <span class="c1">#  incorrect theta for testing changes</span>
         <span class="n">phi</span> <span class="o">=</span> <span class="mi">90</span>     <span class="c1"># incorrect phi for testing changes</span>
         <span class="n">w_xyz</span> <span class="o">=</span> <span class="mf">1.5</span>  <span class="c1"># incorrect w_x,w_y, w_z for testing changes</span>
         <span class="n">f_xyz</span> <span class="o">=</span> <span class="mi">50</span>   <span class="c1"># incorrect for testing changes</span>
         <span class="n">a_xyz</span> <span class="o">=</span> <span class="mi">20</span>   <span class="c1"># incorrect for testing changes</span>
         <span class="n">det1</span>  <span class="o">=</span> <span class="mi">3</span>    <span class="c1"># incorrect for testing changes</span>
         <span class="n">det2</span>  <span class="o">=</span> <span class="mi">15</span>   <span class="c1"># incorrect tube pressure for testing changes</span>
         <span class="n">det3</span>  <span class="o">=</span> <span class="mf">0.9</span>  <span class="c1"># incorrect wall thickness for testing changes</span>
         <span class="n">det4</span>  <span class="o">=</span> <span class="mi">666</span>  <span class="c1"># incorrect for testing changes</span>

     <span class="k">return</span> <span class="p">(</span><span class="n">detBase</span><span class="p">,</span><span class="n">offset</span><span class="p">,</span><span class="n">l2</span><span class="p">,</span><span class="n">code</span><span class="p">,</span><span class="n">theta</span><span class="p">,</span><span class="n">phi</span><span class="p">,</span><span class="n">w_xyz</span><span class="p">,</span><span class="n">f_xyz</span><span class="p">,</span><span class="n">a_xyz</span><span class="p">,</span><span class="n">det1</span><span class="p">,</span><span class="n">det2</span><span class="p">,</span><span class="n">det2</span><span class="p">,</span><span class="n">det4</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">write_test_cal_file</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span><span class="n">instrument</span><span class="p">,</span><span class="n">ndet</span><span class="p">):</span>
   <span class="sd">&quot;&quot;&quot; writes partial detector.dat file  modified for testing purposes</span>
<span class="sd">         filename   -- the string, describing the name of the file to write:</span>
<span class="sd">         instrument -- the pointer to instrument to modify</span>
<span class="sd">         ndet       -- number of detectors to modify using this calibration file for testing purposes</span>
<span class="sd">   &quot;&quot;&quot;</span>

   <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span><span class="s1">&#39;w&#39;</span><span class="p">);</span>
   <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;Full format DETECTOR.DAT generated by CREATE_DETECTOR_FILE (part of it written for testing purposes)&quot;</span><span class="p">);</span>
   <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{0}</span><span class="s2">    14</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ndet</span><span class="p">))</span>
   <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;det no.  offset    l2     code     theta        phi         w_x         w_y         w_z         f_x         f_y         f_z         a_x         a_y         a_z        det_1       det_2       det_3       det4</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">);</span>

   <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">ndet</span><span class="p">):</span>
      <span class="n">detBase</span><span class="p">,</span><span class="n">offset</span><span class="p">,</span><span class="n">l2</span><span class="p">,</span><span class="n">code</span><span class="p">,</span><span class="n">theta</span><span class="p">,</span><span class="n">phi</span><span class="p">,</span><span class="n">w_xyz</span><span class="p">,</span><span class="n">f_xyz</span><span class="p">,</span><span class="n">a_xyz</span><span class="p">,</span><span class="n">det1</span><span class="p">,</span><span class="n">det2</span><span class="p">,</span><span class="n">det3</span><span class="p">,</span><span class="n">det4</span><span class="o">=</span><span class="n">prepare_test_detector</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
      <span class="n">detID</span> <span class="o">=</span> <span class="n">detBase</span><span class="o">+</span><span class="n">i</span>
      <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{0:&gt;9}</span><span class="s2"> </span><span class="si">{1:&gt;7}</span><span class="s2"> </span><span class="si">{2: &gt;8f}</span><span class="s2"> </span><span class="si">{3:&gt;5}</span><span class="s2"> </span><span class="si">{4:&gt;11f}</span><span class="s2"> </span><span class="si">{5:&gt;11f}</span><span class="s2"> </span><span class="si">{6:&gt;11f}</span><span class="s2"> </span><span class="si">{7:&gt;11f}</span><span class="s2"> </span><span class="si">{8:&gt;11f}</span><span class="s2"> </span><span class="si">{9:&gt;11f}</span><span class="s2"> </span><span class="si">{10:&gt;11f}</span><span class="s2"> </span><span class="si">{11:&gt;11f}</span><span class="s2"> </span><span class="si">{12:&gt;11f}</span><span class="s2"> </span><span class="si">{13:&gt;11f}</span><span class="s2"> </span><span class="si">{14:&gt;11f}</span><span class="s2"> </span><span class="si">{15:&gt;11f}</span><span class="s2"> </span><span class="si">{16:&gt;11f}</span><span class="s2"> </span><span class="si">{17:&gt;11f}</span><span class="s2"> </span><span class="si">{18:&gt;11f}</span><span class="s2"> </span><span class="si">{19:&gt;11f}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>\
          <span class="n">detID</span><span class="p">,</span><span class="n">offset</span><span class="p">,</span><span class="n">l2</span><span class="p">,</span><span class="n">code</span><span class="p">,</span><span class="n">theta</span><span class="p">,</span><span class="n">phi</span><span class="p">,</span><span class="n">w_xyz</span><span class="p">,</span><span class="n">w_xyz</span><span class="p">,</span><span class="n">w_xyz</span><span class="p">,</span><span class="n">f_xyz</span><span class="p">,</span><span class="n">f_xyz</span><span class="p">,</span><span class="n">f_xyz</span><span class="p">,</span><span class="n">a_xyz</span><span class="p">,</span><span class="n">a_xyz</span><span class="p">,</span><span class="n">a_xyz</span><span class="p">,</span><span class="n">a_xyz</span><span class="p">,</span><span class="n">det1</span><span class="p">,</span><span class="n">det2</span><span class="p">,</span><span class="n">det3</span><span class="p">,</span><span class="n">det4</span><span class="p">))</span>
   <span class="c1">#  end write loop</span>
   <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c1">#-------------------- ------------------------------------------------------------------</span>
<span class="c1">#  TEST  THE ALGORITHM</span>
<span class="c1">#--------------------------------------------------------------------------------------</span>
<span class="c1"># create sample workspace</span>
<span class="n">ws</span><span class="o">=</span><span class="n">CreateSampleWorkspace</span><span class="p">();</span>
<span class="c1">#--------------------------------------------------------------------------------------</span>
<span class="c1"># load MARI</span>
<span class="n">det</span><span class="o">=</span><span class="n">LoadInstrument</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span><span class="n">InstrumentName</span><span class="o">=</span><span class="s1">&#39;MARI&#39;</span><span class="p">,</span> <span class="n">RewriteSpectraMap</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">inst1</span><span class="o">=</span><span class="n">ws</span><span class="o">.</span><span class="n">getInstrument</span><span class="p">();</span>
<span class="c1">#</span>
<span class="n">write_detectors</span><span class="p">(</span><span class="s1">&#39;unCalibrated&#39;</span><span class="p">,</span><span class="n">inst1</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span>
<span class="c1">#--------------------------------------------------------------------------------------</span>
<span class="c1"># Prepare calibration file changing first 6 detectors &amp; monitors</span>
<span class="n">file_name</span> <span class="o">=</span> <span class="s1">&#39;mari_det.dat&#39;</span>
<span class="n">write_test_cal_file</span><span class="p">(</span><span class="n">file_name</span> <span class="p">,</span><span class="n">inst1</span><span class="p">,</span><span class="mi">6</span><span class="p">);</span>
<span class="c1">#--------------------------------------------------------------------------------------</span>
<span class="c1"># CALIBRATE mari using full det.dat calibration file</span>
<span class="n">LoadDetectorInfo</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span><span class="n">DataFilename</span><span class="o">=</span><span class="n">file_name</span><span class="p">,</span><span class="n">RelocateDets</span><span class="o">=</span><span class="kc">True</span><span class="p">);</span>
<span class="n">inst1</span><span class="o">=</span><span class="n">ws</span><span class="o">.</span><span class="n">getInstrument</span><span class="p">();</span>
<span class="c1">#--------------------------------------------------------------------------------------</span>
<span class="c1"># look at the result:</span>
<span class="n">write_detectors</span><span class="p">(</span><span class="s1">&#39;Calibrated&#39;</span><span class="p">,</span><span class="n">inst1</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>Output:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>unCalibrated MARI instrument
det ID | monitor? | polar angle| position X | position Y | position Z |  Pressure  | Wall thick |
     1 |        1 |      0.000 |      0.000 |      0.000 |     -4.739 |       10.0 |     0.0008 |
     2 |        1 |      0.000 |      0.000 |      0.000 |     -1.442 |       10.0 |     0.0008 |
     3 |        1 |      0.000 |      0.000 |      0.000 |      5.820 |       10.0 |     0.0008 |
  1101 |        0 |    -68.640 |      0.347 |     -0.888 |      3.907 |       10.0 |     0.0008 |
  1102 |        0 |    -69.300 |      0.347 |     -0.919 |      3.900 |       10.0 |     0.0008 |
  1103 |        0 |    -69.920 |      0.347 |     -0.950 |      3.893 |       10.0 |     0.0008 |
  1104 |        0 |    -70.510 |      0.347 |     -0.981 |      3.885 |       10.0 |     0.0008 |
  1105 |        0 |    -71.060 |      0.347 |     -1.012 |      3.877 |       10.0 |     0.0008 |
  1106 |        0 |    -71.570 |      0.347 |     -1.043 |      3.869 |       10.0 |     0.0008 |
  1107 |        0 |    -72.060 |      0.347 |     -1.073 |      3.861 |       10.0 |     0.0008 |
*********************************************************************************
Calibrated MARI instrument
det ID | monitor? | polar angle| position X | position Y | position Z |  Pressure  | Wall thick |
     1 |        1 |      0.000 |      0.000 |      0.000 |     -4.739 |       10.0 |     0.0008 |
     2 |        1 |      0.000 |      0.000 |      0.000 |     -1.442 |       10.0 |     0.0008 |
     3 |        1 |      0.000 |      0.000 |      0.000 |      5.820 |       10.0 |     0.0008 |
  1101 |        0 |      0.000 |      0.000 |      0.000 |    -10.000 |        3.0 |       15.0 |
  1102 |        0 |      0.000 |      0.000 |      0.000 |    -10.000 |        3.0 |       15.0 |
  1103 |        0 |      0.000 |      0.000 |      0.000 |    -10.000 |        3.0 |       15.0 |
  1104 |        0 |    -70.510 |      0.347 |     -0.981 |      3.885 |       10.0 |     0.0008 |
  1105 |        0 |    -71.060 |      0.347 |     -1.012 |      3.877 |       10.0 |     0.0008 |
  1106 |        0 |    -71.570 |      0.347 |     -1.043 |      3.869 |       10.0 |     0.0008 |
  1107 |        0 |    -72.060 |      0.347 |     -1.073 |      3.861 |       10.0 |     0.0008 |
*********************************************************************************
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/AlgorithmIndex.html">AlgorithmIndex</a> | <a class="reference external" href="categories/DataHandling/Raw.html">DataHandling\Raw</a></p>
</section>
<section id="source">
<h2><a class="toc-backref" href="#id12" role="doc-backlink">Source</a><a class="headerlink" href="#source" title="Permalink to this heading">¶</a></h2>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/ae5920090788fe85703dcb99039251b0d956c4b7/Framework/DataHandling/inc/MantidDataHandling/LoadDetectorInfo.h">LoadDetectorInfo.h</a></p>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/ae5920090788fe85703dcb99039251b0d956c4b7/Framework/DataHandling/src/LoadDetectorInfo.cpp">LoadDetectorInfo.cpp</a></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="LoadDaveGrp-v1.html" title="Previous Chapter: LoadDaveGrp v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; LoadDaveGrp v1</span>
    </a>
  </li>
  <li>
    <a href="LoadDetectorsGroupingFile-v1.html" title="Next Chapter: LoadDetectorsGroupingFile v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">LoadDetectors... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>