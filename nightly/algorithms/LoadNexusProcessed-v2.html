<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>LoadNexusProcessed v2</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="LoadPDFgetNFile v1" href="LoadPDFgetNFile-v1.html" />
    <link rel="prev" title="LoadNexusProcessed v1" href="LoadNexusProcessed-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.5</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://docs.mantidproject.org/nightly/">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Algorithms</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">LoadNexusProcessed v2</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="loadnexusprocessed-v2">
<span id="algm-loadnexusprocessed"></span><span id="algm-loadnexusprocessed-v2"></span><h1>LoadNexusProcessed v2<a class="headerlink" href="#loadnexusprocessed-v2" title="Permalink to this heading">¶</a></h1>
<figure class="align-right" id="id1">
<span id="index-0"></span><a class="screenshot reference internal image-reference" href="../_images/LoadNexusProcessed-v2_dlg.png"><img alt="../_images/LoadNexusProcessed-v2_dlg.png" class="screenshot" src="../_images/LoadNexusProcessed-v2_dlg.png" style="width: 303px;" /></a>
<figcaption>
<p><span class="caption-text"><strong>LoadNexusProcessed</strong> dialog.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#summary" id="id2">Summary</a></p>
<ul>
<li><p><a class="reference internal" href="#see-also" id="id3">See Also</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#properties" id="id4">Properties</a></p></li>
<li><p><a class="reference internal" href="#description" id="id5">Description</a></p>
<ul>
<li><p><a class="reference internal" href="#time-series-data" id="id6">Time series data</a></p></li>
<li><p><a class="reference internal" href="#child-algorithms-used" id="id7">Child algorithms used</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#usage" id="id8">Usage</a></p></li>
<li><p><a class="reference internal" href="#source" id="id9">Source</a></p></li>
</ul>
</nav>
<section id="summary">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Summary</a><a class="headerlink" href="#summary" title="Permalink to this heading">¶</a></h2>
<p>The LoadNexusProcessed algorithm will read the given Nexus Processed data file containing a Mantid Workspace. The data is placed in the named workspace. LoadNexusProcessed may be invoked by LoadNexus if it is given a Nexus file of this type.</p>
<section id="see-also">
<h3><a class="toc-backref" href="#id3" role="doc-backlink">See Also</a><a class="headerlink" href="#see-also" title="Permalink to this heading">¶</a></h3>
<p><a class="reference internal" href="LoadNexus-v1.html#algm-loadnexus"><span class="std std-ref">LoadNexus</span></a></p>
</section>
</section>
<section id="properties">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Properties</a><a class="headerlink" href="#properties" title="Permalink to this heading">¶</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Direction</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Filename</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>The name of the Nexus file to read, as a full or relative path. Allowed extensions: [‘.nxs’, ‘.nx5’, ‘.xml’]</p></td>
</tr>
<tr class="row-odd"><td><p>OutputWorkspace</p></td>
<td><p>Output</p></td>
<td><p><a class="reference internal" href="../concepts/Workspace.html#workspace"><span class="std std-ref">Workspace</span></a></p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>The name of the workspace to be created as the output of the algorithm.  A workspace of this name will be created and stored in the Analysis Data Service. For multiperiod files, one workspace may be generated for each period. Currently only one workspace can be saved at a time so multiperiod Mantid files are not generated.</p></td>
</tr>
<tr class="row-even"><td><p>SpectrumMin</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>1</p></td>
<td><p>Number of first spectrum to read.</p></td>
</tr>
<tr class="row-odd"><td><p>SpectrumMax</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p><em>Optional</em></p></td>
<td><p>Number of last spectrum to read.</p></td>
</tr>
<tr class="row-even"><td><p>SpectrumList</p></td>
<td><p>Input</p></td>
<td><p>int list</p></td>
<td></td>
<td><p>List of spectrum numbers to read.</p></td>
</tr>
<tr class="row-odd"><td><p>EntryNumber</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>0</p></td>
<td><p>0 indicates that every entry is loaded, into a separate workspace within a group. A positive number identifies one entry to be loaded, into one workspace</p></td>
</tr>
<tr class="row-even"><td><p>LoadHistory</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>True</p></td>
<td><p>If true, the workspace history will be loaded</p></td>
</tr>
<tr class="row-odd"><td><p>FastMultiPeriod</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>True</p></td>
<td><p>For multiperiod workspaces. Copy instrument, parameter and x-data rather than loading it directly for each workspace. Y, E and log information is always loaded.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="description">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Description</a><a class="headerlink" href="#description" title="Permalink to this heading">¶</a></h2>
<p>The algorithm LoadNexusProcessed will read a Nexus data file created
by <a class="reference internal" href="SaveNexusProcessed-v1.html#algm-savenexusprocessed"><span class="std std-ref">SaveNexusProcessed v1</span></a> or <a class="reference internal" href="SaveNexusESS-v1.html#algm-savenexusess"><span class="std std-ref">SaveNexusESS v1</span></a> and place the data into the named workspace. The file name can be an absolute or relative path and
should have the extension .nxs, .nx5 or .xml.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Using XML format can be extremely slow for large data sets and generate very
large files.</p>
</div>
<p>The optional parameters can be used to control which spectra are
loaded into the workspace. If SpectrumMin and SpectrumMax are given,
then only that range to data will be loaded. A specific list of
spectra to load can also be given (SpectrumList). Filtering of spectra
is supported when loading into workspaces of type <a class="reference internal" href="../concepts/Workspace2D.html#workspace2d"><span class="std std-ref">Workspace2Ds</span></a> and also <a class="reference internal" href="../concepts/EventWorkspace.html#eventworkspace"><span class="std std-ref">EventWorkspaces</span></a>.</p>
<p>A Mantid Nexus file may contain several workspace entries each labelled
with an integer starting at 1. By default the highest number workspace
is read, earlier ones can be accessed by setting the EntryNumber.</p>
<p>If the saved data has a reference to an XML file defining instrument
geometry this will be read.</p>
<p>This is version 2 of the algorithm. Information about the previous behaviour can be found in <a class="reference internal" href="SaveNexusProcessed-v1.html#algm-savenexusprocessed-v1"><span class="std std-ref">SaveNexusProcessed v1</span></a>, which does not handle <a class="reference internal" href="SaveNexusESS-v1.html#algm-savenexusess"><span class="std std-ref">SaveNexusESS v1</span></a> outputs. This is the only difference between the two versions.</p>
<section id="time-series-data">
<h3><a class="toc-backref" href="#id6" role="doc-backlink">Time series data</a><a class="headerlink" href="#time-series-data" title="Permalink to this heading">¶</a></h3>
<p>The log data in the Nexus file (NX_LOG sections) is loaded as
TimeSeriesProperty data within the workspace. Time is stored as seconds
from the Unix epoch. Only floating point logs are stored and loaded at
present.</p>
</section>
<section id="child-algorithms-used">
<h3><a class="toc-backref" href="#id7" role="doc-backlink">Child algorithms used</a><a class="headerlink" href="#child-algorithms-used" title="Permalink to this heading">¶</a></h3>
<p>The Child Algorithms used by LoadMuonNexus are:</p>
<ul class="simple">
<li><p>LoadInstrument - this algorithm looks for an XML description of the
instrument and if found reads it.</p></li>
</ul>
</section>
</section>
<section id="usage">
<h2><a class="toc-backref" href="#id8" role="doc-backlink">Usage</a><a class="headerlink" href="#usage" title="Permalink to this heading">¶</a></h2>
<p><strong>Example</strong></p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>

<span class="c1">#Create an absolute path by joining the proposed filename to a directory</span>
<span class="c1">#os.path.expanduser(&quot;~&quot;) used in this case returns the home directory of the current user</span>
<span class="n">savePath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s2">&quot;~&quot;</span><span class="p">)</span>
<span class="n">wsPath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">savePath</span><span class="p">,</span> <span class="s2">&quot;LoadNexusProcessedTest.nxs&quot;</span><span class="p">)</span>

<span class="n">ws</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">(</span><span class="n">WorkspaceType</span><span class="o">=</span><span class="s2">&quot;Histogram&quot;</span><span class="p">,</span> <span class="n">NumBanks</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">BankPixelWidth</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">BinWidth</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">Xmax</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
<span class="n">SaveNexusProcessed</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span> <span class="n">wsPath</span><span class="p">)</span>

<span class="n">wsOutput</span> <span class="o">=</span> <span class="n">LoadNexusProcessed</span><span class="p">(</span><span class="n">wsPath</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">CompareWorkspaces</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span><span class="n">wsOutput</span><span class="p">,</span> <span class="n">CheckInstrument</span><span class="o">=</span><span class="kc">False</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>

<span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">wsPath</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mantid.simpleapi</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">tempfile</span>
<span class="n">simple_run</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">(</span><span class="n">NumBanks</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">BankPixelWidth</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">destination</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tempfile</span><span class="o">.</span><span class="n">gettempdir</span><span class="p">(),</span> <span class="s2">&quot;sample_processed.nxs&quot;</span><span class="p">)</span>
<span class="n">SaveNexusESS</span><span class="p">(</span><span class="n">Filename</span><span class="o">=</span><span class="n">destination</span><span class="p">,</span> <span class="n">InputWorkspace</span><span class="o">=</span><span class="n">simple_run</span><span class="p">)</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">LoadNexusProcessed</span><span class="p">(</span><span class="n">Filename</span><span class="o">=</span><span class="n">destination</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Workspace includes </span><span class="si">{}</span><span class="s2"> detectors&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ws</span><span class="o">.</span><span class="n">detectorInfo</span><span class="p">()</span><span class="o">.</span><span class="n">size</span><span class="p">(),</span> <span class="mi">2</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">*</span> <span class="mi">10</span><span class="p">))</span>
<span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">destination</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Workspace includes 200 detectors
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/AlgorithmIndex.html">AlgorithmIndex</a> | <a class="reference external" href="categories/DataHandling/Nexus.html">DataHandling\Nexus</a></p>
</section>
<section id="source">
<h2><a class="toc-backref" href="#id9" role="doc-backlink">Source</a><a class="headerlink" href="#source" title="Permalink to this heading">¶</a></h2>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/8b6be077efd75a1eee39b81bc5971c6c51c44283/Framework/DataHandling/inc/MantidDataHandling/LoadNexusProcessed2.h">LoadNexusProcessed2.h</a></p>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/8b6be077efd75a1eee39b81bc5971c6c51c44283/Framework/DataHandling/src/LoadNexusProcessed2.cpp">LoadNexusProcessed2.cpp</a></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="LoadNexusProcessed-v1.html" title="Previous Chapter: LoadNexusProcessed v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; LoadNexusProcessed v1</span>
    </a>
  </li>
  <li>
    <a href="LoadPDFgetNFile-v1.html" title="Next Chapter: LoadPDFgetNFile v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">LoadPDFgetNFile v1 &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>