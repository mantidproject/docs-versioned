<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>SANSILLAutoProcess v1</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="SANSILLIntegration v1" href="SANSILLIntegration-v1.html" />
    <link rel="prev" title="SANSFitShiftScale v1" href="SANSFitShiftScale-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.5</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://www.mantidproject.org">Home</a></li>
                <li><a href="https://download.mantidproject.org">Download</a></li>
                <li><a href="https://docs.mantidproject.org">Documentation</a></li>
                <li><a href="https://www.mantidproject.org/contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Algorithms</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">SANSILLAutoProcess v1</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="sansillautoprocess-v1">
<span id="algm-sansillautoprocess"></span><span id="algm-sansillautoprocess-v1"></span><h1>SANSILLAutoProcess v1<a class="headerlink" href="#sansillautoprocess-v1" title="Permalink to this heading">¶</a></h1>
<figure class="align-right" id="id1">
<span id="index-0"></span><a class="screenshot reference internal image-reference" href="../_images/SANSILLAutoProcess-v1_dlg.png"><img alt="../_images/SANSILLAutoProcess-v1_dlg.png" class="screenshot" src="../_images/SANSILLAutoProcess-v1_dlg.png" style="width: 349px;" /></a>
<figcaption>
<p><span class="caption-text"><strong>SANSILLAutoProcess</strong> dialog.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#summary" id="id2">Summary</a></p>
<ul>
<li><p><a class="reference internal" href="#see-also" id="id3">See Also</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#properties" id="id4">Properties</a></p></li>
<li><p><a class="reference internal" href="#description" id="id5">Description</a></p></li>
<li><p><a class="reference internal" href="#outputbinning" id="id6">OutputBinning</a></p></li>
<li><p><a class="reference internal" href="#caching-with-ads" id="id7">Caching with ADS</a></p></li>
<li><p><a class="reference internal" href="#source" id="id8">Source</a></p></li>
</ul>
</nav>
<section id="summary">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Summary</a><a class="headerlink" href="#summary" title="Permalink to this heading">¶</a></h2>
<p>Performs complete SANS data reduction at the ILL.</p>
<section id="see-also">
<h3><a class="toc-backref" href="#id3" role="doc-backlink">See Also</a><a class="headerlink" href="#see-also" title="Permalink to this heading">¶</a></h3>
<p><a class="reference internal" href="SANSILLReduction-v2.html#algm-sansillreduction"><span class="std std-ref">SANSILLReduction</span></a>, <a class="reference internal" href="SANSILLIntegration-v1.html#algm-sansillintegration"><span class="std std-ref">SANSILLIntegration</span></a></p>
</section>
</section>
<section id="properties">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Properties</a><a class="headerlink" href="#properties" title="Permalink to this heading">¶</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Direction</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>OutputWorkspace</p></td>
<td><p>Output</p></td>
<td><p>WorkspaceGroup</p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>The output workspace group containing reduced data.</p></td>
</tr>
<tr class="row-odd"><td><p>SampleRuns</p></td>
<td><p>Input</p></td>
<td><p>list of str lists</p></td>
<td></td>
<td><p>Sample run(s). Allowed values: [‘nxs’]</p></td>
</tr>
<tr class="row-even"><td><p>AbsorberRuns</p></td>
<td><p>Input</p></td>
<td><p>list of str lists</p></td>
<td></td>
<td><p>Absorber (Cd/B4C) run(s). Allowed values: [‘nxs’]</p></td>
</tr>
<tr class="row-odd"><td><p>BeamRuns</p></td>
<td><p>Input</p></td>
<td><p>list of str lists</p></td>
<td></td>
<td><p>Empty beam run(s). Allowed values: [‘nxs’]</p></td>
</tr>
<tr class="row-even"><td><p>FluxRuns</p></td>
<td><p>Input</p></td>
<td><p>list of str lists</p></td>
<td></td>
<td><p>Empty beam run(s) for flux calculation only; if left blank flux will be calculated from BeamRuns. Allowed values: [‘nxs’]</p></td>
</tr>
<tr class="row-odd"><td><p>ContainerRuns</p></td>
<td><p>Input</p></td>
<td><p>list of str lists</p></td>
<td></td>
<td><p>Empty container run(s). Allowed values: [‘nxs’]</p></td>
</tr>
<tr class="row-even"><td><p>SampleTransmissionRuns</p></td>
<td><p>Input</p></td>
<td><p>list of str lists</p></td>
<td></td>
<td><p>Sample transmission run(s). Allowed values: [‘nxs’]</p></td>
</tr>
<tr class="row-odd"><td><p>ContainerTransmissionRuns</p></td>
<td><p>Input</p></td>
<td><p>list of str lists</p></td>
<td></td>
<td><p>Container transmission run(s). Allowed values: [‘nxs’]</p></td>
</tr>
<tr class="row-even"><td><p>TransmissionBeamRuns</p></td>
<td><p>Input</p></td>
<td><p>list of str lists</p></td>
<td></td>
<td><p>Empty beam run(s) for transmission. Allowed values: [‘nxs’]</p></td>
</tr>
<tr class="row-odd"><td><p>TransmissionAbsorberRuns</p></td>
<td><p>Input</p></td>
<td><p>list of str lists</p></td>
<td></td>
<td><p>Absorber (Cd/B4C) run(s) for transmission. Allowed values: [‘nxs’]</p></td>
</tr>
<tr class="row-even"><td><p>ThetaDependent</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>True</p></td>
<td><p>Whether or not to use 2theta dependent transmission correction</p></td>
</tr>
<tr class="row-odd"><td><p>SensitivityMaps</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>File(s) or workspaces containing the maps of relative detector efficiencies.</p></td>
</tr>
<tr class="row-even"><td><p>DefaultMaskFile</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>File or workspace containing the default mask (typically the detector edges and dead pixels/tubes) to be applied to all the detector configurations.</p></td>
</tr>
<tr class="row-odd"><td><p>MaskFiles</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>File(s) or workspaces containing the detector mask (typically beam stop).</p></td>
</tr>
<tr class="row-even"><td><p>ReferenceFiles</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>File(s) or workspaces containing the corrected water data (in 2D) for absolute normalisation.</p></td>
</tr>
<tr class="row-odd"><td><p>SolventFiles</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>File(s) or workspaces containing the corrected solvent data (in 2D) for solvent subtraction.</p></td>
</tr>
<tr class="row-even"><td><p>SensitivityOutputWorkspace</p></td>
<td><p>Output</p></td>
<td><p><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a></p></td>
<td></td>
<td><p>The output sensitivity map workspace.</p></td>
</tr>
<tr class="row-odd"><td><p>NormaliseBy</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>Timer</p></td>
<td><p>Choose the normalisation type. Allowed values: [‘None’, ‘Timer’, ‘Monitor’]</p></td>
</tr>
<tr class="row-even"><td><p>SampleThickness</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>0.1</p></td>
<td><p>Sample thickness [cm]</p></td>
</tr>
<tr class="row-odd"><td><p>TransmissionBeamRadius</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>0.1</p></td>
<td><p>Beam radius [m]; used for transmission calculations.</p></td>
</tr>
<tr class="row-even"><td><p>BeamRadius</p></td>
<td><p>Input</p></td>
<td><p>dbl list</p></td>
<td><p>0.1</p></td>
<td><p>Beam radius [m]; used for beam center finding and flux calculations.</p></td>
</tr>
<tr class="row-odd"><td><p>WaterCrossSection</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>1</p></td>
<td><p>Provide water cross-section; used only if the absolute scale is done by dividing to water.</p></td>
</tr>
<tr class="row-even"><td><p>MaxQxy</p></td>
<td><p>Input</p></td>
<td><p>dbl list</p></td>
<td><p>-1</p></td>
<td><p>Maximum of absolute Qx and Qy.</p></td>
</tr>
<tr class="row-odd"><td><p>DeltaQ</p></td>
<td><p>Input</p></td>
<td><p>dbl list</p></td>
<td><p>-1</p></td>
<td><p>The dimension of a Qx-Qy cell.</p></td>
</tr>
<tr class="row-even"><td><p>OutputPanels</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>False</p></td>
<td><p>Whether or not process the individual detector panels.</p></td>
</tr>
<tr class="row-odd"><td><p>OutputType</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>I(Q)</p></td>
<td><p>Choose the output type. Allowed values: [‘I(Q)’, ‘I(Qx,Qy)’, ‘I(Phi,Q)’]</p></td>
</tr>
<tr class="row-even"><td><p>CalculateResolution</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>None</p></td>
<td><p>Choose to calculate the Q resolution. Allowed values: [‘MildnerCarpenter’, ‘DirectBeam’, ‘None’]</p></td>
</tr>
<tr class="row-odd"><td><p>DefaultQBinning</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>PixelSizeBased</p></td>
<td><p>Choose how to calculate the default Q binning. Allowed values: [‘PixelSizeBased’, ‘ResolutionBased’]</p></td>
</tr>
<tr class="row-even"><td><p>BinningFactor</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>1</p></td>
<td><p>Specify a multiplicative factor for default Q binning (pixel or resolution based).</p></td>
</tr>
<tr class="row-odd"><td><p>NPixelDivision</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>1</p></td>
<td><p>Number of subpixels to split the pixel (NxN)</p></td>
</tr>
<tr class="row-even"><td><p>NumberOfWedges</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>0</p></td>
<td><p>Number of wedges to integrate separately.</p></td>
</tr>
<tr class="row-odd"><td><p>WedgeAngle</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>30</p></td>
<td><p>Wedge opening angle [degrees].</p></td>
</tr>
<tr class="row-even"><td><p>WedgeOffset</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>0</p></td>
<td><p>Wedge offset angle from x+ axis.</p></td>
</tr>
<tr class="row-odd"><td><p>AsymmetricWedges</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>False</p></td>
<td><p>Whether to have asymmetric wedges.</p></td>
</tr>
<tr class="row-even"><td><p>IQxQyLogBinning</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>False</p></td>
<td><p>I(Qx, Qy) log binning when binning is not specified.</p></td>
</tr>
<tr class="row-odd"><td><p>WavelengthRange</p></td>
<td><p>Input</p></td>
<td><p>dbl list</p></td>
<td><p>1,10</p></td>
<td><p>Wavelength range [Angstrom] to be used in integration (TOF only).</p></td>
</tr>
<tr class="row-even"><td><p>OutputBinning</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>Output binning for each distance. : separated list of binning params.</p></td>
</tr>
<tr class="row-odd"><td><p>ClearCorrected2DWorkspace</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>True</p></td>
<td><p>Whether to clear the fully corrected 2D workspace.</p></td>
</tr>
<tr class="row-even"><td><p>SensitivityWithOffsets</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>False</p></td>
<td><p>Whether the sensitivity data has been measured with different horizontal offsets.</p></td>
</tr>
<tr class="row-odd"><td><p>StitchReferenceIndex</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>1</p></td>
<td><p>Index of reference workspace during stitching.</p></td>
</tr>
<tr class="row-even"><td><p>ShapeTable</p></td>
<td><p>Input</p></td>
<td><p><a class="reference internal" href="../concepts/TableWorkspaces.html#table-workspaces"><span class="std std-ref">TableWorkspace</span></a></p></td>
<td></td>
<td><p>The name of the table workspace containing drawn shapes on which to integrate. If provided, NumberOfWedges, WedgeOffset and WedgeAngle arguments are ignored.</p></td>
</tr>
<tr class="row-odd"><td><p>Wavelength</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>0</p></td>
<td><p>Wavelength set for the data, will override nexus, intended for D16 reduction.</p></td>
</tr>
<tr class="row-even"><td><p>MinThreshold</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>0</p></td>
<td><p>Minimum threshold for calculated efficiency.</p></td>
</tr>
<tr class="row-odd"><td><p>MaxThreshold</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>2</p></td>
<td><p>Maximum threshold for calculated efficiency.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="description">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Description</a><a class="headerlink" href="#description" title="Permalink to this heading">¶</a></h2>
<p>This algorithms performs complete treatment of SANS data recorded with the ILL instruments D11, D22 and D33.
This high level algorithm steers the reduction and performs the full set of corrections for a given sample run; measured with one or more detector distances.</p>
<p>The sample measurement will be corrected for all the effects and converted to Q-space, producing by default the azimuthal average curve <span class="math notranslate nohighlight">\(I(Q)\)</span>.
One can use water reference measurement in order to derive the relative inter-pixel sensitivity map of the detector or the reduced water data for absolute normalisation of the subsequent samples.
The regular output will contain fully corrected water run, and there will be an additional output containing the sensitivity map itself.
The sensitivity map, as well as reduced water can be saved out to a file and used for sample reductions.</p>
</section>
<section id="outputbinning">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">OutputBinning</a><a class="headerlink" href="#outputbinning" title="Permalink to this heading">¶</a></h2>
<p>This property can be used to set manual q-binning parameters per detector distance/configuration.
This accepts a string, which must be <cite>:</cite> delimited sets of binning parameters per distance.
The reason it is a string, is that at a given configuration the parameters set can be composed of <cite>,</cite> separated values (such as start, width, end).
In fact, it could be even more complicated. See the semantics in <a class="reference internal" href="SANSILLIntegration-v1.html#algm-sansillintegration"><span class="std std-ref">SANSILLIntegration</span></a>.
If one parameter set is provided, i.e. there is no <cite>:</cite>, the same parameter set will be used for all the detector distances/configurations.</p>
</section>
<section id="caching-with-ads">
<h2><a class="toc-backref" href="#id7" role="doc-backlink">Caching with ADS</a><a class="headerlink" href="#caching-with-ads" title="Permalink to this heading">¶</a></h2>
<p>This algorithm <strong>does not</strong> clean-up the intermediate workspaces after execution. This is done intentionally for performance reasons.
For example, once the transmission of a sample is calculated, it will be reused for further iterations of processing of the same sample at different detector distances.
As other example, once the container is processed at a certain distance, it will be reused for all the subsequent samples measured at the same distance, if the container run is the same.
The same caching is done for absorber, empty beam, container, sensitivity and mask workspaces.
The caching relies on Analysis Data Service (ADS) through naming convention by appending the relevant process name to the run number.
When multiple runs are summed, the run number of the first run is attributed to the summed workspace name.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To run these usage examples please first download the
<a class="reference external" href="https://sourceforge.net/projects/mantid/files/Sample%20Data/UsageData.zip/download">usage data</a>,
and add these to your path.
In Mantid this is done using <a class="reference internal" href="../interfaces/framework/ManageUserDirectories.html#manageuserdirectories"><span class="std std-ref">Manage User Directories</span></a>.</p>
</div>
<p><strong>Example - full treatment of 3 samples at 3 different distances in D11</strong></p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">beams</span> <span class="o">=</span> <span class="s1">&#39;2866,2867+2868,2878&#39;</span>
<span class="n">containers</span> <span class="o">=</span> <span class="s1">&#39;2888+2971,2884+2960,2880+2949&#39;</span>
<span class="n">container_tr</span> <span class="o">=</span> <span class="s1">&#39;2870+2954&#39;</span>
<span class="n">beam_tr</span> <span class="o">=</span> <span class="s1">&#39;2867+2868&#39;</span>
<span class="n">samples</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;2889,2885,2881&#39;</span><span class="p">,</span>
           <span class="s1">&#39;2887,2883,2879&#39;</span><span class="p">,</span>
           <span class="s1">&#39;3187,3177,3167&#39;</span><span class="p">]</span>
<span class="n">sample_tr</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;2871&#39;</span><span class="p">,</span> <span class="s1">&#39;2869&#39;</span><span class="p">,</span> <span class="s1">&#39;3172&#39;</span><span class="p">]</span>
<span class="n">thick</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">]</span>

<span class="c1"># reduce samples</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">samples</span><span class="p">)):</span>
    <span class="n">SANSILLAutoProcess</span><span class="p">(</span>
        <span class="n">SampleRuns</span><span class="o">=</span><span class="n">samples</span><span class="p">[</span><span class="n">i</span><span class="p">],</span>
        <span class="n">BeamRuns</span><span class="o">=</span><span class="n">beams</span><span class="p">,</span>
        <span class="n">ContainerRuns</span><span class="o">=</span><span class="n">containers</span><span class="p">,</span>
        <span class="n">MaskFiles</span><span class="o">=</span><span class="s1">&#39;mask1.nxs,mask2.nxs,mask3.nxs&#39;</span><span class="p">,</span>
        <span class="n">SensitivityMaps</span><span class="o">=</span><span class="s1">&#39;sens-lamp.nxs&#39;</span><span class="p">,</span>
        <span class="n">SampleTransmissionRuns</span><span class="o">=</span><span class="n">sample_tr</span><span class="p">[</span><span class="n">i</span><span class="p">],</span>
        <span class="n">ContainerTransmissionRuns</span><span class="o">=</span><span class="n">container_tr</span><span class="p">,</span>
        <span class="n">TransmissionBeamRuns</span><span class="o">=</span><span class="n">beam_tr</span><span class="p">,</span>
        <span class="n">SampleThickness</span><span class="o">=</span><span class="n">thick</span><span class="p">[</span><span class="n">i</span><span class="p">],</span>
        <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;iq_s&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
    <span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Distance 1 Q-range:</span><span class="si">{0:4f}</span><span class="s1">-</span><span class="si">{1:4f}</span><span class="s1"> AA&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">mtd</span><span class="p">[</span><span class="s1">&#39;iq_s1_#1_d39.0m_c40.5m_w5.6A&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">readX</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span>
                                                   <span class="n">mtd</span><span class="p">[</span><span class="s1">&#39;iq_s1_#1_d39.0m_c40.5m_w5.6A&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">readX</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Distance 2 Q-range:</span><span class="si">{0:4f}</span><span class="s1">-</span><span class="si">{1:4f}</span><span class="s1"> AA&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">mtd</span><span class="p">[</span><span class="s1">&#39;iq_s1_#2_d8.0m_c8.0m_w5.6A&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">readX</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span>
                                                   <span class="n">mtd</span><span class="p">[</span><span class="s1">&#39;iq_s1_#2_d8.0m_c8.0m_w5.6A&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">readX</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Distance 3 Q-range:</span><span class="si">{0:4f}</span><span class="s1">-</span><span class="si">{1:4f}</span><span class="s1"> AA&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">mtd</span><span class="p">[</span><span class="s1">&#39;iq_s1_#3_d2.0m_c5.5m_w5.6A&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">readX</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span>
                                                   <span class="n">mtd</span><span class="p">[</span><span class="s1">&#39;iq_s1_#3_d2.0m_c5.5m_w5.6A&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">readX</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]))</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Distance 1 Q-range:0.001350-0.020028 AA
Distance 2 Q-range:0.007625-0.092061 AA
Distance 3 Q-range:0.032571-0.343635 AA
</pre></div>
</div>
<p><strong>Example 2 - full treatment of 5 samples in D33</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mantid.simpleapi</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="n">config</span><span class="o">.</span><span class="n">setFacility</span><span class="p">(</span><span class="s1">&#39;ILL&#39;</span><span class="p">)</span>
<span class="n">config</span><span class="p">[</span><span class="s1">&#39;default.instrument&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;D33&#39;</span>
<span class="n">config</span><span class="o">.</span><span class="n">appendDataSearchSubDir</span><span class="p">(</span><span class="s1">&#39;ILL/D33/&#39;</span><span class="p">)</span>

<span class="n">absorber</span> <span class="o">=</span> <span class="s1">&#39;002227&#39;</span>

<span class="n">tr_beam</span> <span class="o">=</span> <span class="s1">&#39;002192&#39;</span>

<span class="n">can_tr</span> <span class="o">=</span> <span class="s1">&#39;002193&#39;</span>

<span class="n">empty_beam</span> <span class="o">=</span> <span class="s1">&#39;002219&#39;</span>

<span class="n">can</span> <span class="o">=</span> <span class="s1">&#39;002228&#39;</span>

<span class="n">mask</span> <span class="o">=</span> <span class="s1">&#39;D33Mask2.nxs&#39;</span>

<span class="n">sample_names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;H2O&#39;</span><span class="p">,</span> <span class="s1">&#39;D2O&#39;</span><span class="p">,</span> <span class="s1">&#39;AgBE&#39;</span><span class="p">,</span> <span class="s1">&#39;F127_D2O&#39;</span><span class="p">,</span> <span class="s1">&#39;F127_D2O_Anethol&#39;</span><span class="p">]</span>
<span class="n">sample_legends</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;H$_2$O&#39;</span><span class="p">,</span> <span class="s1">&#39;D$_2$O&#39;</span><span class="p">,</span> <span class="s1">&#39;AgBE&#39;</span><span class="p">,</span> <span class="s1">&#39;F127 D$_2$O&#39;</span><span class="p">,</span> <span class="s1">&#39;F127 D$_2$O Anethol&#39;</span><span class="p">]</span>

<span class="n">samples</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;002229&#39;</span><span class="p">,</span> <span class="s1">&#39;001462&#39;</span><span class="p">,</span> <span class="s1">&#39;001461&#39;</span><span class="p">,</span> <span class="s1">&#39;001463&#39;</span><span class="p">,</span> <span class="s1">&#39;001464&#39;</span><span class="p">]</span>

<span class="n">transmissions</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;002194&#39;</span><span class="p">,</span> <span class="s1">&#39;002195&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;002196&#39;</span><span class="p">,</span> <span class="s1">&#39;002197&#39;</span><span class="p">]</span>

<span class="c1"># Autoprocess every sample</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">samples</span><span class="p">)):</span>
    <span class="n">SANSILLAutoProcess</span><span class="p">(</span>
        <span class="n">SampleRuns</span><span class="o">=</span><span class="n">samples</span><span class="p">[</span><span class="n">i</span><span class="p">],</span>
        <span class="n">SampleTransmissionRuns</span><span class="o">=</span><span class="n">transmissions</span><span class="p">[</span><span class="n">i</span><span class="p">],</span>
        <span class="n">MaskFiles</span><span class="o">=</span><span class="n">mask</span><span class="p">,</span>
        <span class="n">AbsorberRuns</span><span class="o">=</span><span class="n">absorber</span><span class="p">,</span>
        <span class="n">BeamRuns</span><span class="o">=</span><span class="n">empty_beam</span><span class="p">,</span>
        <span class="n">ContainerRuns</span><span class="o">=</span><span class="n">can</span><span class="p">,</span>
        <span class="n">ContainerTransmissionRuns</span><span class="o">=</span><span class="n">can_tr</span><span class="p">,</span>
        <span class="n">TransmissionBeamRuns</span><span class="o">=</span><span class="n">tr_beam</span><span class="p">,</span>
        <span class="n">CalculateResolution</span><span class="o">=</span><span class="s1">&#39;None&#39;</span><span class="p">,</span>
        <span class="n">OutputWorkspace</span><span class="o">=</span><span class="n">sample_names</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">subplot_kw</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;projection&#39;</span><span class="p">:</span><span class="s1">&#39;mantid&#39;</span><span class="p">})</span>

<span class="n">plt</span><span class="o">.</span><span class="n">yscale</span><span class="p">(</span><span class="s1">&#39;log&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xscale</span><span class="p">(</span><span class="s1">&#39;log&#39;</span><span class="p">)</span>

<span class="c1"># Plot the result of every autoprocess</span>
<span class="k">for</span> <span class="n">wName</span> <span class="ow">in</span> <span class="n">sample_names</span><span class="p">:</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">errorbar</span><span class="p">(</span><span class="n">mtd</span><span class="p">[</span><span class="n">wName</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>

<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">sample_legends</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;d$\sigma$/d$\Omega$ ($cm^{-1}$)&#39;</span><span class="p">)</span>

<span class="c1">#fig.show()</span>
</pre></div>
</div>
<p>(<a class="reference external" href="../algorithms/SANSILLAutoProcess-v1-1.py">Source code</a>)</p>
<p><strong>Categories</strong>: <a class="reference external" href="categories/AlgorithmIndex.html">AlgorithmIndex</a> | <a class="reference external" href="categories/ILL/SANS.html">ILL\SANS</a> | <a class="reference external" href="categories/ILL/Auto.html">ILL\Auto</a></p>
</section>
<section id="source">
<h2><a class="toc-backref" href="#id8" role="doc-backlink">Source</a><a class="headerlink" href="#source" title="Permalink to this heading">¶</a></h2>
<p>Python: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/aa570da6f199141cd8ad987bf9b9b9281a1b5e33/Framework/PythonInterface/plugins/algorithms/WorkflowAlgorithms/SANSILLAutoProcess.py">SANSILLAutoProcess.py</a></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="SANSFitShiftScale-v1.html" title="Previous Chapter: SANSFitShiftScale v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; SANSFitShiftScale v1</span>
    </a>
  </li>
  <li>
    <a href="SANSILLIntegration-v1.html" title="Next Chapter: SANSILLIntegration v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">SANSILLIntegration v1 &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>