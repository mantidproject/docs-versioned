<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>D7YIGPositionCalibration v1</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="DNSComputeDetEffCorrCoefs v1" href="DNSComputeDetEffCorrCoefs-v1.html" />
    <link rel="prev" title="D7AbsoluteCrossSections v1" href="D7AbsoluteCrossSections-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.5</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://www.mantidproject.org">Home</a></li>
                <li><a href="https://download.mantidproject.org">Download</a></li>
                <li><a href="https://docs.mantidproject.org">Documentation</a></li>
                <li><a href="https://www.mantidproject.org/contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Algorithms</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">D7YIGPositionCalibration v1</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="d7yigpositioncalibration-v1">
<span id="algm-d7yigpositioncalibration"></span><span id="algm-d7yigpositioncalibration-v1"></span><h1>D7YIGPositionCalibration v1<a class="headerlink" href="#d7yigpositioncalibration-v1" title="Permalink to this heading">¶</a></h1>
<figure class="align-right" id="id3">
<span id="index-0"></span><a class="screenshot reference internal image-reference" href="../_images/D7YIGPositionCalibration-v1_dlg.png"><img alt="../_images/D7YIGPositionCalibration-v1_dlg.png" class="screenshot" src="../_images/D7YIGPositionCalibration-v1_dlg.png" style="width: 349px;" /></a>
<figcaption>
<p><span class="caption-text"><strong>D7YIGPositionCalibration</strong> dialog.</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#summary" id="id4">Summary</a></p>
<ul>
<li><p><a class="reference internal" href="#see-also" id="id5">See Also</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#properties" id="id6">Properties</a></p></li>
<li><p><a class="reference internal" href="#description" id="id7">Description</a></p>
<ul>
<li><p><a class="reference internal" href="#calibration-method" id="id8">Calibration method</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#usage" id="id9">Usage</a></p></li>
<li><p><a class="reference internal" href="#source" id="id10">Source</a></p></li>
</ul>
</nav>
<section id="summary">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Summary</a><a class="headerlink" href="#summary" title="Permalink to this heading">¶</a></h2>
<p>Performs D7 position calibration using YIG scan and returns D7 IPF readable by LoadILLPolarizedDiffraction.</p>
<section id="see-also">
<h3><a class="toc-backref" href="#id5" role="doc-backlink">See Also</a><a class="headerlink" href="#see-also" title="Permalink to this heading">¶</a></h3>
<p><a class="reference internal" href="LoadILLPolarizedDiffraction-v1.html#algm-loadillpolarizeddiffraction"><span class="std std-ref">LoadILLPolarizedDiffraction</span></a>, <a class="reference internal" href="PolDiffILLReduction-v1.html#algm-poldiffillreduction"><span class="std std-ref">PolDiffILLReduction</span></a>, <a class="reference internal" href="D7AbsoluteCrossSections-v1.html#algm-d7absolutecrosssections"><span class="std std-ref">D7AbsoluteCrossSections</span></a></p>
</section>
</section>
<section id="properties">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">Properties</a><a class="headerlink" href="#properties" title="Permalink to this heading">¶</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Direction</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Filenames</p></td>
<td><p>Input</p></td>
<td><p>list of str lists</p></td>
<td></td>
<td><p>The file names with a single YIG scan.</p></td>
</tr>
<tr class="row-odd"><td><p>InputWorkspace</p></td>
<td><p>Input</p></td>
<td><p><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a></p></td>
<td></td>
<td><p>The name of the workspace containing the entire YIG scan.</p></td>
</tr>
<tr class="row-even"><td><p>YIGPeaksFile</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>/home/mgigg/Code/mantidproject/mantid/instrument/D7_YIG_peaks.xml</p></td>
<td><p>The file name with all YIG peaks in d-spacing. Allowed extensions: [‘.xml’]</p></td>
</tr>
<tr class="row-odd"><td><p>ApproximateWavelength</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>3.1</p></td>
<td><p>The initial guess for the neutrons’ wavelength</p></td>
</tr>
<tr class="row-even"><td><p>MinimalDistanceBetweenPeaks</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>3</p></td>
<td><p>The minimal allowable distance between two YIG peaks (in degrees 2theta).</p></td>
</tr>
<tr class="row-odd"><td><p>BankOffsets</p></td>
<td><p>Input</p></td>
<td><p>dbl list</p></td>
<td><p>3,3,0</p></td>
<td><p>List of values of offset for each bank (in degrees).</p></td>
</tr>
<tr class="row-even"><td><p>BraggPeakWidth</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>2</p></td>
<td><p>An initial guess for the width of YIG Bragg peaks used for fitting (in degrees).</p></td>
</tr>
<tr class="row-odd"><td><p>MaskedBinsRange</p></td>
<td><p>Input</p></td>
<td><p>dbl list</p></td>
<td><p>-35,15</p></td>
<td><p>The lower and upper bound for the masked region around the direct beam (in degrees).</p></td>
</tr>
<tr class="row-even"><td><p>CalibrationOutputFile</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>The output YIG calibration Instrument Parameter File. Allowed values: [‘xml’]</p></td>
</tr>
<tr class="row-odd"><td><p>ClearCache</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>True</p></td>
<td><p>Whether to clear the intermediate fitting results.</p></td>
</tr>
<tr class="row-even"><td><p>FitOutputWorkspace</p></td>
<td><p>Output</p></td>
<td><p><a class="reference internal" href="../concepts/TableWorkspaces.html#table-workspaces"><span class="std std-ref">TableWorkspace</span></a></p></td>
<td></td>
<td><p>The table workspace name that will be used to store all of the calibration parameters.</p></td>
</tr>
<tr class="row-odd"><td><p>FittingMethod</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>None</p></td>
<td><p>Option to provide the initial guesses or perform fits for Bragg peaks either individually or globally. Allowed values: [‘None’, ‘Individual’, ‘Global’]</p></td>
</tr>
</tbody>
</table>
</section>
<section id="description">
<h2><a class="toc-backref" href="#id7" role="doc-backlink">Description</a><a class="headerlink" href="#description" title="Permalink to this heading">¶</a></h2>
<p>This is the algorithm that performs wavelength and position calibration for both individual detectors and detector banks using measurement of a sample of powdered <span class="math notranslate nohighlight">\(\text{Y}_{3}\text{Fe}_{5}\text{O}_{12}\)</span> (YIG). This data is fitted with Gaussian distributions at the expected peak positions. The output is an <a class="reference internal" href="../concepts/InstrumentParameterFile.html#instrumentparameterfile"><span class="std std-ref">Instrument Parameter File</span></a> readable by the <a class="reference internal" href="LoadILLPolarizedDiffraction-v1.html#algm-loadillpolarizeddiffraction"><span class="std std-ref">LoadILLPolarizedDiffraction</span></a> algorithm that will place the detector banks and detectors using the output of this algorithm. The algorithm implements method described in Ref. <a class="footnote-reference brackets" href="#fennell" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>.</p>
<p>It is crucial for a reliable calibration to first run a test without setting the <cite>BankOffsets</cite> parameter and with <cite>FittingMethod</cite> set to <cite>None</cite>. This allows checking the positions of the initial guesses for the positions of YIG Bragg peaks in the <cite>conjoined_input</cite> workspace. Then, the BankOffsets can be obtained by comparing the peak positions coming from the detectors with their expected location, coming from known d-spacings for YIG.</p>
<p>Currently the algorithm is focused on the D7 instrument that has three detector banks and a monitor, and all of them can move individually. The detector position and wavelength calibration have to be checked each time the used wavelength is changed, since the instrument has to be manually moved into a different parking position around the monochromator.</p>
<p>The property <cite>MaskedBinsRange</cite> allows to mask multiple <span class="math notranslate nohighlight">\(2\theta\)</span> ranges of the <span class="math notranslate nohighlight">\(2\theta\)</span> scan. If the number of provided arguments is even, arguments will be paired and the angular range between the first and the second element of the pair will be masked, and for all pairs. In the case where the number of arguments is odd, the first argument is assumed to be a lower cut-off, and all <span class="math notranslate nohighlight">\(2\theta\)</span> detector positions below that value will be masked.</p>
<p>The values of the fitted wavelength, three bank gradients, and the <span class="math notranslate nohighlight">\(chi^{2}\)</span> value are logged on the notice level.</p>
<section id="calibration-method">
<h3><a class="toc-backref" href="#id8" role="doc-backlink">Calibration method</a><a class="headerlink" href="#calibration-method" title="Permalink to this heading">¶</a></h3>
<p>A YIG scan data is loaded into a single 2D Workspace where the X axis contains detector positions during each step of the scan, and the Y axis the measured intensities normalized to monitor. The Y axis data is also 2D with each row representing full scan for a single detector. It is recommended to mask scan points located between -35 and 15 degrees to remove the impact of the direct neutron beam.</p>
<p>The provided YIG d-spacing values are loaded from an XML list. The default d-spacing is coming from Ref. <a class="footnote-reference brackets" href="#nakatsuka" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a>. The peak positions are converted into 2theta positions using the initial assumption of the neutron wavelength. All peaks that would require the <span class="math notranslate nohighlight">\(2\theta\)</span> to be above 180 degrees are removed.</p>
<p>YIG peaks in the detector’s scan are fitted using a Gaussian distribution. The Bragg peaks are fitted either separately, when the <cite>FittingMethod</cite> property is set to <cite>Individual</cite>, or all peaks measured by a detector are fitted together, when the <cite>FittingMethod</cite> property is set to <cite>Global</cite>. The fitting results are stored in a new workspace, where the Y axis contains the fitted peak centres and the X axis the calculated peak positions.</p>
<p>The workspace containing the peak fitting results is then fitted using a <cite>Multidomain</cite> function of the form:</p>
<div class="math notranslate nohighlight">
\[2\theta_{\text{fit}} = m \cdot (2.0 \cdot \text{asin} ( \lambda / 2d ) + offset_{\text{pixel}} + offset_{\text{bank}}),\]</div>
<p>where <cite>m</cite> is the bank slope, <span class="math notranslate nohighlight">\(offset_{\text{pixel}}\)</span> is the relative offset to the initial assumption of the position inside the detector bank, and <span class="math notranslate nohighlight">\(offset_{\text{bank}}\)</span> is the offset of the entire bank. This function allows to extract the information about the wavelength, detector bank slopes and offsets, and the distribution of detector offsets.</p>
</section>
</section>
<section id="usage">
<h2><a class="toc-backref" href="#id9" role="doc-backlink">Usage</a><a class="headerlink" href="#usage" title="Permalink to this heading">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To run these usage examples please first download the
<a class="reference external" href="https://sourceforge.net/projects/mantid/files/Sample%20Data/UsageData.zip/download">usage data</a>,
and add these to your path.
In Mantid this is done using <a class="reference internal" href="../interfaces/framework/ManageUserDirectories.html#manageuserdirectories"><span class="std std-ref">Manage User Directories</span></a>.</p>
</div>
<p><strong>Example - D7YIGPositionCalibration - calibration at the shortest wavelength</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">approximate_wavelength</span> <span class="o">=</span> <span class="s1">&#39;3.1&#39;</span> <span class="c1"># Angstrom</span>
<span class="n">D7YIGPositionCalibration</span><span class="p">(</span><span class="n">Filenames</span><span class="o">=</span><span class="s1">&#39;402652:403041&#39;</span><span class="p">,</span> <span class="n">ApproximateWavelength</span><span class="o">=</span><span class="n">approximate_wavelength</span><span class="p">,</span>
                         <span class="n">YIGPeaksFile</span><span class="o">=</span><span class="s1">&#39;D7_YIG_peaks.xml&#39;</span><span class="p">,</span> <span class="n">CalibrationOutputFile</span><span class="o">=</span><span class="s1">&#39;test_shortWavelength.xml&#39;</span><span class="p">,</span>
                         <span class="n">MinimalDistanceBetweenPeaks</span><span class="o">=</span><span class="mf">1.5</span><span class="p">,</span> <span class="n">BankOffsets</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">ClearCache</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                         <span class="n">FittingMethod</span><span class="o">=</span><span class="s1">&#39;Individual&#39;</span><span class="p">,</span> <span class="n">FitOutputWorkspace</span><span class="o">=</span><span class="s1">&#39;shortWavelength&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The calibrated wavelength is: </span><span class="si">{0:.2f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">approximate_wavelength</span><span class="p">)</span><span class="o">*</span><span class="n">mtd</span><span class="p">[</span><span class="s1">&#39;shortWavelength&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="mi">1</span><span class="p">)[</span><span class="mi">1</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The bank2 gradient is: </span><span class="si">{0:.3f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mf">1.0</span> <span class="o">/</span> <span class="n">mtd</span><span class="p">[</span><span class="s1">&#39;shortWavelength&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The bank3 gradient is: </span><span class="si">{0:.3f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mf">1.0</span> <span class="o">/</span> <span class="n">mtd</span><span class="p">[</span><span class="s1">&#39;shortWavelength&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="mi">1</span><span class="p">)[</span><span class="mi">176</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The bank4 gradient is: </span><span class="si">{0:.3f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mf">1.0</span> <span class="o">/</span> <span class="n">mtd</span><span class="p">[</span><span class="s1">&#39;shortWavelength&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="mi">1</span><span class="p">)[</span><span class="mi">352</span><span class="p">]))</span>
</pre></div>
</div>
<p><strong>Example - D7YIGPositionCalibration - calibration at the intermediate wavelength</strong></p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">Load</span><span class="p">(</span><span class="s1">&#39;ILL/D7/396442_396831.nxs&#39;</span><span class="p">,</span> <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;intermediateWavelengthScan&#39;</span><span class="p">)</span>
<span class="n">approximate_wavelength</span> <span class="o">=</span> <span class="s1">&#39;4.8&#39;</span> <span class="c1"># Angstrom</span>
<span class="n">D7YIGPositionCalibration</span><span class="p">(</span><span class="n">InputWorkspace</span><span class="o">=</span><span class="s1">&#39;intermediateWavelengthScan&#39;</span><span class="p">,</span> <span class="n">ApproximateWavelength</span><span class="o">=</span><span class="n">approximate_wavelength</span><span class="p">,</span>
                         <span class="n">YIGPeaksFile</span><span class="o">=</span><span class="s1">&#39;D7_YIG_peaks.xml&#39;</span><span class="p">,</span> <span class="n">CalibrationOutputFile</span><span class="o">=</span><span class="s1">&#39;test_intermediateWavelength.xml&#39;</span><span class="p">,</span>
                         <span class="n">MinimalDistanceBetweenPeaks</span><span class="o">=</span><span class="mf">1.5</span><span class="p">,</span> <span class="n">BankOffsets</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">],</span>
                         <span class="n">MaskedBinsRange</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">50</span><span class="p">,</span> <span class="o">-</span><span class="mi">25</span><span class="p">,</span> <span class="mi">15</span><span class="p">],</span>
                         <span class="n">FittingMethod</span><span class="o">=</span><span class="s1">&#39;Individual&#39;</span><span class="p">,</span> <span class="n">FitOutputWorkspace</span><span class="o">=</span><span class="s1">&#39;intermediateWavelength&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The calibrated wavelength is: </span><span class="si">{0:.1f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">approximate_wavelength</span><span class="p">)</span><span class="o">*</span><span class="n">mtd</span><span class="p">[</span><span class="s1">&#39;intermediateWavelength&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="mi">1</span><span class="p">)[</span><span class="mi">1</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The bank2 gradient is: </span><span class="si">{0:.1f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mf">1.0</span> <span class="o">/</span> <span class="n">mtd</span><span class="p">[</span><span class="s1">&#39;intermediateWavelength&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The bank3 gradient is: </span><span class="si">{0:.1f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mf">1.0</span> <span class="o">/</span> <span class="n">mtd</span><span class="p">[</span><span class="s1">&#39;intermediateWavelength&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="mi">1</span><span class="p">)[</span><span class="mi">176</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The bank4 gradient is: </span><span class="si">{0:.1f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mf">1.0</span> <span class="o">/</span> <span class="n">mtd</span><span class="p">[</span><span class="s1">&#39;intermediateWavelength&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="mi">1</span><span class="p">)[</span><span class="mi">352</span><span class="p">]))</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>The calibrated wavelength is: 4.8
The bank2 gradient is: 1.0
The bank3 gradient is: 1.0
The bank4 gradient is: 1.0
</pre></div>
</div>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="fennell" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p>T. Fennell, L. Mangin-Thro, H.Mutka, G.J. Nilsen, A.R. Wildes.
<em>Wavevector and energy resolution of the polarized diffuse scattering spectrometer D7</em>,
Nuclear Instruments and Methods in Physics Research A <strong>857</strong> (2017) 24–30
<a class="reference external" href="https://doi.org/10.1016/j.nima.2017.03.024">doi: 10.1016/j.nima.2017.03.024</a></p>
</aside>
<aside class="footnote brackets" id="nakatsuka" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">2</a><span class="fn-bracket">]</span></span>
<p>A. Nakatsuka, A. Yoshiasa, and S. Takeno.
<em>Site preference of cations and structural variation in Y3Fe5O12 solid solutions with garnet structure</em>,
Acta Crystallographica Section B <strong>51</strong> (1995) 737–745
<a class="reference external" href="https://doi.org/10.1107/S0108768194014813">doi: 10.1107/S0108768194014813</a></p>
</aside>
</aside>
<p><strong>Categories</strong>: <a class="reference external" href="categories/AlgorithmIndex.html">AlgorithmIndex</a> | <a class="reference external" href="categories/ILL/Diffraction.html">ILL\Diffraction</a></p>
</section>
<section id="source">
<h2><a class="toc-backref" href="#id10" role="doc-backlink">Source</a><a class="headerlink" href="#source" title="Permalink to this heading">¶</a></h2>
<p>Python: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/aa570da6f199141cd8ad987bf9b9b9281a1b5e33/Framework/PythonInterface/plugins/algorithms/WorkflowAlgorithms/D7YIGPositionCalibration.py">D7YIGPositionCalibration.py</a></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="D7AbsoluteCrossSections-v1.html" title="Previous Chapter: D7AbsoluteCrossSections v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; D7AbsoluteCro...</span>
    </a>
  </li>
  <li>
    <a href="DNSComputeDetEffCorrCoefs-v1.html" title="Next Chapter: DNSComputeDetEffCorrCoefs v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">DNSComputeDet... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>