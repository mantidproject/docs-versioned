<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>SaveIsawDetCal v1</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="SaveIsawPeaks v1" href="SaveIsawPeaks-v1.html" />
    <link rel="prev" title="SaveISISNexus v1" href="SaveISISNexus-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.5</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://www.mantidproject.org">Home</a></li>
                <li><a href="https://download.mantidproject.org">Download</a></li>
                <li><a href="https://docs.mantidproject.org">Documentation</a></li>
                <li><a href="https://www.mantidproject.org/contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Algorithms</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">SaveIsawDetCal v1</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="saveisawdetcal-v1">
<span id="algm-saveisawdetcal"></span><span id="algm-saveisawdetcal-v1"></span><h1>SaveIsawDetCal v1<a class="headerlink" href="#saveisawdetcal-v1" title="Permalink to this heading">¶</a></h1>
<figure class="align-right" id="id1">
<span id="index-0"></span><a class="screenshot reference internal image-reference" href="../_images/SaveIsawDetCal-v1_dlg.png"><img alt="../_images/SaveIsawDetCal-v1_dlg.png" class="screenshot" src="../_images/SaveIsawDetCal-v1_dlg.png" style="width: 382px;" /></a>
<figcaption>
<p><span class="caption-text"><strong>SaveIsawDetCal</strong> dialog.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#summary" id="id2">Summary</a></p>
<ul>
<li><p><a class="reference internal" href="#see-also" id="id3">See Also</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#properties" id="id4">Properties</a></p></li>
<li><p><a class="reference internal" href="#description" id="id5">Description</a></p></li>
<li><p><a class="reference internal" href="#source" id="id6">Source</a></p></li>
</ul>
</nav>
<section id="summary">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Summary</a><a class="headerlink" href="#summary" title="Permalink to this heading">¶</a></h2>
<p>Saves an instrument with RectangularDetectors to an ISAW .DetCal file.</p>
<section id="see-also">
<h3><a class="toc-backref" href="#id3" role="doc-backlink">See Also</a><a class="headerlink" href="#see-also" title="Permalink to this heading">¶</a></h3>
<p><a class="reference internal" href="LoadIsawDetCal-v1.html#algm-loadisawdetcal"><span class="std std-ref">LoadIsawDetCal</span></a></p>
</section>
</section>
<section id="properties">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Properties</a><a class="headerlink" href="#properties" title="Permalink to this heading">¶</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Direction</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>InputWorkspace</p></td>
<td><p>Input</p></td>
<td><p><a class="reference internal" href="../concepts/Workspace.html#workspace"><span class="std std-ref">Workspace</span></a></p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>An input workspace.</p></td>
</tr>
<tr class="row-odd"><td><p>Filename</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>Path to an ISAW-style .detcal file to save. Allowed extensions: [‘.detcal’]</p></td>
</tr>
<tr class="row-even"><td><p>TimeOffset</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>0</p></td>
<td><p>Offsets to be applied to times</p></td>
</tr>
<tr class="row-odd"><td><p>BankNames</p></td>
<td><p>Input</p></td>
<td><p>str list</p></td>
<td></td>
<td><p>Optional: Only select the specified banks</p></td>
</tr>
<tr class="row-even"><td><p>AppendFile</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>False</p></td>
<td><p>Append to file if true. If false, new file (default).</p></td>
</tr>
</tbody>
</table>
</section>
<section id="description">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Description</a><a class="headerlink" href="#description" title="Permalink to this heading">¶</a></h2>
<p>Saves an instrument with RectangularDetectors to an ISAW .DetCal file.</p>
<p>This algorithm will fail on instruments without RectangularDetectors.
Additionally, the banks should be named “bankXX” where XX is the bank
index. Other names will fail or create an invalid .DetCal file.</p>
<p>Example file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># NEW CALIBRATION FILE FORMAT (in NeXus/SNS coordinates):</span>
<span class="c1"># Lengths are in centimeters.</span>
<span class="c1"># Base and up give directions of unit vectors for a local</span>
<span class="c1"># x,y coordinate system on the face of the detector.</span>
<span class="c1">#</span>
<span class="c1">#</span>
<span class="c1"># Sat Apr 05 13:47:05 EDT 2014</span>
<span class="mi">6</span>         <span class="n">L1</span>     <span class="n">T0_SHIFT</span>
<span class="mi">7</span>  <span class="mf">1803.2456</span>        <span class="mf">1.672</span>
<span class="mi">4</span> <span class="n">DETNUM</span>  <span class="n">NROWS</span>  <span class="n">NCOLS</span>    <span class="n">WIDTH</span>   <span class="n">HEIGHT</span>   <span class="n">DEPTH</span>   <span class="n">DETD</span>   <span class="n">CenterX</span>   <span class="n">CenterY</span>   <span class="n">CenterZ</span>    <span class="n">BaseX</span>    <span class="n">BaseY</span>    <span class="n">BaseZ</span>      <span class="n">UpX</span>      <span class="n">UpY</span>      <span class="n">UpZ</span>
<span class="mi">5</span>     <span class="mi">16</span>    <span class="mi">256</span>    <span class="mi">256</span>  <span class="mf">15.8190</span>  <span class="mf">15.9600</span>  <span class="mf">0.2000</span>  <span class="mf">46.23</span>  <span class="o">-</span><span class="mf">22.9051</span>  <span class="o">-</span><span class="mf">24.6398</span>  <span class="o">-</span><span class="mf">31.7036</span>  <span class="mf">0.35194</span>  <span class="mf">0.60487</span> <span class="o">-</span><span class="mf">0.71434</span> <span class="o">-</span><span class="mf">0.80273</span>  <span class="mf">0.58755</span>  <span class="mf">0.10202</span>
<span class="mi">5</span>     <span class="mi">17</span>    <span class="mi">256</span>    <span class="mi">256</span>  <span class="mf">15.8190</span>  <span class="mf">15.8004</span>  <span class="mf">0.2000</span>  <span class="mf">45.89</span>  <span class="o">-</span><span class="mf">36.9397</span>  <span class="o">-</span><span class="mf">24.4596</span>  <span class="o">-</span><span class="mf">11.9614</span> <span class="o">-</span><span class="mf">0.13647</span>  <span class="mf">0.59956</span> <span class="o">-</span><span class="mf">0.78861</span> <span class="o">-</span><span class="mf">0.57552</span>  <span class="mf">0.59996</span>  <span class="mf">0.55572</span>
<span class="mi">5</span>     <span class="mi">18</span>    <span class="mi">256</span>    <span class="mi">256</span>  <span class="mf">15.8190</span>  <span class="mf">15.7432</span>  <span class="mf">0.2000</span>  <span class="mf">45.96</span>  <span class="o">-</span><span class="mf">36.9982</span>  <span class="o">-</span><span class="mf">24.4046</span>   <span class="mf">12.1779</span> <span class="o">-</span><span class="mf">0.57028</span>  <span class="mf">0.60175</span> <span class="o">-</span><span class="mf">0.55918</span> <span class="o">-</span><span class="mf">0.13908</span>  <span class="mf">0.60016</span>  <span class="mf">0.78769</span>
<span class="mi">5</span>     <span class="mi">19</span>    <span class="mi">256</span>    <span class="mi">256</span>  <span class="mf">15.8190</span>  <span class="mf">15.8439</span>  <span class="mf">0.2000</span>  <span class="mf">46.18</span>  <span class="o">-</span><span class="mf">22.9210</span>  <span class="o">-</span><span class="mf">24.4484</span>   <span class="mf">31.7708</span> <span class="o">-</span><span class="mf">0.79476</span>  <span class="mf">0.59661</span> <span class="o">-</span><span class="mf">0.11139</span>  <span class="mf">0.35048</span>  <span class="mf">0.60100</span>  <span class="mf">0.71831</span>
<span class="mi">5</span>     <span class="mi">23</span>    <span class="mi">256</span>    <span class="mi">256</span>  <span class="mf">15.8190</span>  <span class="mf">15.9854</span>  <span class="mf">0.2000</span>  <span class="mf">43.43</span>   <span class="mf">33.9898</span>  <span class="o">-</span><span class="mf">11.9805</span>  <span class="o">-</span><span class="mf">24.2403</span>  <span class="mf">0.56320</span>  <span class="mf">0.68289</span>  <span class="mf">0.46526</span> <span class="o">-</span><span class="mf">0.25303</span>  <span class="mf">0.67853</span> <span class="o">-</span><span class="mf">0.68962</span>
<span class="mi">5</span>     <span class="mi">26</span>    <span class="mi">256</span>    <span class="mi">256</span>  <span class="mf">15.8190</span>  <span class="mf">15.7207</span>  <span class="mf">0.2000</span>  <span class="mf">42.59</span>  <span class="o">-</span><span class="mf">33.0834</span>  <span class="o">-</span><span class="mf">11.8416</span>  <span class="o">-</span><span class="mf">24.0655</span>  <span class="mf">0.25991</span>  <span class="mf">0.67612</span> <span class="o">-</span><span class="mf">0.68942</span> <span class="o">-</span><span class="mf">0.55962</span>  <span class="mf">0.68731</span>  <span class="mf">0.46307</span>
<span class="mi">5</span>     <span class="mi">27</span>    <span class="mi">256</span>    <span class="mi">256</span>  <span class="mf">15.8190</span>  <span class="mf">15.8852</span>  <span class="mf">0.2000</span>  <span class="mf">42.95</span>  <span class="o">-</span><span class="mf">41.2664</span>  <span class="o">-</span><span class="mf">11.9133</span>    <span class="mf">0.1131</span> <span class="o">-</span><span class="mf">0.19398</span>  <span class="mf">0.67968</span> <span class="o">-</span><span class="mf">0.70739</span> <span class="o">-</span><span class="mf">0.19593</span>  <span class="mf">0.67972</span>  <span class="mf">0.70682</span>
<span class="mi">5</span>     <span class="mi">28</span>    <span class="mi">256</span>    <span class="mi">256</span>  <span class="mf">15.8190</span>  <span class="mf">15.8344</span>  <span class="mf">0.2000</span>  <span class="mf">42.88</span>  <span class="o">-</span><span class="mf">33.2716</span>  <span class="o">-</span><span class="mf">11.8225</span>   <span class="mf">24.3349</span> <span class="o">-</span><span class="mf">0.59100</span>  <span class="mf">0.67121</span> <span class="o">-</span><span class="mf">0.44744</span>  <span class="mf">0.26024</span>  <span class="mf">0.68366</span>  <span class="mf">0.68183</span>
<span class="mi">5</span>     <span class="mi">29</span>    <span class="mi">256</span>    <span class="mi">256</span>  <span class="mf">15.8190</span>  <span class="mf">15.7846</span>  <span class="mf">0.2000</span>  <span class="mf">43.07</span>  <span class="o">-</span><span class="mf">12.6857</span>  <span class="o">-</span><span class="mf">11.8127</span>   <span class="mf">39.4263</span> <span class="o">-</span><span class="mf">0.72950</span>  <span class="mf">0.68246</span> <span class="o">-</span><span class="mf">0.04558</span>  <span class="mf">0.60781</span>  <span class="mf">0.67738</span>  <span class="mf">0.41438</span>
<span class="mi">5</span>     <span class="mi">33</span>    <span class="mi">256</span>    <span class="mi">256</span>  <span class="mf">15.8190</span>  <span class="mf">15.9602</span>  <span class="mf">0.2000</span>  <span class="mf">40.38</span>   <span class="mf">38.4929</span>    <span class="mf">0.0224</span>  <span class="o">-</span><span class="mf">12.1887</span>  <span class="mf">0.19968</span>  <span class="mf">0.70793</span>  <span class="mf">0.67747</span> <span class="o">-</span><span class="mf">0.23231</span>  <span class="mf">0.70589</span> <span class="o">-</span><span class="mf">0.66915</span>
<span class="mi">5</span>     <span class="mi">36</span>    <span class="mi">256</span>    <span class="mi">256</span>  <span class="mf">15.8190</span>  <span class="mf">15.9188</span>  <span class="mf">0.2000</span>  <span class="mf">39.80</span>  <span class="o">-</span><span class="mf">23.3198</span>   <span class="o">-</span><span class="mf">0.0197</span>  <span class="o">-</span><span class="mf">32.2481</span>  <span class="mf">0.55965</span>  <span class="mf">0.70602</span> <span class="o">-</span><span class="mf">0.43397</span> <span class="o">-</span><span class="mf">0.55676</span>  <span class="mf">0.70819</span>  <span class="mf">0.43415</span>
<span class="mi">5</span>     <span class="mi">37</span>    <span class="mi">256</span>    <span class="mi">256</span>  <span class="mf">15.8190</span>  <span class="mf">15.7415</span>  <span class="mf">0.2000</span>  <span class="mf">39.68</span>  <span class="o">-</span><span class="mf">37.7483</span>   <span class="o">-</span><span class="mf">0.0333</span>  <span class="o">-</span><span class="mf">12.2191</span>  <span class="mf">0.21937</span>  <span class="mf">0.70678</span> <span class="o">-</span><span class="mf">0.67256</span> <span class="o">-</span><span class="mf">0.21816</span>  <span class="mf">0.70743</span>  <span class="mf">0.67227</span>
<span class="mi">5</span>     <span class="mi">38</span>    <span class="mi">256</span>    <span class="mi">256</span>  <span class="mf">15.8190</span>  <span class="mf">15.7490</span>  <span class="mf">0.2000</span>  <span class="mf">39.89</span>  <span class="o">-</span><span class="mf">37.9011</span>   <span class="o">-</span><span class="mf">0.0078</span>   <span class="mf">12.4269</span> <span class="o">-</span><span class="mf">0.21892</span>  <span class="mf">0.70732</span> <span class="o">-</span><span class="mf">0.67214</span>  <span class="mf">0.22111</span>  <span class="mf">0.70689</span>  <span class="mf">0.67187</span>
<span class="mi">5</span>     <span class="mi">39</span>    <span class="mi">256</span>    <span class="mi">256</span>  <span class="mf">15.8190</span>  <span class="mf">15.8073</span>  <span class="mf">0.2000</span>  <span class="mf">39.94</span>  <span class="o">-</span><span class="mf">23.3827</span>    <span class="mf">0.0471</span>   <span class="mf">32.3765</span> <span class="o">-</span><span class="mf">0.57072</span>  <span class="mf">0.70572</span> <span class="o">-</span><span class="mf">0.41981</span>  <span class="mf">0.56719</span>  <span class="mf">0.70849</span>  <span class="mf">0.41992</span>
<span class="mi">5</span>     <span class="mi">46</span>    <span class="mi">256</span>    <span class="mi">256</span>  <span class="mf">15.8190</span>  <span class="mf">15.8546</span>  <span class="mf">0.2000</span>  <span class="mf">42.65</span>  <span class="o">-</span><span class="mf">33.1415</span>   <span class="mf">11.8100</span>  <span class="o">-</span><span class="mf">24.1040</span>  <span class="mf">0.57102</span>  <span class="mf">0.68156</span> <span class="o">-</span><span class="mf">0.45762</span> <span class="o">-</span><span class="mf">0.26014</span>  <span class="mf">0.67893</span>  <span class="mf">0.68657</span>
<span class="mi">5</span>     <span class="mi">47</span>    <span class="mi">256</span>    <span class="mi">256</span>  <span class="mf">15.8190</span>  <span class="mf">15.7332</span>  <span class="mf">0.2000</span>  <span class="mf">42.72</span>  <span class="o">-</span><span class="mf">41.0597</span>   <span class="mf">11.8055</span>    <span class="mf">0.0941</span>  <span class="mf">0.22689</span>  <span class="mf">0.66947</span> <span class="o">-</span><span class="mf">0.70735</span>  <span class="mf">0.19333</span>  <span class="mf">0.68087</span>  <span class="mf">0.70642</span>
<span class="mi">5</span>     <span class="mi">48</span>    <span class="mi">256</span>    <span class="mi">256</span>  <span class="mf">15.8190</span>  <span class="mf">15.8637</span>  <span class="mf">0.2000</span>  <span class="mf">42.97</span>  <span class="o">-</span><span class="mf">33.3467</span>   <span class="mf">11.8763</span>   <span class="mf">24.3520</span> <span class="o">-</span><span class="mf">0.25790</span>  <span class="mf">0.68002</span> <span class="o">-</span><span class="mf">0.68634</span>  <span class="mf">0.57475</span>  <span class="mf">0.67899</span>  <span class="mf">0.45677</span>
<span class="mi">5</span>     <span class="mi">49</span>    <span class="mi">256</span>    <span class="mi">256</span>  <span class="mf">15.8190</span>  <span class="mf">15.8240</span>  <span class="mf">0.2000</span>  <span class="mf">42.88</span>  <span class="o">-</span><span class="mf">12.6398</span>   <span class="mf">11.8383</span>   <span class="mf">39.2278</span> <span class="o">-</span><span class="mf">0.60890</span>  <span class="mf">0.67804</span> <span class="o">-</span><span class="mf">0.41171</span>  <span class="mf">0.73035</span>  <span class="mf">0.68174</span>  <span class="mf">0.04259</span>
<span class="mi">5</span>     <span class="mi">58</span>    <span class="mi">256</span>    <span class="mi">256</span>  <span class="mf">15.8190</span>  <span class="mf">15.9019</span>  <span class="mf">0.2000</span>  <span class="mf">46.09</span>  <span class="o">-</span><span class="mf">37.1034</span>   <span class="mf">24.4895</span>   <span class="mf">12.1518</span>  <span class="mf">0.14449</span>  <span class="mf">0.59693</span> <span class="o">-</span><span class="mf">0.78918</span>  <span class="mf">0.58774</span>  <span class="mf">0.58984</span>  <span class="mf">0.55376</span>
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/AlgorithmIndex.html">AlgorithmIndex</a> | <a class="reference external" href="categories/Diffraction/DataHandling.html">Diffraction\DataHandling</a> | <a class="reference external" href="categories/DataHandling/Isaw.html">DataHandling\Isaw</a></p>
</section>
<section id="source">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">Source</a><a class="headerlink" href="#source" title="Permalink to this heading">¶</a></h2>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/aa570da6f199141cd8ad987bf9b9b9281a1b5e33/Framework/DataHandling/inc/MantidDataHandling/SaveIsawDetCal.h">SaveIsawDetCal.h</a></p>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/aa570da6f199141cd8ad987bf9b9b9281a1b5e33/Framework/DataHandling/src/SaveIsawDetCal.cpp">SaveIsawDetCal.cpp</a></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="SaveISISNexus-v1.html" title="Previous Chapter: SaveISISNexus v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; SaveISISNexus v1</span>
    </a>
  </li>
  <li>
    <a href="SaveIsawPeaks-v1.html" title="Next Chapter: SaveIsawPeaks v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">SaveIsawPeaks v1 &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>