<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>LoadLiveData v1</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="LoadLog v1" href="LoadLog-v1.html" />
    <link rel="prev" title="LoadLamp v1" href="LoadLamp-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.5</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://www.mantidproject.org">Home</a></li>
                <li><a href="https://download.mantidproject.org">Download</a></li>
                <li><a href="https://docs.mantidproject.org">Documentation</a></li>
                <li><a href="https://www.mantidproject.org/contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Algorithms</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">LoadLiveData v1</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="loadlivedata-v1">
<span id="algm-loadlivedata"></span><span id="algm-loadlivedata-v1"></span><h1>LoadLiveData v1<a class="headerlink" href="#loadlivedata-v1" title="Permalink to this heading">¶</a></h1>
<figure class="align-right" id="id1">
<span id="index-0"></span><a class="screenshot reference internal image-reference" href="../_images/LoadLiveData-v1_dlg.png"><img alt="../_images/LoadLiveData-v1_dlg.png" class="screenshot" src="../_images/LoadLiveData-v1_dlg.png" style="width: 349px;" /></a>
<figcaption>
<p><span class="caption-text"><strong>LoadLiveData</strong> dialog.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#summary" id="id3">Summary</a></p></li>
<li><p><a class="reference internal" href="#properties" id="id4">Properties</a></p></li>
<li><p><a class="reference internal" href="#description" id="id5">Description</a></p>
<ul>
<li><p><a class="reference internal" href="#data-processing" id="id6">Data Processing</a></p>
<ul>
<li><p><a class="reference internal" href="#processing-with-an-algorithm" id="id7">Processing with an Algorithm</a></p></li>
<li><p><a class="reference internal" href="#processing-with-a-python-script" id="id8">Processing with a Python Script</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#data-accumulation" id="id9">Data Accumulation</a></p></li>
<li><p><a class="reference internal" href="#post-processing-step" id="id10">Post-Processing Step</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#usage" id="id11">Usage</a></p></li>
<li><p><a class="reference internal" href="#source" id="id12">Source</a></p></li>
</ul>
</nav>
<section id="summary">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Summary</a><a class="headerlink" href="#summary" title="Permalink to this heading">¶</a></h2>
<p>Load a chunk of live data. You should call StartLiveData, and not this algorithm directly.</p>
</section>
<section id="properties">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Properties</a><a class="headerlink" href="#properties" title="Permalink to this heading">¶</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Direction</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Instrument</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>Name of the instrument to monitor. Allowed values: [‘ALF’, ‘ARGUS’, ‘CHRONUS’, ‘CRISP’, ‘EMU’, ‘ENGIN-X’, ‘ENGIN-X_EVENT’, ‘GEM’, ‘HET’, ‘HIFI’, ‘HRPD’, ‘IMAT’, ‘INES’, ‘INTER’, ‘IRIS’, ‘LARMOR’, ‘LET’, ‘LET_EVENT’, ‘LOQ’, ‘MAPS’, ‘MARI’, ‘MERLIN’, ‘MERLIN_EVENT’, ‘MUSR’, ‘NGEM’, ‘NIMROD’, ‘OFFSPEC’, ‘OFFSPEC_EVENT’, ‘OSIRIS’, ‘PEARL’, ‘POLARIS’, ‘POLREF’, ‘SANDALS’, ‘SANS2D’, ‘SANS2D_EVENT’, ‘SURF’, ‘SXD’, ‘TOSCA’, ‘VESUVIO’, ‘WISH’, ‘ZOOM’]</p></td>
</tr>
<tr class="row-odd"><td><p>Connection</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>Selects the listener connection entry to use. Default connection will be used if not specified</p></td>
</tr>
<tr class="row-even"><td><p>Listener</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>Name of the listener class to use. If specified, overrides class specified by Connection. Allowed values: [‘FakeEventDataListener’, ‘FileEventDataListener’, ‘ISISHistoDataListener’, ‘ISISLiveEventDataListener’, ‘KafkaEventListener’, ‘KafkaHistoListener’, ‘SINQHMListener’, ‘SNSLiveEventDataListener’, ‘’]</p></td>
</tr>
<tr class="row-odd"><td><p>Address</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>Address for the listener to connect to. If specified, overrides address specified by Connection.</p></td>
</tr>
<tr class="row-even"><td><p>StartTime</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>Absolute start time, if you selected FromTime. Specify the date/time in UTC time, in ISO8601 format, e.g. 2010-09-14T04:20:12.95</p></td>
</tr>
<tr class="row-odd"><td><p>ProcessingAlgorithm</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>Name of the algorithm that will be run to process each chunk of data. Optional. If blank, no processing will occur.</p></td>
</tr>
<tr class="row-even"><td><p>ProcessingProperties</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>The properties to pass to the ProcessingAlgorithm, as a single string. The format is propName=value;propName=value</p></td>
</tr>
<tr class="row-odd"><td><p>ProcessingScript</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>A Python script that will be run to process each chunk of data. Only for command line usage, does not appear on the user interface.</p></td>
</tr>
<tr class="row-even"><td><p>ProcessingScriptFilename</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>A Python script that will be run to process each chunk of data. Only for command line usage, does not appear on the user interface. Allowed values: [‘py’]</p></td>
</tr>
<tr class="row-odd"><td><p>AccumulationMethod</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>Add</p></td>
<td><p>Method to use for accumulating each chunk of live data.  - Add: the processed chunk will be summed to the previous outpu (default).  - Replace: the processed chunk will replace the previous output.  - Append: the spectra of the chunk will be appended to the output workspace, increasing its size. Allowed values: [‘Add’, ‘Replace’, ‘Append’]</p></td>
</tr>
<tr class="row-even"><td><p>PreserveEvents</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>False</p></td>
<td><p>Preserve events after performing the Processing step. Default False. This only applies if the ProcessingAlgorithm produces an EventWorkspace. It is strongly recommended to keep this unchecked, because preserving events may cause significant slowdowns when the run becomes large!</p></td>
</tr>
<tr class="row-odd"><td><p>PostProcessingAlgorithm</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>Name of the algorithm that will be run to process the accumulated data. Optional. If blank, no post-processing will occur.</p></td>
</tr>
<tr class="row-even"><td><p>PostProcessingProperties</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>The properties to pass to the PostProcessingAlgorithm, as a single string. The format is propName=value;propName=value</p></td>
</tr>
<tr class="row-odd"><td><p>PostProcessingScript</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>A Python script that will be run to process the accumulated data.</p></td>
</tr>
<tr class="row-even"><td><p>PostProcessingScriptFilename</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>Python script that will be run to process the accumulated data. Allowed values: [‘py’]</p></td>
</tr>
<tr class="row-odd"><td><p>RunTransitionBehavior</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>Restart</p></td>
<td><p>What to do at run start/end boundaries?  - Restart: the previously accumulated data is discarded.  - Stop: live data monitoring ends.  - Rename: the previous workspaces are renamed, and monitoring continues with cleared ones. Allowed values: [‘Restart’, ‘Stop’, ‘Rename’]</p></td>
</tr>
<tr class="row-even"><td><p>AccumulationWorkspace</p></td>
<td><p>Output</p></td>
<td><p><a class="reference internal" href="../concepts/Workspace.html#workspace"><span class="std std-ref">Workspace</span></a></p></td>
<td></td>
<td><p>Optional, unless performing PostProcessing:  Give the name of the intermediate, accumulation workspace.  This is the workspace after accumulation but before post-processing steps.</p></td>
</tr>
<tr class="row-odd"><td><p>OutputWorkspace</p></td>
<td><p>Output</p></td>
<td><p><a class="reference internal" href="../concepts/Workspace.html#workspace"><span class="std std-ref">Workspace</span></a></p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>Name of the processed output workspace.</p></td>
</tr>
<tr class="row-even"><td><p>LastTimeStamp</p></td>
<td><p>Output</p></td>
<td><p>string</p></td>
<td></td>
<td><p>The time stamp of the last event, frame or pulse recorded. Date/time is in UTC time, in ISO8601 format, e.g. 2010-09-14T04:20:12.95</p></td>
</tr>
</tbody>
</table>
</section>
<section id="description">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Description</a><a class="headerlink" href="#description" title="Permalink to this heading">¶</a></h2>
<p>This algorithm is called on a regular interval by the
<a class="reference internal" href="MonitorLiveData-v1.html#algm-monitorlivedata"><span class="std std-ref">MonitorLiveData v1</span></a> algorithm. and the whole process is
started by the <a class="reference internal" href="StartLiveData-v1.html#algm-startlivedata"><span class="std std-ref">StartLiveData v1</span></a> algorithm.  <strong>It should not
be necessary to call LoadLiveData directly.</strong></p>
<figure class="align-default" id="id2">
<img alt="LoadLiveData_flow.png" src="../_images/LoadLiveData_flow.png" />
<figcaption>
<p><span class="caption-text">LoadLiveData_flow.png</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<section id="data-processing">
<h3><a class="toc-backref" href="#id6" role="doc-backlink">Data Processing</a><a class="headerlink" href="#data-processing" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Each time LoadLiveData is called, a chunk of data is loaded from the
live listener.</p>
<ul>
<li><p>This consists of all the data collected since the previous call.</p></li>
<li><p>The data is saved in a temporary <a class="reference internal" href="../concepts/Workspace.html#workspace"><span class="std std-ref">workspace</span></a>.</p></li>
</ul>
</li>
<li><p>You have two options on how to process this workspace:</p></li>
</ul>
<section id="processing-with-an-algorithm">
<h4><a class="toc-backref" href="#id7" role="doc-backlink">Processing with an Algorithm</a><a class="headerlink" href="#processing-with-an-algorithm" title="Permalink to this heading">¶</a></h4>
<ul class="simple">
<li><p>Specify the name of the algorithm in the <code class="docutils literal notranslate"><span class="pre">ProcessingAlgorithm</span></code>
property.</p>
<ul>
<li><p>This could be a python algorithm written for this purpose</p></li>
<li><p>The algorithm <em>must</em> have at least 2 properties: <code class="docutils literal notranslate"><span class="pre">InputWorkspace</span></code>
and <code class="docutils literal notranslate"><span class="pre">OutputWorkspace</span></code>.</p></li>
<li><p>Any other properties are set from the string in
<code class="docutils literal notranslate"><span class="pre">ProcessingProperties</span></code>.</p></li>
<li><p>The algorithm is then run, and its <code class="docutils literal notranslate"><span class="pre">OutputWorkspace</span></code> is saved</p></li>
</ul>
</li>
</ul>
</section>
<section id="processing-with-a-python-script">
<h4><a class="toc-backref" href="#id8" role="doc-backlink">Processing with a Python Script</a><a class="headerlink" href="#processing-with-a-python-script" title="Permalink to this heading">¶</a></h4>
<p>The python script is run using <a class="reference internal" href="RunPythonScript-v1.html#algm-runpythonscript"><span class="std std-ref">RunPythonScript v1</span></a>. Please see
its documentation for details of how the script is run.</p>
<ul class="simple">
<li><p>Specify a python script in the <code class="docutils literal notranslate"><span class="pre">ProcessingScript</span></code> property.</p>
<ul>
<li><p>This can have several lines.</p></li>
<li><p>Two variables have special meaning:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">input</span></code> is a reference to the input workspace.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">output</span></code> is the name of the processed, output workspace.</p></li>
</ul>
</li>
<li><p>Otherwise, your script can contain any legal python code including
calls to other Mantid algorithms.</p></li>
<li><p>If you create temporary workspaces, you should delete them in the
script.</p></li>
</ul>
</li>
<li><p>Specify a python script in the <code class="docutils literal notranslate"><span class="pre">ProcessingScriptFilename</span></code> property.</p>
<ul>
<li><p>Contents of the file have the exact same rules as specifying the <code class="docutils literal notranslate"><span class="pre">ProcessingScript</span></code></p></li>
</ul>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When <code class="docutils literal notranslate"><span class="pre">PreserveEvents</span></code> is enabled and the data has not been binned
during the process step (with <code class="docutils literal notranslate"><span class="pre">ProcessingAlgorithm</span></code>,
<code class="docutils literal notranslate"><span class="pre">ProcessingScript</span></code>, or <code class="docutils literal notranslate"><span class="pre">ProcessingScriptFilename</span></code>), the data
will be rebinned at the end of the step to include all events. Use
the Post-Process step instead for <a class="reference internal" href="../concepts/EventWorkspace.html#eventworkspace"><span class="std std-ref">EventWorkspaces</span></a>.</p>
</div>
</section>
</section>
<section id="data-accumulation">
<h3><a class="toc-backref" href="#id9" role="doc-backlink">Data Accumulation</a><a class="headerlink" href="#data-accumulation" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">AccumulationMethod</span></code> property specifies what to do with each
chunk.</p>
<ul>
<li><p>If you select <code class="docutils literal notranslate"><span class="pre">Add</span></code>, the chunks of processed data will be added
using <a class="reference internal" href="Plus-v1.html#algm-plus"><span class="std std-ref">Plus v1</span></a> or <a class="reference internal" href="PlusMD-v1.html#algm-plusmd"><span class="std std-ref">PlusMD v1</span></a>.</p></li>
<li><p>If you select <code class="docutils literal notranslate"><span class="pre">Replace</span></code>, then the output workspace will always be
equal to the latest processed chunk.</p></li>
<li><p>If you select <code class="docutils literal notranslate"><span class="pre">Append</span></code>, then the spectra from each chunk will be
appended to the output workspace.</p></li>
</ul>
</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Beware! If you select <code class="docutils literal notranslate"><span class="pre">PreserveEvents=True</span></code> and your processing
keeps the data as <a class="reference internal" href="../concepts/EventWorkspace.html#eventworkspace"><span class="std std-ref">EventWorkspaces</span></a>, you may end
up creating <strong>very large</strong> EventWorkspaces in long runs. Most plots
require re-sorting the events, which is an operation that gets much
slower as the list gets bigger (Order of <span class="math notranslate nohighlight">\(N * log(N)\)</span>). This
could cause Mantid to run very slowly or to crash due to lack of
memory.</p>
<p>It is highly recommended that early in the PostProcessing step one
uses <a class="reference internal" href="CompressEvents-v1.html#algm-compressevents"><span class="std std-ref">CompressEvents</span></a> if the data is going
to remain in events.</p>
</div>
</section>
<section id="post-processing-step">
<h3><a class="toc-backref" href="#id10" role="doc-backlink">Post-Processing Step</a><a class="headerlink" href="#post-processing-step" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Optionally, you can specify some processing to perform <em>after</em>
accumulation.</p>
<ul>
<li><p>You then need to specify the <code class="docutils literal notranslate"><span class="pre">AccumulationWorkspace</span></code> property.</p></li>
</ul>
</li>
<li><p>Using either the <code class="docutils literal notranslate"><span class="pre">PostProcessingAlgorithm</span></code>, <code class="docutils literal notranslate"><span class="pre">PostProcessingScript</span></code>,
or <code class="docutils literal notranslate"><span class="pre">PostProcessingScriptFilename</span></code> (same way as above), the
<code class="docutils literal notranslate"><span class="pre">AccumulationWorkspace</span></code> is processed into the <code class="docutils literal notranslate"><span class="pre">OutputWorkspace</span></code></p></li>
</ul>
</section>
</section>
<section id="usage">
<h2><a class="toc-backref" href="#id11" role="doc-backlink">Usage</a><a class="headerlink" href="#usage" title="Permalink to this heading">¶</a></h2>
<p>LoadLiveData is not intended for usage directly, it is part of he
process that is started using <a class="reference internal" href="StartLiveData-v1.html#algm-startlivedata"><span class="std std-ref">StartLiveData v1</span></a>.</p>
<p><strong>Categories</strong>: <a class="reference external" href="categories/AlgorithmIndex.html">AlgorithmIndex</a> | <a class="reference external" href="categories/DataHandling/LiveData/Support.html">DataHandling\LiveData\Support</a></p>
</section>
<section id="source">
<h2><a class="toc-backref" href="#id12" role="doc-backlink">Source</a><a class="headerlink" href="#source" title="Permalink to this heading">¶</a></h2>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/aa570da6f199141cd8ad987bf9b9b9281a1b5e33/Framework/LiveData/inc/MantidLiveData/LoadLiveData.h">LoadLiveData.h</a></p>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/aa570da6f199141cd8ad987bf9b9b9281a1b5e33/Framework/LiveData/src/LoadLiveData.cpp">LoadLiveData.cpp</a></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="LoadLamp-v1.html" title="Previous Chapter: LoadLamp v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; LoadLamp v1</span>
    </a>
  </li>
  <li>
    <a href="LoadLog-v1.html" title="Next Chapter: LoadLog v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">LoadLog v1 &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>