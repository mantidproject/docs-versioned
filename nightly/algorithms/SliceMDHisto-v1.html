<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>SliceMDHisto v1</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="SmoothData v1" href="SmoothData-v1.html" />
    <link rel="prev" title="SliceMD v1" href="SliceMD-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.5</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://www.mantidproject.org">Home</a></li>
                <li><a href="https://download.mantidproject.org">Download</a></li>
                <li><a href="https://docs.mantidproject.org">Documentation</a></li>
                <li><a href="https://www.mantidproject.org/contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Algorithms</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">SliceMDHisto v1</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="slicemdhisto-v1">
<span id="algm-slicemdhisto"></span><span id="algm-slicemdhisto-v1"></span><h1>SliceMDHisto v1<a class="headerlink" href="#slicemdhisto-v1" title="Permalink to this heading">¶</a></h1>
<figure class="align-right" id="id1">
<span id="index-0"></span><a class="screenshot reference internal image-reference" href="../_images/SliceMDHisto-v1_dlg.png"><img alt="../_images/SliceMDHisto-v1_dlg.png" class="screenshot" src="../_images/SliceMDHisto-v1_dlg.png" style="width: 447px;" /></a>
<figcaption>
<p><span class="caption-text"><strong>SliceMDHisto</strong> dialog.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#summary" id="id2">Summary</a></p>
<ul>
<li><p><a class="reference internal" href="#see-also" id="id3">See Also</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#properties" id="id4">Properties</a></p></li>
<li><p><a class="reference internal" href="#description" id="id5">Description</a></p></li>
<li><p><a class="reference internal" href="#usage" id="id6">Usage</a></p></li>
<li><p><a class="reference internal" href="#source" id="id7">Source</a></p></li>
</ul>
</nav>
<section id="summary">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Summary</a><a class="headerlink" href="#summary" title="Permalink to this heading">¶</a></h2>
<p>Extracts a hyperslab of data from a MDHistoWorkspace</p>
<section id="see-also">
<h3><a class="toc-backref" href="#id3" role="doc-backlink">See Also</a><a class="headerlink" href="#see-also" title="Permalink to this heading">¶</a></h3>
<p><a class="reference internal" href="SliceMD-v1.html#algm-slicemd"><span class="std std-ref">SliceMD</span></a>, <a class="reference internal" href="IntegrateMDHistoWorkspace-v1.html#algm-integratemdhistoworkspace"><span class="std std-ref">IntegrateMDHistoWorkspace</span></a></p>
</section>
</section>
<section id="properties">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Properties</a><a class="headerlink" href="#properties" title="Permalink to this heading">¶</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Direction</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>InputWorkspace</p></td>
<td><p>Input</p></td>
<td><p>IMDHistoWorkspace</p></td>
<td><p><em>Mandatory</em></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Start</p></td>
<td><p>Input</p></td>
<td><p>int list</p></td>
<td></td>
<td><p>A comma separated list of min,for each dimension</p></td>
</tr>
<tr class="row-even"><td><p>End</p></td>
<td><p>Input</p></td>
<td><p>int list</p></td>
<td></td>
<td><p>A comma separated list of max for each dimension</p></td>
</tr>
<tr class="row-odd"><td><p>OutputWorkspace</p></td>
<td><p>Output</p></td>
<td><p>IMDHistoWorkspace</p></td>
<td><p><em>Mandatory</em></p></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="description">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Description</a><a class="headerlink" href="#description" title="Permalink to this heading">¶</a></h2>
<p>SliceMDHisto extracts a hyperslab of data from a <a class="reference internal" href="../concepts/MDHistoWorkspace.html#mdhistoworkspace"><span class="std std-ref">MDHistoWorkspace</span></a>. Beyond
the usual input and output workspace parameters, the start and end of the
hyperslabs dimensions are required. Both  as comma separated lists with an
entry for each dimension of the MDHistoWorkspace.</p>
<p>Example: consider an input MDHistoWorkspace with dimensions 100,100,100.
Running SliceMDHisto with parameters Start= 20,20,20 and End= 50,50,100
will copy all the data between x: 20-50, y: 20-50, z:20-100 into the
result MDHistoWorkspace with dimensions 30,30,80.</p>
<p>For a more up-to-date way of performing slices on a <a class="reference internal" href="../concepts/MDHistoWorkspace.html#mdhistoworkspace"><span class="std std-ref">MDHistoWorkspace</span></a> this see <a class="reference internal" href="IntegrateMDHistoWorkspace-v1.html#algm-integratemdhistoworkspace"><span class="std std-ref">IntegrateMDHistoWorkspace v1</span></a></p>
</section>
<section id="usage">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">Usage</a><a class="headerlink" href="#usage" title="Permalink to this heading">¶</a></h2>
<p><strong>Example - Taking an MDHisto slice</strong></p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">outputMDDimensions</span><span class="p">(</span><span class="n">ws</span><span class="p">):</span>
    <span class="n">num_dims</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">getNumDims</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Name   Bins   Min     Max&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">dim_index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_dims</span><span class="p">):</span>
        <span class="n">dim</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">getDimension</span><span class="p">(</span><span class="n">dim_index</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2">      </span><span class="si">{}</span><span class="s2">      </span><span class="si">{:.2f}</span><span class="s2">   </span><span class="si">{:.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
              <span class="n">dim</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">dim</span><span class="o">.</span><span class="n">getNBins</span><span class="p">(),</span> <span class="n">dim</span><span class="o">.</span><span class="n">getMinimum</span><span class="p">(),</span> <span class="n">dim</span><span class="o">.</span><span class="n">getMaximum</span><span class="p">()))</span>

<span class="c1">#create a test MD event workspace</span>
<span class="n">mdew</span> <span class="o">=</span> <span class="n">CreateMDWorkspace</span><span class="p">(</span><span class="n">Dimensions</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">Extents</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="o">-</span><span class="mi">9</span><span class="p">,</span><span class="mi">10</span><span class="p">],</span>
    <span class="n">Names</span><span class="o">=</span><span class="s1">&#39;A, B, C&#39;</span><span class="p">,</span> <span class="n">Units</span><span class="o">=</span><span class="s1">&#39;U, U, U&#39;</span><span class="p">)</span>
<span class="n">FakeMDEventData</span><span class="p">(</span><span class="n">mdew</span><span class="p">,</span> <span class="n">PeakParams</span><span class="o">=</span><span class="p">[</span><span class="mi">100000</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>

<span class="c1">#convert to a MDHisto workspace suing BinMD</span>
<span class="n">wsHisto</span> <span class="o">=</span> <span class="n">BinMD</span><span class="p">(</span><span class="n">mdew</span><span class="p">,</span><span class="n">AlignedDim0</span><span class="o">=</span><span class="s1">&#39;A,-1,1,9&#39;</span><span class="p">,</span>
    <span class="n">AlignedDim1</span><span class="o">=</span><span class="s1">&#39;B,-5,5,5&#39;</span><span class="p">,</span>
    <span class="n">AlignedDim2</span><span class="o">=</span><span class="s1">&#39;C,-9,10,9&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The original workspace&quot;</span><span class="p">)</span>
<span class="n">outputMDDimensions</span><span class="p">(</span><span class="n">wsHisto</span><span class="p">)</span>

<span class="c1">#The values in start and end are the Bin numbers(staring at 0) of the dimensions</span>
<span class="n">wsOut</span> <span class="o">=</span> <span class="n">SliceMDHisto</span><span class="p">(</span><span class="n">wsHisto</span><span class="p">,</span><span class="n">Start</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span><span class="n">End</span><span class="o">=</span><span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">7</span><span class="p">])</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">After Slicing&quot;</span><span class="p">)</span>
<span class="n">outputMDDimensions</span><span class="p">(</span><span class="n">wsOut</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>The original workspace
Name   Bins   Min     Max
A      9      -1.00   1.00
B      5      -5.00   5.00
C      9      -9.00   10.00

After Slicing
Name   Bins   Min     Max
A      6      -0.78   0.56
B      2      -1.00   3.00
C      7      -9.00   5.78
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/AlgorithmIndex.html">AlgorithmIndex</a> | <a class="reference external" href="categories/MDAlgorithms/Slicing.html">MDAlgorithms\Slicing</a></p>
</section>
<section id="source">
<h2><a class="toc-backref" href="#id7" role="doc-backlink">Source</a><a class="headerlink" href="#source" title="Permalink to this heading">¶</a></h2>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/ec825fbd8c2d754b56329d9056e8016ac6d7b10a/Framework/SINQ/inc/MantidSINQ/SliceMDHisto.h">SliceMDHisto.h</a></p>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/ec825fbd8c2d754b56329d9056e8016ac6d7b10a/Framework/SINQ/src/SliceMDHisto.cpp">SliceMDHisto.cpp</a></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="SliceMD-v1.html" title="Previous Chapter: SliceMD v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; SliceMD v1</span>
    </a>
  </li>
  <li>
    <a href="SmoothData-v1.html" title="Next Chapter: SmoothData v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">SmoothData v1 &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>