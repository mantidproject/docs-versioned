<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>SavePlot1D v1</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="SavePlot1DAsJson v1" href="SavePlot1DAsJson-v1.html" />
    <link rel="prev" title="SaveParameterFile v1" href="SaveParameterFile-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.5</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://www.mantidproject.org">Home</a></li>
                <li><a href="https://download.mantidproject.org">Download</a></li>
                <li><a href="https://docs.mantidproject.org">Documentation</a></li>
                <li><a href="https://www.mantidproject.org/contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Algorithms</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">SavePlot1D v1</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="saveplot1d-v1">
<span id="algm-saveplot1d"></span><span id="algm-saveplot1d-v1"></span><h1>SavePlot1D v1<a class="headerlink" href="#saveplot1d-v1" title="Permalink to this heading">¶</a></h1>
<figure class="align-right" id="id1">
<span id="index-0"></span><a class="screenshot reference internal image-reference" href="../_images/SavePlot1D-v1_dlg.png"><img alt="../_images/SavePlot1D-v1_dlg.png" class="screenshot" src="../_images/SavePlot1D-v1_dlg.png" style="width: 302px;" /></a>
<figcaption>
<p><span class="caption-text"><strong>SavePlot1D</strong> dialog.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#summary" id="id2">Summary</a></p>
<ul>
<li><p><a class="reference internal" href="#see-also" id="id3">See Also</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#properties" id="id4">Properties</a></p></li>
<li><p><a class="reference internal" href="#description" id="id5">Description</a></p></li>
<li><p><a class="reference internal" href="#usage" id="id6">Usage</a></p></li>
<li><p><a class="reference internal" href="#usage-in-autoreduction" id="id7">Usage in autoreduction</a></p></li>
<li><p><a class="reference internal" href="#source" id="id8">Source</a></p></li>
</ul>
</nav>
<section id="summary">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Summary</a><a class="headerlink" href="#summary" title="Permalink to this heading">¶</a></h2>
<p>Save 1D plots to a file</p>
<section id="see-also">
<h3><a class="toc-backref" href="#id3" role="doc-backlink">See Also</a><a class="headerlink" href="#see-also" title="Permalink to this heading">¶</a></h3>
<p><a class="reference internal" href="SavePlot1DAsJson-v1.html#algm-saveplot1dasjson"><span class="std std-ref">SavePlot1DAsJson</span></a>, <a class="reference internal" href="StringToPng-v1.html#algm-stringtopng"><span class="std std-ref">StringToPng</span></a></p>
</section>
</section>
<section id="properties">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Properties</a><a class="headerlink" href="#properties" title="Permalink to this heading">¶</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Direction</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>InputWorkspace</p></td>
<td><p>Input</p></td>
<td><p><a class="reference internal" href="../concepts/Workspace.html#workspace"><span class="std std-ref">Workspace</span></a></p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>Workspace to plot</p></td>
</tr>
<tr class="row-odd"><td><p>OutputFilename</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>Name of the image file to savefile. Allowed extensions: [‘.png’]</p></td>
</tr>
<tr class="row-even"><td><p>OutputType</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>image</p></td>
<td><p>Method for rendering plot. Allowed values: [‘image’]</p></td>
</tr>
<tr class="row-odd"><td><p>XLabel</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>Label on the X axis. If empty, it will be taken from workspace</p></td>
</tr>
<tr class="row-even"><td><p>YLabel</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>Label on the Y axis. If empty, it will be taken from workspace</p></td>
</tr>
<tr class="row-odd"><td><p>SpectraList</p></td>
<td><p>Input</p></td>
<td><p>long list</p></td>
<td></td>
<td><p>Which spectra to plot</p></td>
</tr>
<tr class="row-even"><td><p>SpectraNames</p></td>
<td><p>Input</p></td>
<td><p>str list</p></td>
<td></td>
<td><p>Override with custom names for spectra</p></td>
</tr>
<tr class="row-odd"><td><p>Result</p></td>
<td><p>Output</p></td>
<td><p>string</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>PopCanvas</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>False</p></td>
<td><p>If true, a Matplotlib canvas will be popped out , which contains the saved plot.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="description">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Description</a><a class="headerlink" href="#description" title="Permalink to this heading">¶</a></h2>
<p>Save 1D plots to a png file, as part of autoreduction. Multiple spectra
in the same workspace will be represented by curves on the same plot.
Groupped workspaces will be shown as subplots. If the workspace has more
than one spectra, but less or equal to ten, labels will be shown.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The figures contain lines between points, no error bars.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Requires matplotlib version&gt;= 1.2.0</p>
</div>
</section>
<section id="usage">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">Usage</a><a class="headerlink" href="#usage" title="Permalink to this heading">¶</a></h2>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#create some workspaces</span>
<span class="n">CreateWorkspace</span><span class="p">(</span><span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;w1&#39;</span><span class="p">,</span><span class="n">DataX</span><span class="o">=</span><span class="s1">&#39;1,2,3,4,5,1,2,3,4,5&#39;</span><span class="p">,</span><span class="n">DataY</span><span class="o">=</span><span class="s1">&#39;1,4,5,3,2,2,3,1&#39;</span><span class="p">,</span><span class="n">DataE</span><span class="o">=</span><span class="s1">&#39;1,2,2,1,1,1,1,1&#39;</span><span class="p">,</span><span class="n">NSpec</span><span class="o">=</span><span class="s1">&#39;2&#39;</span><span class="p">,</span><span class="n">UnitX</span><span class="o">=</span><span class="s1">&#39;DeltaE&#39;</span><span class="p">)</span>
<span class="n">CreateWorkspace</span><span class="p">(</span><span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;w2&#39;</span><span class="p">,</span><span class="n">DataX</span><span class="o">=</span><span class="s1">&#39;1,2,3,4,5,1,2,3,4,5&#39;</span><span class="p">,</span><span class="n">DataY</span><span class="o">=</span><span class="s1">&#39;4,2,5,3,3,1,3,1&#39;</span><span class="p">,</span> <span class="n">DataE</span><span class="o">=</span><span class="s1">&#39;1,2,2,1,1,1,1,1&#39;</span><span class="p">,</span><span class="n">NSpec</span><span class="o">=</span><span class="s1">&#39;2&#39;</span><span class="p">,</span><span class="n">UnitX</span><span class="o">=</span><span class="s1">&#39;Momentum&#39;</span><span class="p">,</span><span class="n">VerticalAxisUnit</span><span class="o">=</span><span class="s1">&#39;Wavelength&#39;</span><span class="p">,</span><span class="n">VerticalAxisValues</span><span class="o">=</span><span class="s1">&#39;2,3&#39;</span><span class="p">,</span><span class="n">YUnitLabel</span><span class="o">=</span><span class="s1">&#39;Something&#39;</span><span class="p">)</span>
<span class="n">wGroup</span><span class="o">=</span><span class="n">GroupWorkspaces</span><span class="p">(</span><span class="s2">&quot;w1,w2&quot;</span><span class="p">)</span>

<span class="c1">#write to a file</span>
<span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">mantid</span>
    <span class="n">filename</span><span class="o">=</span><span class="n">mantid</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">getString</span><span class="p">(</span><span class="s2">&quot;defaultsave.directory&quot;</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;SavePlot1D.png&quot;</span>
    <span class="n">SavePlot1D</span><span class="p">(</span><span class="n">InputWorkspace</span><span class="o">=</span><span class="n">wGroup</span><span class="p">,</span><span class="n">OutputFilename</span><span class="o">=</span><span class="n">filename</span><span class="p">)</span>
<span class="k">except</span><span class="p">:</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
<p>The file should look like</p>
<figure class="align-default">
<img alt="SavePlot1D.png" src="../_images/SavePlot1D.png" />
</figure>
</section>
<section id="usage-in-autoreduction">
<h2><a class="toc-backref" href="#id7" role="doc-backlink">Usage in autoreduction</a><a class="headerlink" href="#usage-in-autoreduction" title="Permalink to this heading">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># create some workspaces</span>
<span class="n">CreateWorkspace</span><span class="p">(</span><span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;w1&#39;</span><span class="p">,</span><span class="n">DataX</span><span class="o">=</span><span class="s1">&#39;1,2,3,4,5,1,2,3,4,5&#39;</span><span class="p">,</span><span class="n">DataY</span><span class="o">=</span><span class="s1">&#39;1,4,5,3,2,2,3,1&#39;</span><span class="p">,</span><span class="n">DataE</span><span class="o">=</span><span class="s1">&#39;1,2,2,1,1,1,1,1&#39;</span><span class="p">,</span><span class="n">NSpec</span><span class="o">=</span><span class="s1">&#39;2&#39;</span><span class="p">,</span><span class="n">UnitX</span><span class="o">=</span><span class="s1">&#39;DeltaE&#39;</span><span class="p">)</span>
<span class="c1"># get the div html/javascript for the plot</span>
<span class="n">div</span> <span class="o">=</span> <span class="n">SavePlot1D</span><span class="p">(</span><span class="n">InputWorkspace</span><span class="o">=</span><span class="s1">&#39;w1&#39;</span><span class="p">,</span> <span class="n">OutputType</span><span class="o">=</span><span class="s1">&#39;plotly&#39;</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">postprocessing.publish_plot</span> <span class="kn">import</span> <span class="n">publish_plot</span>
<span class="n">request</span> <span class="o">=</span> <span class="n">publish_plot</span><span class="p">(</span><span class="s1">&#39;TESTINSTRUMENT&#39;</span><span class="p">,</span> <span class="mi">12345</span><span class="p">,</span> <span class="n">files</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;file&#39;</span><span class="p">:</span><span class="n">div</span><span class="p">})</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;post returned </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">status_code</span><span class="p">))</span>
</pre></div>
</div>
<p>To see what the result looks like on your local system, add the
<code class="docutils literal notranslate"><span class="pre">Filename</span></code> argument (<code class="docutils literal notranslate"><span class="pre">.html</span></code> extension) and change to
<code class="docutils literal notranslate"><span class="pre">OutputType='plotly-full'</span></code>.</p>
<p><strong>Categories</strong>: <a class="reference external" href="categories/AlgorithmIndex.html">AlgorithmIndex</a> | <a class="reference external" href="categories/DataHandling/Plots.html">DataHandling\Plots</a></p>
</section>
<section id="source">
<h2><a class="toc-backref" href="#id8" role="doc-backlink">Source</a><a class="headerlink" href="#source" title="Permalink to this heading">¶</a></h2>
<p>Python: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/aa570da6f199141cd8ad987bf9b9b9281a1b5e33/Framework/PythonInterface/plugins/algorithms/WorkflowAlgorithms/SavePlot1D.py">SavePlot1D.py</a></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="SaveParameterFile-v1.html" title="Previous Chapter: SaveParameterFile v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; SaveParameterFile v1</span>
    </a>
  </li>
  <li>
    <a href="SavePlot1DAsJson-v1.html" title="Next Chapter: SavePlot1DAsJson v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">SavePlot1DAsJson v1 &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>