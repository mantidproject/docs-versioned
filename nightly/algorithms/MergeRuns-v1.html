<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>MergeRuns v1</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Min v1" href="Min-v1.html" />
    <link rel="prev" title="MergeMDFiles v1" href="MergeMDFiles-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.5</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://www.mantidproject.org">Home</a></li>
                <li><a href="https://download.mantidproject.org">Download</a></li>
                <li><a href="https://docs.mantidproject.org">Documentation</a></li>
                <li><a href="https://www.mantidproject.org/contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Algorithms</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">MergeRuns v1</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="mergeruns-v1">
<span id="algm-mergeruns"></span><span id="algm-mergeruns-v1"></span><h1>MergeRuns v1<a class="headerlink" href="#mergeruns-v1" title="Permalink to this heading">¶</a></h1>
<figure class="align-right" id="id1">
<span id="index-0"></span><a class="screenshot reference internal image-reference" href="../_images/MergeRuns-v1_dlg.png"><img alt="../_images/MergeRuns-v1_dlg.png" class="screenshot" src="../_images/MergeRuns-v1_dlg.png" style="width: 349px;" /></a>
<figcaption>
<p><span class="caption-text"><strong>MergeRuns</strong> dialog.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#summary" id="id2">Summary</a></p>
<ul>
<li><p><a class="reference internal" href="#see-also" id="id3">See Also</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#properties" id="id4">Properties</a></p></li>
<li><p><a class="reference internal" href="#description" id="id5">Description</a></p>
<ul>
<li><p><a class="reference internal" href="#restrictions-on-the-input-workspace" id="id6">Restrictions on the input workspace</a></p></li>
<li><p><a class="reference internal" href="#processing-group-workspaces" id="id7">Processing Group Workspaces</a></p>
<ul>
<li><p><a class="reference internal" href="#multi-period-group-workspaces" id="id8">Multi-period Group Workspaces</a></p></li>
<li><p><a class="reference internal" href="#group-workspaces-that-are-not-multiperiod" id="id9">Group Workspaces that are not multiperiod</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#merging-sample-logs" id="id10">Merging Sample Logs</a></p></li>
<li><p><a class="reference internal" href="#merging-workspaces-with-detector-scans" id="id11">Merging Workspaces with Detector Scans</a></p>
<ul>
<li><p><a class="reference internal" href="#the-workspaces-have-identical-scan-intervals" id="id12">1. The workspaces have identical scan intervals</a></p></li>
<li><p><a class="reference internal" href="#the-workspaces-have-different-scan-intervals" id="id13">2. The workspaces have different scan intervals</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#childalgorithms-used" id="id14">ChildAlgorithms used</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#usage" id="id15">Usage</a></p></li>
<li><p><a class="reference internal" href="#related-algorithms" id="id16">Related Algorithms</a></p></li>
<li><p><a class="reference internal" href="#source" id="id17">Source</a></p></li>
</ul>
</nav>
<section id="summary">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Summary</a><a class="headerlink" href="#summary" title="Permalink to this heading">¶</a></h2>
<p>Combines the data contained in an arbitrary number of input workspaces.</p>
<section id="see-also">
<h3><a class="toc-backref" href="#id3" role="doc-backlink">See Also</a><a class="headerlink" href="#see-also" title="Permalink to this heading">¶</a></h3>
<p><a class="reference internal" href="ConjoinWorkspaces-v1.html#algm-conjoinworkspaces"><span class="std std-ref">ConjoinWorkspaces</span></a></p>
</section>
</section>
<section id="properties">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Properties</a><a class="headerlink" href="#properties" title="Permalink to this heading">¶</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Direction</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>InputWorkspaces</p></td>
<td><p>Input</p></td>
<td><p>str list</p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>The names of the input workspaces as a list. You may also group workspaces using the GUI or [[GroupWorkspaces]], and specify the name of the group instead.</p></td>
</tr>
<tr class="row-odd"><td><p>OutputWorkspace</p></td>
<td><p>Output</p></td>
<td><p><a class="reference internal" href="../concepts/Workspace.html#workspace"><span class="std std-ref">Workspace</span></a></p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>Name of the output workspace</p></td>
</tr>
<tr class="row-even"><td><p>SampleLogsTimeSeries</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>A comma separated list of the sample logs to merge into a time series. The initial times are taken as the start times for the run. Sample logs must be numeric.</p></td>
</tr>
<tr class="row-odd"><td><p>SampleLogsList</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>A comma separated list of the sample logs to merge into a list.</p></td>
</tr>
<tr class="row-even"><td><p>SampleLogsWarn</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>A comma separated list of the sample logs to generate a warning if different when merging.</p></td>
</tr>
<tr class="row-odd"><td><p>SampleLogsWarnTolerances</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>The tolerances for warning if sample logs are different. Can either be empty for a comparison of the strings, a single value for all warn sample logs, or a comma separated list of values (must be the same length as SampleLogsWarn).</p></td>
</tr>
<tr class="row-even"><td><p>SampleLogsFail</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>The sample logs to fail if different when merging. If there is a difference the run is skipped.</p></td>
</tr>
<tr class="row-odd"><td><p>SampleLogsFailTolerances</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>The tolerances for failing if sample logs are different. Can either be empty for a comparison of the strings, a single value for all fail sample logs, or a comma separated list of values (must be the same length as SampleLogsFail).</p></td>
</tr>
<tr class="row-even"><td><p>SampleLogsSum</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>A comma separated list of the sample logs to sum into a single entry.  Sample logs must be numeric.</p></td>
</tr>
<tr class="row-odd"><td><p>RebinBehaviour</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>Rebin</p></td>
<td><p>Choose whether to rebin when bins are different, or fail (fail behaviour defined in FailBehaviour option). Allowed values: [‘Rebin’, ‘Fail’]</p></td>
</tr>
<tr class="row-even"><td><p>FailBehaviour</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>Skip File</p></td>
<td><p>Choose whether to skip the file and continue, or stop and throw and error, when encountering a failure. Allowed values: [‘Skip File’, ‘Stop’]</p></td>
</tr>
</tbody>
</table>
</section>
<section id="description">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Description</a><a class="headerlink" href="#description" title="Permalink to this heading">¶</a></h2>
<p>Combines the data contained in an arbitrary number of input workspaces.
If the input workspaces do not have common binning, the bins in the
output workspace will cover the entire range of all the input
workspaces, with the largest bin widths used in regions of overlap.</p>
<p>The combination of each workspace is performed using the <a class="reference internal" href="Plus-v1.html#algm-plus"><span class="std std-ref">Plus v1</span></a> algorithm,
this does not perform any weighting based on the duration of collection, or proton charge.
If you wish to perform Merge runs that should not be equally weighted then they should be
corrected individually prior to merging.</p>
<section id="restrictions-on-the-input-workspace">
<h3><a class="toc-backref" href="#id6" role="doc-backlink">Restrictions on the input workspace</a><a class="headerlink" href="#restrictions-on-the-input-workspace" title="Permalink to this heading">¶</a></h3>
<p>The input workspaces must contain histogram data with the same number of
spectra and matching units and instrument name in order for the
algorithm to succeed.</p>
<p><strong>Workspace2Ds</strong>: Each input workspace must have common binning for all
its spectra.</p>
<p><strong>EventWorkspaces</strong>: This algorithm is Event-aware; it will append
event lists from common spectra. Binning parameters need not be compatible;
the output workspace will use the first workspaces’ X bin boundaries.</p>
<p><strong>WorkspaceGroups</strong>: Each nested has to be one of the above.</p>
<p>Other than this it is currently left to the user to ensure that the
combination of the workspaces is a valid operation.</p>
</section>
<section id="processing-group-workspaces">
<h3><a class="toc-backref" href="#id7" role="doc-backlink">Processing Group Workspaces</a><a class="headerlink" href="#processing-group-workspaces" title="Permalink to this heading">¶</a></h3>
<section id="multi-period-group-workspaces">
<h4><a class="toc-backref" href="#id8" role="doc-backlink">Multi-period Group Workspaces</a><a class="headerlink" href="#multi-period-group-workspaces" title="Permalink to this heading">¶</a></h4>
<p>Group workspaces will be merged respecting the periods within each
group. For example if you have two multiperiod group workspaces A and B
and an output workspace C. A contains matrix workspaces A_1 and A_2,
and B contains matrix workspaces B_1 and B2. Since this is multiperiod
data, A_1 and B_1 share the same period, as do A_2 and B_2. So
merging must be with respect to workspaces of equivalent periods.
Therefore, merging is conducted such that A_1 + B_1 = C_1 and A_2 +
B_2 = C_2.</p>
</section>
<section id="group-workspaces-that-are-not-multiperiod">
<h4><a class="toc-backref" href="#id9" role="doc-backlink">Group Workspaces that are not multiperiod</a><a class="headerlink" href="#group-workspaces-that-are-not-multiperiod" title="Permalink to this heading">¶</a></h4>
<p>If group workspaces are provided that are not multi-period, this
algorithm will merge across all nested workspaces, to give a single
output matrix workspace.</p>
</section>
</section>
<section id="merging-sample-logs">
<h3><a class="toc-backref" href="#id10" role="doc-backlink">Merging Sample Logs</a><a class="headerlink" href="#merging-sample-logs" title="Permalink to this heading">¶</a></h3>
<p>Sample logs are optionally merged when running this algorithm. The behaviour
when merging is defined in the instrument parameter file, but can be added to
or overridden via this algorithm. Definitions in the XML file are given as
shown in the example below. See the usage examples at the end of this document
for examples of overriding the behaviour defined in the XML file.</p>
<p>When performing the tolerance check for the warn or fail options it is always
with respect to the first workspace in the merge. When choosing via the GUI
this will be the first workspace that was selected.</p>
<p><strong>Note:</strong> this currently only works when the underlying workspaces being merged are
Matrix Workspaces.</p>
<p><strong>Note:</strong> The sample log in the merged workspace is replaced in the case of Sum,
Time Series and List merges. This means these merge types can not be used together
for a given sample log.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;parameter</span> <span class="na">name=</span><span class="s">&quot;sample_logs_sum&quot;</span> <span class="na">type=</span><span class="s">&quot;string&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;value</span> <span class="na">val=</span><span class="s">&quot;duration, monitor1.monsum&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/parameter&gt;</span>
<span class="nt">&lt;parameter</span> <span class="na">name=</span><span class="s">&quot;sample_logs_time_series&quot;</span> <span class="na">type=</span><span class="s">&quot;string&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;value</span> <span class="na">val=</span><span class="s">&quot;sample.temperature, sample.pressure&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/parameter&gt;</span>
<span class="nt">&lt;parameter</span> <span class="na">name=</span><span class="s">&quot;sample_logs_list&quot;</span> <span class="na">type=</span><span class="s">&quot;string&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;value</span> <span class="na">val=</span><span class="s">&quot;run_number&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/parameter&gt;</span>
<span class="nt">&lt;parameter</span> <span class="na">name=</span><span class="s">&quot;sample_logs_warn&quot;</span> <span class="na">type=</span><span class="s">&quot;string&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;value</span> <span class="na">val=</span><span class="s">&quot;EPP, Fermi.phase, sample.temperature&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/parameter&gt;</span>
<span class="nt">&lt;parameter</span> <span class="na">name=</span><span class="s">&quot;sample_logs_warn_tolerances&quot;</span> <span class="na">type=</span><span class="s">&quot;string&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;value</span> <span class="na">val=</span><span class="s">&quot;5, 0.001, 50&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/parameter&gt;</span>
<span class="nt">&lt;parameter</span> <span class="na">name=</span><span class="s">&quot;sample_logs_fail&quot;</span> <span class="na">type=</span><span class="s">&quot;string&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;value</span> <span class="na">val=</span><span class="s">&quot;experiment_identifier, Ei, Fermi.rotation_speed&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/parameter&gt;</span>
<span class="nt">&lt;parameter</span> <span class="na">name=</span><span class="s">&quot;sample_logs_fail_tolerances&quot;</span> <span class="na">type=</span><span class="s">&quot;string&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;value</span> <span class="na">val=</span><span class="s">&quot;0, 0.1, 2&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/parameter&gt;</span>
</pre></div>
</div>
</section>
<section id="merging-workspaces-with-detector-scans">
<h3><a class="toc-backref" href="#id11" role="doc-backlink">Merging Workspaces with Detector Scans</a><a class="headerlink" href="#merging-workspaces-with-detector-scans" title="Permalink to this heading">¶</a></h3>
<p>If the workspaces being merged contain detector scans then there are currently two options:</p>
<section id="the-workspaces-have-identical-scan-intervals">
<h4><a class="toc-backref" href="#id12" role="doc-backlink">1. The workspaces have identical scan intervals</a><a class="headerlink" href="#the-workspaces-have-identical-scan-intervals" title="Permalink to this heading">¶</a></h4>
<p>In this case the workspaces will be merged as they normally would be by MergeRuns,
that is the counts in the two workspaces are summed. The detectors must have the same
positions, rotations etc. for all time intervals, else the algorithm will throw.</p>
</section>
<section id="the-workspaces-have-different-scan-intervals">
<h4><a class="toc-backref" href="#id13" role="doc-backlink">2. The workspaces have different scan intervals</a><a class="headerlink" href="#the-workspaces-have-different-scan-intervals" title="Permalink to this heading">¶</a></h4>
<p>For this case the scan intervals must not overlap. The merged workspace histograms are
appended to the end of the first workspace.</p>
</section>
</section>
<section id="childalgorithms-used">
<h3><a class="toc-backref" href="#id14" role="doc-backlink">ChildAlgorithms used</a><a class="headerlink" href="#childalgorithms-used" title="Permalink to this heading">¶</a></h3>
<p>The <a class="reference internal" href="Rebin-v1.html#algm-rebin"><span class="std std-ref">Rebin v1</span></a> algorithm is used, if necessary, to put all the
input workspaces onto a common binning.</p>
<p>The <a class="reference internal" href="Plus-v1.html#algm-plus"><span class="std std-ref">Plus v1</span></a> algorithm is used to combine each of the workspaces
together one pair at a time.</p>
</section>
</section>
<section id="usage">
<h2><a class="toc-backref" href="#id15" role="doc-backlink">Usage</a><a class="headerlink" href="#usage" title="Permalink to this heading">¶</a></h2>
<p><strong>Example: Merge Two Workspaces</strong></p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">dataX</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="n">dataY</span> <span class="o">=</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">CreateWorkspace</span><span class="p">(</span><span class="n">dataX</span><span class="p">,</span> <span class="n">dataY</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">CreateWorkspace</span><span class="p">(</span><span class="n">dataX</span><span class="p">,</span> <span class="n">dataY</span><span class="p">)</span>

<span class="n">merged</span> <span class="o">=</span> <span class="n">MergeRuns</span><span class="p">(</span><span class="n">InputWorkspaces</span><span class="o">=</span><span class="s2">&quot;a, b&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;a      = </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;b      = </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;merged = </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">merged</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)))</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>a      = [  6.  15.  21.   9.]
b      = [  6.  15.  21.   9.]
merged = [ 12.  30.  42.  18.]
</pre></div>
</div>
<p><strong>Example: Merge Two GroupWorkspaces</strong></p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">dataX</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="n">dataY</span> <span class="o">=</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">CreateWorkspace</span><span class="p">(</span><span class="n">dataX</span><span class="p">,</span> <span class="n">dataY</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">CreateWorkspace</span><span class="p">(</span><span class="n">dataX</span><span class="p">,</span> <span class="n">dataY</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">CreateWorkspace</span><span class="p">(</span><span class="n">dataX</span><span class="p">,</span> <span class="n">dataY</span><span class="p">)</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">CreateWorkspace</span><span class="p">(</span><span class="n">dataX</span><span class="p">,</span> <span class="n">dataY</span><span class="p">)</span>

<span class="n">group_1</span> <span class="o">=</span> <span class="n">GroupWorkspaces</span><span class="p">(</span><span class="n">InputWorkspaces</span><span class="o">=</span><span class="s2">&quot;a, b&quot;</span><span class="p">)</span>
<span class="n">group_2</span> <span class="o">=</span> <span class="n">GroupWorkspaces</span><span class="p">(</span><span class="n">InputWorkspaces</span><span class="o">=</span><span class="s2">&quot;c, d&quot;</span><span class="p">)</span>

<span class="n">merged</span> <span class="o">=</span> <span class="n">MergeRuns</span><span class="p">(</span><span class="n">InputWorkspaces</span><span class="o">=</span><span class="s2">&quot;group_1, group_2&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;group_1 = [</span><span class="si">{}</span><span class="s2">,&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">group_1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;           </span><span class="si">{}</span><span class="s2">]&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">group_1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)))</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;group_2 = [</span><span class="si">{}</span><span class="s2">,&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">group_2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;           </span><span class="si">{}</span><span class="s2">]&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">group_2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)))</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;merged   = </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">merged</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)))</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>group_1 = [[  6.  15.  21.   9.],
           [  6.  15.  21.   9.]]
group_2 = [[  6.  15.  21.   9.],
           [  6.  15.  21.   9.]]
merged   = [ 24.  60.  84.  36.]
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To run these usage examples please first download the
<a class="reference external" href="https://sourceforge.net/projects/mantid/files/Sample%20Data/UsageData.zip/download">usage data</a>,
and add these to your path.
In Mantid this is done using <a class="reference internal" href="../interfaces/framework/ManageUserDirectories.html#manageuserdirectories"><span class="std std-ref">Manage User Directories</span></a>.</p>
</div>
<p><strong>Example: Merge Workspace Summing Sample Logs</strong></p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">Load</span><span class="p">(</span><span class="n">Filename</span><span class="o">=</span><span class="s1">&#39;MUSR00015189.nxs, MUSR00015190.nxs&#39;</span><span class="p">,</span> <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;gws&#39;</span><span class="p">)</span>

<span class="n">merged</span> <span class="o">=</span> <span class="n">MergeRuns</span><span class="p">(</span><span class="n">InputWorkspaces</span><span class="o">=</span><span class="s1">&#39;MUSR00015189_1, MUSR00015190_1&#39;</span><span class="p">,</span>
                   <span class="n">SampleLogsSum</span><span class="o">=</span><span class="s1">&#39;dur&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">merged</span><span class="o">.</span><span class="n">run</span><span class="p">()</span><span class="o">.</span><span class="n">getLogData</span><span class="p">(</span><span class="s1">&#39;dur&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>200.0
</pre></div>
</div>
<p><strong>Example: Merge Workspace Combining Sample Logs as a TimeSeries</strong></p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">Load</span><span class="p">(</span><span class="n">Filename</span><span class="o">=</span><span class="s1">&#39;MUSR00015189.nxs, MUSR00015190.nxs&#39;</span><span class="p">,</span> <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;gws&#39;</span><span class="p">)</span>

<span class="n">merged</span> <span class="o">=</span> <span class="n">MergeRuns</span><span class="p">(</span><span class="n">InputWorkspaces</span><span class="o">=</span><span class="s1">&#39;MUSR00015189_1, MUSR00015190_1&#39;</span><span class="p">,</span>
                   <span class="n">SampleLogsTimeSeries</span><span class="o">=</span><span class="s1">&#39;sample_magn_field&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">merged</span><span class="o">.</span><span class="n">run</span><span class="p">()</span><span class="o">.</span><span class="n">getLogData</span><span class="p">(</span><span class="s1">&#39;sample_magn_field&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">valueAsString</span><span class="p">()</span><span class="o">.</span><span class="n">rstrip</span><span class="p">())</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>2007-Nov-27 17:10:35  1350
2007-Nov-27 17:12:30  1360
</pre></div>
</div>
<p><strong>Example: Merge Workspace Combining Sample Logs as a List</strong></p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">Load</span><span class="p">(</span><span class="n">Filename</span><span class="o">=</span><span class="s1">&#39;MUSR00015189.nxs, MUSR00015190.nxs&#39;</span><span class="p">,</span> <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;gws&#39;</span><span class="p">)</span>

<span class="n">merged</span> <span class="o">=</span> <span class="n">MergeRuns</span><span class="p">(</span><span class="n">InputWorkspaces</span><span class="o">=</span><span class="s1">&#39;MUSR00015189_1, MUSR00015190_1&#39;</span><span class="p">,</span>
                   <span class="n">SampleLogsList</span><span class="o">=</span><span class="s1">&#39;sample_magn_field&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">merged</span><span class="o">.</span><span class="n">run</span><span class="p">()</span><span class="o">.</span><span class="n">getLogData</span><span class="p">(</span><span class="s1">&#39;sample_magn_field&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>1350, 1360
</pre></div>
</div>
<p><strong>Example: Merge Workspace Combining Sample Logs with a Warnining if Different</strong></p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">Load</span><span class="p">(</span><span class="n">Filename</span><span class="o">=</span><span class="s1">&#39;MUSR00015189.nxs, MUSR00015190.nxs&#39;</span><span class="p">,</span> <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;gws&#39;</span><span class="p">)</span>

<span class="n">merged</span> <span class="o">=</span> <span class="n">MergeRuns</span><span class="p">(</span><span class="n">InputWorkspaces</span><span class="o">=</span><span class="s1">&#39;MUSR00015189_1, MUSR00015190_1&#39;</span><span class="p">,</span>
                   <span class="n">SampleLogsTimeSeries</span><span class="o">=</span><span class="s1">&#39;sample_temp&#39;</span><span class="p">,</span>
                   <span class="n">SampleLogsWarn</span><span class="o">=</span><span class="s1">&#39;sample_magn_field&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">merged</span><span class="o">.</span><span class="n">run</span><span class="p">()</span><span class="o">.</span><span class="n">getLogData</span><span class="p">(</span><span class="s1">&#39;sample_temp&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">())</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>2
</pre></div>
</div>
<p><strong>Example: Merge Workspace Combining Sample Logs with an Error if Different</strong></p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">Load</span><span class="p">(</span><span class="n">Filename</span><span class="o">=</span><span class="s1">&#39;MUSR00015189.nxs, MUSR00015190.nxs&#39;</span><span class="p">,</span> <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;gws&#39;</span><span class="p">)</span>

<span class="n">merged</span> <span class="o">=</span> <span class="n">MergeRuns</span><span class="p">(</span><span class="n">InputWorkspaces</span><span class="o">=</span><span class="s1">&#39;MUSR00015189_1, MUSR00015190_1&#39;</span><span class="p">,</span>
                   <span class="n">SampleLogsTimeSeries</span><span class="o">=</span><span class="s1">&#39;sample_temp&#39;</span><span class="p">,</span>
                   <span class="n">SampleLogsFail</span><span class="o">=</span><span class="s1">&#39;sample_magn_field, nspectra&#39;</span><span class="p">,</span>
                   <span class="n">SampleLogsFailTolerances</span><span class="o">=</span><span class="s1">&#39;5, 0&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">merged</span><span class="o">.</span><span class="n">run</span><span class="p">()</span><span class="o">.</span><span class="n">getLogData</span><span class="p">(</span><span class="s1">&#39;sample_temp&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">())</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>1
</pre></div>
</div>
</section>
<section id="related-algorithms">
<h2><a class="toc-backref" href="#id16" role="doc-backlink">Related Algorithms</a><a class="headerlink" href="#related-algorithms" title="Permalink to this heading">¶</a></h2>
<p><a class="reference internal" href="ConjoinXRuns-v1.html#algm-conjoinxruns"><span class="std std-ref">ConjoinXRuns</span></a> concatenates the workspaces in the x dimension by handling the merging of the Sample Logs.
<a class="reference internal" href="ConjoinWorkspaces-v1.html#algm-conjoinworkspaces"><span class="std std-ref">ConjoinWorkspaces</span></a> combines workspaces by appending their spectra.</p>
<p><strong>Categories</strong>: <a class="reference external" href="categories/AlgorithmIndex.html">AlgorithmIndex</a> | <a class="reference external" href="categories/Transforms/Merging.html">Transforms\Merging</a></p>
</section>
<section id="source">
<h2><a class="toc-backref" href="#id17" role="doc-backlink">Source</a><a class="headerlink" href="#source" title="Permalink to this heading">¶</a></h2>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/aa570da6f199141cd8ad987bf9b9b9281a1b5e33/Framework/Algorithms/inc/MantidAlgorithms/MergeRuns.h">MergeRuns.h</a></p>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/aa570da6f199141cd8ad987bf9b9b9281a1b5e33/Framework/Algorithms/src/MergeRuns.cpp">MergeRuns.cpp</a></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="MergeMDFiles-v1.html" title="Previous Chapter: MergeMDFiles v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; MergeMDFiles v1</span>
    </a>
  </li>
  <li>
    <a href="Min-v1.html" title="Next Chapter: Min v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Min v1 &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>