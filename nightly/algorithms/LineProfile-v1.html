<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>LineProfile v1</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="LinkedUBs v1" href="LinkedUBs-v1.html" />
    <link rel="prev" title="LessThanMD v1" href="LessThanMD-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.5</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://www.mantidproject.org">Home</a></li>
                <li><a href="https://download.mantidproject.org">Download</a></li>
                <li><a href="https://docs.mantidproject.org">Documentation</a></li>
                <li><a href="https://www.mantidproject.org/contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Algorithms</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">LineProfile v1</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="lineprofile-v1">
<span id="algm-lineprofile"></span><span id="algm-lineprofile-v1"></span><h1>LineProfile v1<a class="headerlink" href="#lineprofile-v1" title="Permalink to this heading">¶</a></h1>
<figure class="align-right" id="id1">
<span id="index-0"></span><a class="screenshot reference internal image-reference" href="../_images/LineProfile-v1_dlg.png"><img alt="../_images/LineProfile-v1_dlg.png" class="screenshot" src="../_images/LineProfile-v1_dlg.png" style="width: 349px;" /></a>
<figcaption>
<p><span class="caption-text"><strong>LineProfile</strong> dialog.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#summary" id="id2">Summary</a></p>
<ul>
<li><p><a class="reference internal" href="#see-also" id="id3">See Also</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#properties" id="id4">Properties</a></p></li>
<li><p><a class="reference internal" href="#description" id="id5">Description</a></p></li>
<li><p><a class="reference internal" href="#profiles-over-distributions" id="id6">Profiles over distributions</a></p></li>
<li><p><a class="reference internal" href="#usage" id="id7">Usage</a></p></li>
<li><p><a class="reference internal" href="#source" id="id8">Source</a></p></li>
</ul>
</nav>
<section id="summary">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Summary</a><a class="headerlink" href="#summary" title="Permalink to this heading">¶</a></h2>
<p>Calculates a line profile over a MatrixWorkspace.</p>
<section id="see-also">
<h3><a class="toc-backref" href="#id3" role="doc-backlink">See Also</a><a class="headerlink" href="#see-also" title="Permalink to this heading">¶</a></h3>
<p><a class="reference internal" href="RingProfile-v1.html#algm-ringprofile"><span class="std std-ref">RingProfile</span></a></p>
</section>
</section>
<section id="properties">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Properties</a><a class="headerlink" href="#properties" title="Permalink to this heading">¶</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Direction</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>InputWorkspace</p></td>
<td><p>Input</p></td>
<td><p><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a></p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>An input workspace.</p></td>
</tr>
<tr class="row-odd"><td><p>OutputWorkspace</p></td>
<td><p>Output</p></td>
<td><p><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a></p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>A single histogram workspace containing the profile.</p></td>
</tr>
<tr class="row-even"><td><p>Centre</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>Centre of the line.</p></td>
</tr>
<tr class="row-odd"><td><p>HalfWidth</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>Half of the width over which to calcualte the profile.</p></td>
</tr>
<tr class="row-even"><td><p>Direction</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>Horizontal</p></td>
<td><p>Orientation of the profile line. Allowed values: [‘Horizontal’, ‘Vertical’]</p></td>
</tr>
<tr class="row-odd"><td><p>Start</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p><em>Optional</em></p></td>
<td><p>Starting point of the line.</p></td>
</tr>
<tr class="row-even"><td><p>End</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p><em>Optional</em></p></td>
<td><p>End point of the line.</p></td>
</tr>
<tr class="row-odd"><td><p>Mode</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>Average</p></td>
<td><p>How the profile is calculated over the line width. Allowed values: [‘Average’, ‘Sum’]</p></td>
</tr>
<tr class="row-even"><td><p>IgnoreInfs</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>False</p></td>
<td><p>If true, ignore infinities when calculating the profile.</p></td>
</tr>
<tr class="row-odd"><td><p>IgnoreNans</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>True</p></td>
<td><p>If true, ignore not-a-numbers when calculating the profile.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="description">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Description</a><a class="headerlink" href="#description" title="Permalink to this heading">¶</a></h2>
<p>This algorithm extracts horizontal or vertical profiles from a MatrixWorkspace. The profile is returned as a single histogram workspace. <a class="reference internal" href="../concepts/Ragged_Workspace.html#ragged-workspace"><span class="std std-ref">Ragged workspaces</span></a> are not supported.</p>
<p>The orientation of the profile is selected by the <em>Direction</em> property. By default, the line runs over the entire workspace. The length can be optionally limited by specifying the <em>Start</em> and/or the <em>End</em> properties. A region over which the profile is calculated is given by <em>HalfWidth</em>. The width is rounded to full bins so that partial bins are included entirely.</p>
<p>Special values can be completely ignored by the <em>IgnoreNans</em> and <em>IgnoreInfs</em> properties. If a segment of the line contains special values only, it will be set to NaN.</p>
<p>By default, the profile is calculated as an average over the line width. This behavior can be changed by the <em>Mode</em> property. The choices are:</p>
<dl class="simple">
<dt>‘Average’</dt><dd><p>Average the values. This is the default.</p>
</dd>
<dt>‘Sum’</dt><dd><p>Sum the values, weighting them by <span class="math notranslate nohighlight">\(n / n_{tot}\)</span> where <span class="math notranslate nohighlight">\(n\)</span> is the number of summed data points (excluding special values if <em>IgnoreNans</em> or <em>IgnoreInfs</em> is set) and <span class="math notranslate nohighlight">\(n_{tot}\)</span> is the total number of data points (including special values).</p>
</dd>
</dl>
</section>
<section id="profiles-over-distributions">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">Profiles over distributions</a><a class="headerlink" href="#profiles-over-distributions" title="Permalink to this heading">¶</a></h2>
<p>Horizontal profiles over distribution data (Y divided by bin width) will be distributions as well.</p>
<p>However, vertical profiles over distribution data will be non-distributions, albeit the data is normalized by the profile width. To remove the normalization, it is possible to multiply the data by the total width of included bins. This information is contained in the vertical axis:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># line is a workspace created by LineProfile</span>
<span class="n">axis</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">height</span> <span class="o">=</span> <span class="n">axis</span><span class="o">.</span><span class="n">getMax</span><span class="p">()</span> <span class="o">-</span> <span class="n">axis</span><span class="o">.</span><span class="n">getMin</span><span class="p">()</span>
<span class="n">Ys</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">dataY</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">Ys</span> <span class="o">*=</span> <span class="n">height</span>
<span class="n">Es</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">dataE</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">Es</span> <span class="o">*=</span> <span class="n">height</span>
</pre></div>
</div>
</section>
<section id="usage">
<h2><a class="toc-backref" href="#id7" role="doc-backlink">Usage</a><a class="headerlink" href="#usage" title="Permalink to this heading">¶</a></h2>
<p><strong>Example - Horizontal line profile</strong></p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span>

<span class="n">ws</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">(</span>
    <span class="n">Function</span><span class="o">=</span><span class="s1">&#39;Quasielastic Tunnelling&#39;</span><span class="p">,</span>
    <span class="n">NumBanks</span><span class="o">=</span><span class="mi">1</span>
<span class="p">)</span>

<span class="c1"># Horizontal profile over spectra 5-10</span>
<span class="n">horProfile</span> <span class="o">=</span> <span class="n">LineProfile</span><span class="p">(</span>
    <span class="n">InputWorkspace</span><span class="o">=</span><span class="n">ws</span><span class="p">,</span>
    <span class="n">Centre</span><span class="o">=</span><span class="mf">7.5</span><span class="p">,</span>
    <span class="n">HalfWidth</span><span class="o">=</span><span class="mf">2.5</span><span class="p">,</span>
    <span class="n">Start</span><span class="o">=</span><span class="mi">3000</span><span class="p">,</span>
    <span class="n">End</span><span class="o">=</span><span class="mi">13000</span>
<span class="p">)</span>

<span class="n">indexMax</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">horProfile</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="n">epp</span> <span class="o">=</span> <span class="n">horProfile</span><span class="o">.</span><span class="n">readX</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="n">indexMax</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Elastic peak at </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">epp</span><span class="p">))</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Elastic peak at 10000.0
</pre></div>
</div>
<p><strong>Example - Vertical line profile</strong></p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span>

<span class="n">ws</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">(</span>
    <span class="n">Function</span><span class="o">=</span><span class="s1">&#39;Quasielastic Tunnelling&#39;</span><span class="p">,</span>
    <span class="n">NumBanks</span><span class="o">=</span><span class="mi">1</span>
<span class="p">)</span>

<span class="n">wsInTheta</span> <span class="o">=</span> <span class="n">ConvertSpectrumAxis</span><span class="p">(</span>
    <span class="n">InputWorkspace</span><span class="o">=</span><span class="n">ws</span><span class="p">,</span>
    <span class="n">Target</span><span class="o">=</span><span class="s1">&#39;Theta&#39;</span>
<span class="p">)</span>

<span class="c1"># Verical cuts.</span>

<span class="n">tofs</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">3000</span><span class="p">,</span> <span class="mi">7000</span><span class="p">,</span> <span class="mi">500</span><span class="p">)</span>
<span class="n">cutWSs</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
<span class="k">for</span> <span class="n">tof</span> <span class="ow">in</span> <span class="n">tofs</span><span class="p">:</span>
    <span class="n">cutWS</span> <span class="o">=</span> <span class="n">LineProfile</span><span class="p">(</span>
        <span class="n">InputWorkspace</span><span class="o">=</span><span class="n">wsInTheta</span><span class="p">,</span>
        <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;cut-at-</span><span class="si">{}</span><span class="s1">-us&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">tof</span><span class="p">),</span>
        <span class="n">Direction</span><span class="o">=</span><span class="s1">&#39;Vertical&#39;</span><span class="p">,</span>
        <span class="n">Centre</span><span class="o">=</span><span class="nb">float</span><span class="p">(</span><span class="n">tof</span><span class="p">),</span>
        <span class="n">HalfWidth</span><span class="o">=</span><span class="mf">250.0</span><span class="p">,</span>
        <span class="n">Start</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>  <span class="c1"># Degrees</span>
        <span class="n">End</span><span class="o">=</span><span class="mf">0.9</span>
    <span class="p">)</span>
    <span class="n">cutWSs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cutWS</span><span class="p">)</span>

<span class="k">for</span> <span class="n">cut</span> <span class="ow">in</span> <span class="n">cutWSs</span><span class="p">:</span>
    <span class="c1"># Vertical axis holds the TOF bin edges of the cut</span>
    <span class="n">axis</span> <span class="o">=</span> <span class="n">cut</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">tofStart</span> <span class="o">=</span> <span class="n">axis</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">tofEnd</span> <span class="o">=</span> <span class="n">axis</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="c1"># Notice the overlapping TOFs. This is because partial bins are</span>
    <span class="c1"># included in their entirety.</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Average intensity between </span><span class="si">{}</span><span class="s1"> and </span><span class="si">{}</span><span class="s1"> microsec: </span><span class="si">{:.03}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
        <span class="n">tofStart</span><span class="p">,</span> <span class="n">tofEnd</span><span class="p">,</span> <span class="n">cut</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">0</span><span class="p">]))</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Average intensity between 2600.0 and 3400.0 microsec: 0.1
Average intensity between 3200.0 and 3800.0 microsec: 0.1
Average intensity between 3600.0 and 4400.0 microsec: 0.164
Average intensity between 4200.0 and 4800.0 microsec: 0.1
Average intensity between 4600.0 and 5400.0 microsec: 0.1
Average intensity between 5200.0 and 5800.0 microsec: 0.1
Average intensity between 5600.0 and 6400.0 microsec: 0.227
Average intensity between 6200.0 and 6800.0 microsec: 0.1
</pre></div>
</div>
<p><strong>Example - The ‘Sum’ mode</strong></p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span>

<span class="n">ws</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">(</span>
    <span class="n">Function</span><span class="o">=</span><span class="s1">&#39;Quasielastic Tunnelling&#39;</span><span class="p">,</span>
    <span class="n">NumBanks</span><span class="o">=</span><span class="mi">1</span>
<span class="p">)</span>

<span class="n">wsInTheta</span> <span class="o">=</span> <span class="n">ConvertSpectrumAxis</span><span class="p">(</span>
    <span class="n">InputWorkspace</span><span class="o">=</span><span class="n">ws</span><span class="p">,</span>
    <span class="n">Target</span><span class="o">=</span><span class="s1">&#39;Theta&#39;</span>
<span class="p">)</span>

<span class="c1"># Lets assign NaNs to the lower left and upper right corners</span>
<span class="c1"># of the workspace.</span>
<span class="k">for</span> <span class="n">iVert</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">wsInTheta</span><span class="o">.</span><span class="n">getNumberHistograms</span><span class="p">()):</span>
    <span class="k">for</span> <span class="n">iHor</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">wsInTheta</span><span class="o">.</span><span class="n">blocksize</span><span class="p">()):</span>
        <span class="k">if</span> <span class="n">iVert</span> <span class="o">+</span> <span class="n">iHor</span> <span class="o">&lt;</span> <span class="mi">60</span><span class="p">:</span>
            <span class="n">ys</span> <span class="o">=</span> <span class="n">wsInTheta</span><span class="o">.</span><span class="n">dataY</span><span class="p">(</span><span class="n">iVert</span><span class="p">)</span>
            <span class="n">ys</span><span class="p">[</span><span class="n">iHor</span><span class="p">]</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">nan</span>
        <span class="k">elif</span> <span class="n">iVert</span> <span class="o">+</span> <span class="n">iHor</span> <span class="o">&gt;</span> <span class="mi">120</span><span class="p">:</span>
            <span class="n">ys</span> <span class="o">=</span> <span class="n">wsInTheta</span><span class="o">.</span><span class="n">dataY</span><span class="p">(</span><span class="n">iVert</span><span class="p">)</span>
            <span class="n">ys</span><span class="p">[</span><span class="n">iHor</span><span class="p">]</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">nan</span>

<span class="n">centre</span> <span class="o">=</span> <span class="mf">0.6</span>
<span class="n">width</span> <span class="o">=</span> <span class="mf">0.05</span>
<span class="n">sumCutWS</span> <span class="o">=</span> <span class="n">LineProfile</span><span class="p">(</span><span class="n">wsInTheta</span><span class="p">,</span> <span class="n">centre</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">Mode</span><span class="o">=</span><span class="s1">&#39;Sum&#39;</span><span class="p">)</span>

<span class="c1"># When no NaNs are present both modes give the same result.</span>
<span class="n">iElastic</span> <span class="o">=</span> <span class="n">sumCutWS</span><span class="o">.</span><span class="n">blocksize</span><span class="p">()</span> <span class="o">//</span> <span class="mi">2</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">sumCutWS</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="n">iElastic</span><span class="p">]</span>
<span class="n">e</span> <span class="o">=</span> <span class="n">sumCutWS</span><span class="o">.</span><span class="n">readE</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="n">iElastic</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Sum profile at elastic peak: </span><span class="si">{:.8f}</span><span class="s1"> +/- </span><span class="si">{:.10f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>

<span class="c1"># The weighting is apparent when the profile crosses some</span>
<span class="c1"># special values.</span>
<span class="n">iEdge</span> <span class="o">=</span> <span class="n">sumCutWS</span><span class="o">.</span><span class="n">blocksize</span><span class="p">()</span> <span class="o">//</span> <span class="mi">6</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">sumCutWS</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="n">iEdge</span><span class="p">]</span>
<span class="n">e</span> <span class="o">=</span> <span class="n">sumCutWS</span><span class="o">.</span><span class="n">readE</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="n">iEdge</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Sum profile near NaNs: </span><span class="si">{:.11f}</span><span class="s1"> +/- </span><span class="si">{:.11f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Sum profile at elastic peak: 103.45916358 +/- 10.1714877761
Sum profile near NaNs: 1.60000001019 +/- 2.52982213619
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/AlgorithmIndex.html">AlgorithmIndex</a> | <a class="reference external" href="categories/Utility.html">Utility</a></p>
</section>
<section id="source">
<h2><a class="toc-backref" href="#id8" role="doc-backlink">Source</a><a class="headerlink" href="#source" title="Permalink to this heading">¶</a></h2>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/aa570da6f199141cd8ad987bf9b9b9281a1b5e33/Framework/Algorithms/inc/MantidAlgorithms/LineProfile.h">LineProfile.h</a></p>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/aa570da6f199141cd8ad987bf9b9b9281a1b5e33/Framework/Algorithms/src/LineProfile.cpp">LineProfile.cpp</a></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="LessThanMD-v1.html" title="Previous Chapter: LessThanMD v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; LessThanMD v1</span>
    </a>
  </li>
  <li>
    <a href="LinkedUBs-v1.html" title="Next Chapter: LinkedUBs v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">LinkedUBs v1 &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>