<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>LoadGSASInstrumentFile v1</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="LoadGSS v1" href="LoadGSS-v1.html" />
    <link rel="prev" title="LoadFullprofResolution v1" href="LoadFullprofResolution-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.5</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://www.mantidproject.org">Home</a></li>
                <li><a href="https://download.mantidproject.org">Download</a></li>
                <li><a href="https://docs.mantidproject.org">Documentation</a></li>
                <li><a href="https://www.mantidproject.org/contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Algorithms</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">LoadGSASInstrumentFile v1</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="loadgsasinstrumentfile-v1">
<span id="algm-loadgsasinstrumentfile"></span><span id="algm-loadgsasinstrumentfile-v1"></span><h1>LoadGSASInstrumentFile v1<a class="headerlink" href="#loadgsasinstrumentfile-v1" title="Permalink to this heading">¶</a></h1>
<figure class="align-right" id="id2">
<span id="index-0"></span><a class="screenshot reference internal image-reference" href="../_images/LoadGSASInstrumentFile-v1_dlg.png"><img alt="../_images/LoadGSASInstrumentFile-v1_dlg.png" class="screenshot" src="../_images/LoadGSASInstrumentFile-v1_dlg.png" style="width: 362px;" /></a>
<figcaption>
<p><span class="caption-text"><strong>LoadGSASInstrumentFile</strong> dialog.</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#summary" id="id3">Summary</a></p>
<ul>
<li><p><a class="reference internal" href="#see-also" id="id4">See Also</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#properties" id="id5">Properties</a></p></li>
<li><p><a class="reference internal" href="#description" id="id6">Description</a></p></li>
<li><p><a class="reference internal" href="#usage" id="id7">Usage</a></p></li>
<li><p><a class="reference internal" href="#source" id="id8">Source</a></p></li>
</ul>
</nav>
<section id="summary">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Summary</a><a class="headerlink" href="#summary" title="Permalink to this heading">¶</a></h2>
<p>Load parameters from a GSAS Instrument file.</p>
<section id="see-also">
<h3><a class="toc-backref" href="#id4" role="doc-backlink">See Also</a><a class="headerlink" href="#see-also" title="Permalink to this heading">¶</a></h3>
<p><a class="reference internal" href="SaveGSASInstrumentFile-v1.html#algm-savegsasinstrumentfile"><span class="std std-ref">SaveGSASInstrumentFile</span></a>, <a class="reference internal" href="LoadGSS-v1.html#algm-loadgss"><span class="std std-ref">LoadGSS</span></a>, <a class="reference internal" href="FixGSASInstrumentFile-v1.html#algm-fixgsasinstrumentfile"><span class="std std-ref">FixGSASInstrumentFile</span></a></p>
</section>
</section>
<section id="properties">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Properties</a><a class="headerlink" href="#properties" title="Permalink to this heading">¶</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Direction</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Filename</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>Path to an GSAS file to load. Allowed extensions: [‘.prm’]</p></td>
</tr>
<tr class="row-odd"><td><p>OutputTableWorkspace</p></td>
<td><p>Output</p></td>
<td><p><a class="reference internal" href="../concepts/TableWorkspaces.html#table-workspaces"><span class="std std-ref">TableWorkspace</span></a></p></td>
<td></td>
<td><p>Name of the output TableWorkspace containing instrument parameter information read from file.</p></td>
</tr>
<tr class="row-even"><td><p>UseBankIDsInFile</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>True</p></td>
<td><p>Use bank IDs as given in file rather than ordinal number of bank. If the bank IDs in the file are not unique, it is advised to set this to false.</p></td>
</tr>
<tr class="row-odd"><td><p>Banks</p></td>
<td><p>Input</p></td>
<td><p>int list</p></td>
<td></td>
<td><p>ID(s) of specified bank(s) to load, The IDs are as specified by UseBankIDsInFile. Default is all banks contained in input .prm file.</p></td>
</tr>
<tr class="row-even"><td><p>Workspace</p></td>
<td><p>InOut</p></td>
<td><p>WorkspaceGroup</p></td>
<td></td>
<td><p>A workspace group with the instrument to which we add the parameters from the GSAS instrument file, with one workspace for each bank of the .prm file</p></td>
</tr>
<tr class="row-odd"><td><p>WorkspacesForBanks</p></td>
<td><p>Input</p></td>
<td><p>int list</p></td>
<td></td>
<td><p>For each bank, the ID of the corresponding workspace in same order as the banks are specified. ID=1 refers to the first workspace in the workspace group, ID=2 refers to the second workspace and so on. Default is all workspaces in numerical order. If default banks are specified, they too are taken to be in numerical order</p></td>
</tr>
</tbody>
</table>
</section>
<section id="description">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">Description</a><a class="headerlink" href="#description" title="Permalink to this heading">¶</a></h2>
<p>Load Ikeda-Carpenter PV parameters from a GSAS instrument file into a table workspace or a workspace group.</p>
<p>Later developments of this algorithm will enable to load back-to-back-exponential pseudo-Voigt parameters translated into
<a class="reference internal" href="../fitting/fitfunctions/BackToBackExponential.html#func-backtobackexponential"><span class="std std-ref">BackToBackExponential</span></a>.</p>
</section>
<section id="usage">
<h2><a class="toc-backref" href="#id7" role="doc-backlink">Usage</a><a class="headerlink" href="#usage" title="Permalink to this heading">¶</a></h2>
<p><strong>Example - Run LoadGSASInstrumentFile for both TableWorkspace and workspace with Instrument</strong></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To run these usage examples please first download the
<a class="reference external" href="https://sourceforge.net/projects/mantid/files/Sample%20Data/UsageData.zip/download">usage data</a>,
and add these to your path.
In Mantid this is done using <a class="reference internal" href="../interfaces/framework/ManageUserDirectories.html#manageuserdirectories"><span class="std std-ref">Manage User Directories</span></a>.</p>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># We load a GSAS Instrument file with 2 Banks</span>
<span class="n">tws</span> <span class="o">=</span> <span class="n">LoadGSASInstrumentFile</span><span class="p">(</span><span class="s2">&quot;GSAS_2bank.prm&quot;</span><span class="p">)</span>

<span class="c1">#Print first four rows</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]:</span>
   <span class="n">row</span> <span class="o">=</span> <span class="n">tws</span><span class="o">.</span><span class="n">row</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
   <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;{{&#39;Name&#39;: &#39;</span><span class="si">{}</span><span class="s2">&#39;,&#39;Value_1&#39;: </span><span class="si">{:.2f}</span><span class="s2">, &#39;Value_2&#39;: </span><span class="si">{:.2f}</span><span class="s2">}}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s2">&quot;Name&quot;</span><span class="p">],</span> <span class="n">row</span><span class="p">[</span><span class="s2">&quot;Value_1&quot;</span><span class="p">],</span>  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;Value_2&quot;</span><span class="p">]</span> <span class="p">))</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{&#39;Name&#39;: &#39;BANK&#39;,&#39;Value_1&#39;: 1.00, &#39;Value_2&#39;: 2.00}
{&#39;Name&#39;: &#39;Alph0&#39;,&#39;Value_1&#39;: 0.00, &#39;Value_2&#39;: 0.00}
{&#39;Name&#39;: &#39;Alph1&#39;,&#39;Value_1&#39;: 0.21, &#39;Value_2&#39;: 0.22}
{&#39;Name&#39;: &#39;Beta0&#39;,&#39;Value_1&#39;: 31.79, &#39;Value_2&#39;: 31.79}
</pre></div>
</div>
<p><strong>Example - Run LoadGSASInstrumentFile and put parameters into workspace</strong></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To run these usage examples please first download the
<a class="reference external" href="https://sourceforge.net/projects/mantid/files/Sample%20Data/UsageData.zip/download">usage data</a>,
and add these to your path.
In Mantid this is done using <a class="reference internal" href="../interfaces/framework/ManageUserDirectories.html#manageuserdirectories"><span class="std std-ref">Manage User Directories</span></a>.</p>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># First we load MUSR00015189 workspace group</span>
<span class="n">Load</span><span class="p">(</span><span class="s2">&quot;MUSR00015189&quot;</span><span class="p">,</span><span class="n">OutputWorkspace</span><span class="o">=</span><span class="s2">&quot;groupWs&quot;</span><span class="p">)</span>
<span class="n">groupWs</span><span class="o">=</span><span class="n">mtd</span><span class="p">[</span><span class="s2">&quot;groupWs&quot;</span><span class="p">]</span>
<span class="c1"># We clear instrument parameters...</span>
<span class="n">ClearInstrumentParameters</span><span class="p">(</span><span class="n">groupWs</span><span class="p">)</span>

<span class="c1"># ...and check they do not exist</span>
<span class="n">instrument</span> <span class="o">=</span> <span class="n">groupWs</span><span class="o">.</span><span class="n">getItem</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">getInstrument</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Alpha0 parameter exists:  </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">instrument</span><span class="o">.</span><span class="n">hasParameter</span><span class="p">(</span><span class="s2">&quot;Alpha0&quot;</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Beta0 parameter exists:  </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">instrument</span><span class="o">.</span><span class="n">hasParameter</span><span class="p">(</span><span class="s2">&quot;Beta0&quot;</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;SigmaSquared parameter exists:  </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">instrument</span><span class="o">.</span><span class="n">hasParameter</span><span class="p">(</span><span class="s2">&quot;SigmaSquared&quot;</span><span class="p">)))</span>

<span class="c1"># Now we load a GSAS Instrument file with 2 Banks into the workspace...</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Loading parameters from GSAS</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">tws</span> <span class="o">=</span> <span class="n">LoadGSASInstrumentFile</span><span class="p">(</span><span class="n">Filename</span><span class="o">=</span><span class="s2">&quot;GSAS_2bank.prm&quot;</span><span class="p">,</span><span class="n">UseBankIDsInFile</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">Workspace</span><span class="o">=</span><span class="n">groupWs</span><span class="p">,</span><span class="n">Banks</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>

<span class="c1"># ...and check parameters are there again</span>
<span class="n">instrument</span> <span class="o">=</span> <span class="n">groupWs</span><span class="o">.</span><span class="n">getItem</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">getInstrument</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Alpha0 parameter exists:  </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">instrument</span><span class="o">.</span><span class="n">hasParameter</span><span class="p">(</span><span class="s2">&quot;Alpha0&quot;</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Beta0 parameter exists:  </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">instrument</span><span class="o">.</span><span class="n">hasParameter</span><span class="p">(</span><span class="s2">&quot;Beta0&quot;</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;SigmaSquared parameter exists:  </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">instrument</span><span class="o">.</span><span class="n">hasParameter</span><span class="p">(</span><span class="s2">&quot;SigmaSquared&quot;</span><span class="p">)))</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Alpha0 parameter exists:  False
Beta0 parameter exists:  False
SigmaSquared parameter exists:  False

Loading parameters from GSAS

Alpha0 parameter exists:  True
Beta0 parameter exists:  True
SigmaSquared parameter exists:  True
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/AlgorithmIndex.html">AlgorithmIndex</a> | <a class="reference external" href="categories/Diffraction/DataHandling.html">Diffraction\DataHandling</a></p>
</section>
<section id="source">
<h2><a class="toc-backref" href="#id8" role="doc-backlink">Source</a><a class="headerlink" href="#source" title="Permalink to this heading">¶</a></h2>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/aa570da6f199141cd8ad987bf9b9b9281a1b5e33/Framework/DataHandling/inc/MantidDataHandling/LoadGSASInstrumentFile.h">LoadGSASInstrumentFile.h</a></p>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/aa570da6f199141cd8ad987bf9b9b9281a1b5e33/Framework/DataHandling/src/LoadGSASInstrumentFile.cpp">LoadGSASInstrumentFile.cpp</a></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="LoadFullprofResolution-v1.html" title="Previous Chapter: LoadFullprofResolution v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; LoadFullprofR...</span>
    </a>
  </li>
  <li>
    <a href="LoadGSS-v1.html" title="Next Chapter: LoadGSS v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">LoadGSS v1 &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>