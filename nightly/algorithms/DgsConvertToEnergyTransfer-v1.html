<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>DgsConvertToEnergyTransfer v1</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="DgsDiagnose v1" href="DgsDiagnose-v1.html" />
    <link rel="prev" title="DgsAbsoluteUnitsReduction v1" href="DgsAbsoluteUnitsReduction-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.5</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://www.mantidproject.org">Home</a></li>
                <li><a href="https://download.mantidproject.org">Download</a></li>
                <li><a href="https://docs.mantidproject.org">Documentation</a></li>
                <li><a href="https://www.mantidproject.org/contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Algorithms</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">DgsConvertToEnergyTransfer v1</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="dgsconverttoenergytransfer-v1">
<span id="algm-dgsconverttoenergytransfer"></span><span id="algm-dgsconverttoenergytransfer-v1"></span><h1>DgsConvertToEnergyTransfer v1<a class="headerlink" href="#dgsconverttoenergytransfer-v1" title="Permalink to this heading">¶</a></h1>
<figure class="align-right" id="id1">
<span id="index-0"></span><a class="screenshot reference internal image-reference" href="../_images/DgsConvertToEnergyTransfer-v1_dlg.png"><img alt="../_images/DgsConvertToEnergyTransfer-v1_dlg.png" class="screenshot" src="../_images/DgsConvertToEnergyTransfer-v1_dlg.png" style="width: 349px;" /></a>
<figcaption>
<p><span class="caption-text"><strong>DgsConvertToEnergyTransfer</strong> dialog.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#summary" id="id2">Summary</a></p></li>
<li><p><a class="reference internal" href="#properties" id="id3">Properties</a></p></li>
<li><p><a class="reference internal" href="#description" id="id4">Description</a></p>
<ul>
<li><p><a class="reference internal" href="#workflow" id="id5">Workflow</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#usage" id="id6">Usage</a></p></li>
<li><p><a class="reference internal" href="#source" id="id7">Source</a></p></li>
</ul>
</nav>
<section id="summary">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Summary</a><a class="headerlink" href="#summary" title="Permalink to this heading">¶</a></h2>
<p>Algorithm to convert from TOF to energy transfer.</p>
</section>
<section id="properties">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Properties</a><a class="headerlink" href="#properties" title="Permalink to this heading">¶</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Direction</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>InputWorkspace</p></td>
<td><p>Input</p></td>
<td><p><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a></p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>A sample data workspace.</p></td>
</tr>
<tr class="row-odd"><td><p>InputMonitorWorkspace</p></td>
<td><p>Input</p></td>
<td><p><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a></p></td>
<td></td>
<td><p>A monitor workspace associated with the sample workspace.</p></td>
</tr>
<tr class="row-even"><td><p>IncidentEnergyGuess</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p><em>Optional</em></p></td>
<td><p>This is the starting point for the incident energy calculation.</p></td>
</tr>
<tr class="row-odd"><td><p>IntegratedDetectorVanadium</p></td>
<td><p>Input</p></td>
<td><p><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a></p></td>
<td></td>
<td><p>A workspace containing the integrated detector vanadium.</p></td>
</tr>
<tr class="row-even"><td><p>MaskWorkspace</p></td>
<td><p>Input</p></td>
<td><p><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a></p></td>
<td></td>
<td><p>A mask workspace</p></td>
</tr>
<tr class="row-odd"><td><p>GroupingWorkspace</p></td>
<td><p>Input</p></td>
<td><p><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a></p></td>
<td></td>
<td><p>A grouping workspace</p></td>
</tr>
<tr class="row-even"><td><p>AlternateGroupingTag</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>Allows modification to the OldGroupingFile property name</p></td>
</tr>
<tr class="row-odd"><td><p>OutputWorkspace</p></td>
<td><p>Output</p></td>
<td><p><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a></p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>The name for the output workspace.</p></td>
</tr>
<tr class="row-even"><td><p>OutputTibWorkspace</p></td>
<td><p>Output</p></td>
<td><p><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a></p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>The name for the output TIB workspace.</p></td>
</tr>
<tr class="row-odd"><td><p>ReductionProperties</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>__dgs_reduction_properties</p></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="description">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Description</a><a class="headerlink" href="#description" title="Permalink to this heading">¶</a></h2>
<p>This algorithm is responsible for making the conversion from
time-of-flight to energy transfer for direct geometry spectrometers. The
diagram below shows the workflow for the algorithm. The SNS instruments
have a log called EnergyRequest which allows the IncidentEnergyGuess
parameter to be left blank. Also, SNS instruments need to pass a monitor
workspace to <a class="reference internal" href="GetEi-v2.html#algm-getei"><span class="std std-ref">GetEi</span></a>
since they are separate from the sample workspace.
Parameters in italics are controlled by the
<a class="reference internal" href="../concepts/InstrumentParameterFile.html#instrumentparameterfile"><span class="std std-ref">instrument parameter file (IPF)</span></a>
unless provided to the algorithm via a property manager. The mappings are given
below.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>IPF Mapping</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>TibTofRangeStart</p></td>
<td><p>bkgd-range-min</p></td>
</tr>
<tr class="row-odd"><td><p>TibTofRangeEnd</p></td>
<td><p>bkgd-range-max</p></td>
</tr>
</tbody>
</table>
<p>Parameters in italics with dashed perimeters are only controllable by
the IPF name given. All underlined parameters are fixed and not
controllable. The EnergyTransferRange parameter takes the canonical
Mantid notation of (start, step, stop). However, it can be left blank
and the following values will be used
<span class="math notranslate nohighlight">\((-0.5E^{Guess}_{i}, 0.01E^{Guess}_{i}, 0.99E^{Guess}_{i})\)</span>.</p>
<p>The use of the SofPhiEIsDistribution parameter in the last Rebin call is
used to set the <a class="reference internal" href="Rebin-v1.html#algm-rebin"><span class="std std-ref">Rebin</span></a>
algorithm parameter PreserveEvents.</p>
<section id="workflow">
<h3><a class="toc-backref" href="#id5" role="doc-backlink">Workflow</a><a class="headerlink" href="#workflow" title="Permalink to this heading">¶</a></h3>
<figure class="align-default">
<img alt="DgsConvertToEnergyTransferWorkflow.png" src="../_images/DgsConvertToEnergyTransferWorkflow.png" />
</figure>
</section>
</section>
<section id="usage">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">Usage</a><a class="headerlink" href="#usage" title="Permalink to this heading">¶</a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This algorithm is not really intended for use at the command line, but is used
within <a class="reference internal" href="DgsReduction-v1.html#algm-dgsreduction"><span class="std std-ref">DgsReduction</span></a>.</p>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/AlgorithmIndex.html">AlgorithmIndex</a> | <a class="reference external" href="categories/Workflow/Inelastic/UsesPropertyManager.html">Workflow\Inelastic\UsesPropertyManager</a></p>
</section>
<section id="source">
<h2><a class="toc-backref" href="#id7" role="doc-backlink">Source</a><a class="headerlink" href="#source" title="Permalink to this heading">¶</a></h2>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/ec825fbd8c2d754b56329d9056e8016ac6d7b10a/Framework/WorkflowAlgorithms/inc/MantidWorkflowAlgorithms/DgsConvertToEnergyTransfer.h">DgsConvertToEnergyTransfer.h</a></p>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/ec825fbd8c2d754b56329d9056e8016ac6d7b10a/Framework/WorkflowAlgorithms/src/DgsConvertToEnergyTransfer.cpp">DgsConvertToEnergyTransfer.cpp</a></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="DgsAbsoluteUnitsReduction-v1.html" title="Previous Chapter: DgsAbsoluteUnitsReduction v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; DgsAbsoluteUn...</span>
    </a>
  </li>
  <li>
    <a href="DgsDiagnose-v1.html" title="Next Chapter: DgsDiagnose v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">DgsDiagnose v1 &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>