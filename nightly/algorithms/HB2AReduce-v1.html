<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>HB2AReduce v1</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="HB3AAdjustSampleNorm v1" href="HB3AAdjustSampleNorm-v1.html" />
    <link rel="prev" title="GroupWorkspaces v1" href="GroupWorkspaces-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.5</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://docs.mantidproject.org/nightly/">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Algorithms</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">HB2AReduce v1</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="hb2areduce-v1">
<span id="algm-hb2areduce"></span><span id="algm-hb2areduce-v1"></span><h1>HB2AReduce v1<a class="headerlink" href="#hb2areduce-v1" title="Permalink to this heading">¶</a></h1>
<figure class="align-right" id="id1">
<span id="index-0"></span><a class="screenshot reference internal image-reference" href="../_images/HB2AReduce-v1_dlg.png"><img alt="../_images/HB2AReduce-v1_dlg.png" class="screenshot" src="../_images/HB2AReduce-v1_dlg.png" style="width: 349px;" /></a>
<figcaption>
<p><span class="caption-text"><strong>HB2AReduce</strong> dialog.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#summary" id="id2">Summary</a></p></li>
<li><p><a class="reference internal" href="#properties" id="id3">Properties</a></p></li>
<li><p><a class="reference internal" href="#description" id="id4">Description</a></p>
<ul>
<li><p><a class="reference internal" href="#vanadium" id="id5">Vanadium</a></p></li>
<li><p><a class="reference internal" href="#excludedetectors" id="id6">ExcludeDetectors</a></p></li>
<li><p><a class="reference internal" href="#individualdetectors" id="id7">IndividualDetectors</a></p></li>
<li><p><a class="reference internal" href="#binning-data" id="id8">Binning Data</a></p></li>
<li><p><a class="reference internal" href="#def-x" id="id9">def_x</a></p></li>
<li><p><a class="reference internal" href="#saving-reduced-data" id="id10">Saving reduced data</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#usage" id="id11">Usage</a></p></li>
<li><p><a class="reference internal" href="#source" id="id12">Source</a></p></li>
</ul>
</nav>
<section id="summary">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Summary</a><a class="headerlink" href="#summary" title="Permalink to this heading">¶</a></h2>
<p>Performs data reduction for HB-2A POWDER at HFIR</p>
</section>
<section id="properties">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Properties</a><a class="headerlink" href="#properties" title="Permalink to this heading">¶</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Direction</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Filename</p></td>
<td><p>Input</p></td>
<td><p>list of str lists</p></td>
<td></td>
<td><p>Data files to load. Allowed extensions: [‘.dat’]</p></td>
</tr>
<tr class="row-odd"><td><p>IPTS</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p><em>Optional</em></p></td>
<td><p>IPTS number to load from</p></td>
</tr>
<tr class="row-even"><td><p>Exp</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p><em>Optional</em></p></td>
<td><p>Experiment number to load from</p></td>
</tr>
<tr class="row-odd"><td><p>ScanNumbers</p></td>
<td><p>Input</p></td>
<td><p>long list</p></td>
<td></td>
<td><p>Scan numbers to load</p></td>
</tr>
<tr class="row-even"><td><p>Vanadium</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>Vanadium file, can be either the vanadium scan file or the reduced vcorr file. If not provided the vcorr file adjacent to the data file will be used. Allowed extensions: [‘.dat’, ‘.txt’]</p></td>
</tr>
<tr class="row-odd"><td><p>Normalise</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>True</p></td>
<td><p>If False vanadium normalisation will not be performed</p></td>
</tr>
<tr class="row-even"><td><p>ExcludeDetectors</p></td>
<td><p>Input</p></td>
<td><p>long list</p></td>
<td></td>
<td><p>Detectors to exclude. If not provided the HB2A_exp???__exclude_detectors.txt adjacent to the data file will be used if it exist</p></td>
</tr>
<tr class="row-odd"><td><p>DefX</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>By default the def_x (x-axis) from the file will be used, it can be overridden by setting it here</p></td>
</tr>
<tr class="row-even"><td><p>IndividualDetectors</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>False</p></td>
<td><p>If True the workspace will include each anode as a separate spectrum, useful for debugging issues</p></td>
</tr>
<tr class="row-odd"><td><p>BinData</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>True</p></td>
<td><p>Data will be binned using BinWidth. If False then all data will be unbinned</p></td>
</tr>
<tr class="row-even"><td><p>BinWidth</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>0.05</p></td>
<td><p>Bin size of the output workspace</p></td>
</tr>
<tr class="row-odd"><td><p>Scale</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>1</p></td>
<td><p>The output will be scaled by this value</p></td>
</tr>
<tr class="row-even"><td><p>OutputWorkspace</p></td>
<td><p>Output</p></td>
<td><p><a class="reference internal" href="../concepts/Workspace.html#workspace"><span class="std std-ref">Workspace</span></a></p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>Output Workspace</p></td>
</tr>
<tr class="row-odd"><td><p>SaveData</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>True</p></td>
<td><p>By default saving the reduced data to either GSAS or XYE</p></td>
</tr>
<tr class="row-even"><td><p>OutputFormat</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>GSAS</p></td>
<td><p>Supportted output format: XYE (.dat), GSAS (.gss). Allowed values: [‘XYE’, ‘GSAS’]</p></td>
</tr>
<tr class="row-odd"><td><p>OutputDirectory</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>Saving directory for output file</p></td>
</tr>
</tbody>
</table>
</section>
<section id="description">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Description</a><a class="headerlink" href="#description" title="Permalink to this heading">¶</a></h2>
<p>This algorithm reduces HFIR POWDER (HB-2A) data.</p>
<p>You can either specify the filenames of data you want to reduce or provide the IPTS, exp and scan number. If only one experiment exists in an IPTS then exp can be omitted. <em>e.g.</em> the following are equivalent:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ws</span> <span class="o">=</span> <span class="n">HB2AReduce</span><span class="p">(</span><span class="s1">&#39;/HFIR/HB2A/IPTS-21073/exp666/Datafiles/HB2A_exp0666_scan0024.dat&#39;</span><span class="p">)</span>
<span class="c1"># and</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">HB2AReduce</span><span class="p">(</span><span class="n">IPTS</span><span class="o">=</span><span class="mi">21073</span><span class="p">,</span> <span class="n">exp</span><span class="o">=</span><span class="mi">666</span><span class="p">,</span> <span class="n">ScanNumbers</span><span class="o">=</span><span class="mi">24</span><span class="p">)</span>
</pre></div>
</div>
<p>You can specify any number of filenames or scan numbers (in a comma separated list).</p>
<p>Two ways for normalizing reduced data are provided, namely with monitor counts and collection time. The default one would be with monitor count, meaning the value specified with <code class="docutils literal notranslate"><span class="pre">OutputWorkspace</span></code> parameter would be used as the name of the generated workspace and stem name of output file (if specified) with monitor counts normalization. Along with that, an alternative workspace and corresponding output file would be generated, with ‘_norm_time’ appended to the specified name.</p>
<section id="vanadium">
<h3><a class="toc-backref" href="#id5" role="doc-backlink">Vanadium</a><a class="headerlink" href="#vanadium" title="Permalink to this heading">¶</a></h3>
<p>By default the correct vcorr file (<code class="docutils literal notranslate"><span class="pre">HB2A_exp???__Ge_[113|115]_[IN|OUT]_vcorr.txt</span></code>) adjacent to the data file will be used. Alternatively either the vcorr file or a vanadium scan file can be provided to the <code class="docutils literal notranslate"><span class="pre">Vanadium</span></code> option. If a vanadium scan file is provided then the vanadium counts can be taken into account when calculating the uncertainty which can not be done with using the vcorr file.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">Normalise=False</span></code> then no normalisation will be performed.</p>
</section>
<section id="excludedetectors">
<h3><a class="toc-backref" href="#id6" role="doc-backlink">ExcludeDetectors</a><a class="headerlink" href="#excludedetectors" title="Permalink to this heading">¶</a></h3>
<p>By default the file <code class="docutils literal notranslate"><span class="pre">HB2A_exp???__exclude_detectors.txt</span></code> adjacent to the data file will be used unless a list of detectors to exclude are provided by <code class="docutils literal notranslate"><span class="pre">ExcludeDetectors</span></code></p>
</section>
<section id="individualdetectors">
<h3><a class="toc-backref" href="#id7" role="doc-backlink">IndividualDetectors</a><a class="headerlink" href="#individualdetectors" title="Permalink to this heading">¶</a></h3>
<p>If this option is True then a separate spectra will be created in the output workspace for every anode. This allows you to compare adjacent anodes.</p>
</section>
<section id="binning-data">
<h3><a class="toc-backref" href="#id8" role="doc-backlink">Binning Data</a><a class="headerlink" href="#binning-data" title="Permalink to this heading">¶</a></h3>
<p>If <code class="docutils literal notranslate"><span class="pre">BinData=True</span></code> (default) then the data will be binned on a regular grid with a width of <code class="docutils literal notranslate"><span class="pre">BinWidth</span></code>. The output can be scaled by an arbitrary amount by setting <code class="docutils literal notranslate"><span class="pre">Scale</span></code>.</p>
</section>
<section id="def-x">
<h3><a class="toc-backref" href="#id9" role="doc-backlink">def_x</a><a class="headerlink" href="#def-x" title="Permalink to this heading">¶</a></h3>
<p>This algorithm will read the <code class="docutils literal notranslate"><span class="pre">def_x</span></code> value in the data file and use it as the x-axis. This value can be overridden by setting the <code class="docutils literal notranslate"><span class="pre">DefX</span></code> property, <em>e.g.</em> <code class="docutils literal notranslate"><span class="pre">DefX='2theta'</span></code>.</p>
<p>If you did a scan using a particular anode <em>vs</em> temperature then you should set <code class="docutils literal notranslate"><span class="pre">IndividualDetectors=True</span></code> and specify <code class="docutils literal notranslate"><span class="pre">DefX</span></code> if not correct in the data file. Then simply plot the spectrum you are scanning, look at the example below <em>Anode8 vs temperature</em>.</p>
</section>
<section id="saving-reduced-data">
<h3><a class="toc-backref" href="#id10" role="doc-backlink">Saving reduced data</a><a class="headerlink" href="#saving-reduced-data" title="Permalink to this heading">¶</a></h3>
<p>The output workspace can be saved to <code class="docutils literal notranslate"><span class="pre">XYE</span></code>, <code class="docutils literal notranslate"><span class="pre">Maud</span></code> and <code class="docutils literal notranslate"><span class="pre">TOPAS</span></code> format using <a class="reference internal" href="SaveFocusedXYE-v1.html#algm-savefocusedxye"><span class="std std-ref">SaveFocusedXYE</span></a>. <em>e.g.</em></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># XYE with no header</span>
<span class="n">SaveFocusedXYE</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span> <span class="n">Filename</span><span class="o">=</span><span class="s1">&#39;data.xye&#39;</span><span class="p">,</span> <span class="n">SplitFiles</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">IncludeHeader</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># TOPAS format</span>
<span class="n">SaveFocusedXYE</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span> <span class="n">Filename</span><span class="o">=</span><span class="s1">&#39;data.xye&#39;</span><span class="p">,</span> <span class="n">SplitFiles</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">Format</span><span class="o">=</span><span class="s1">&#39;TOPAS&#39;</span><span class="p">)</span>

<span class="c1"># Maud format</span>
<span class="n">SaveFocusedXYE</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span> <span class="n">Filename</span><span class="o">=</span><span class="s1">&#39;data.xye&#39;</span><span class="p">,</span> <span class="n">SplitFiles</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">Format</span><span class="o">=</span><span class="s1">&#39;MAUD&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>You can also save the reduced data as <code class="docutils literal notranslate"><span class="pre">GSAS</span></code> or <code class="docutils literal notranslate"><span class="pre">XYE</span></code> format by adding additional arguments to the reduction call</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ws</span> <span class="o">=</span> <span class="n">HB2AReduce</span><span class="p">(</span>
   <span class="s1">&#39;/HFIR/HB2A/IPTS-21073/exp666/Datafiles/HB2A_exp0666_scan0024.dat&#39;</span><span class="p">,</span>
   <span class="n">SaveData</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
   <span class="n">OutputFormat</span><span class="o">=</span><span class="s2">&quot;GSAS&quot;</span><span class="p">,</span>
   <span class="n">OutputDirectory</span><span class="o">=</span><span class="s2">&quot;/tmp&quot;</span><span class="p">,</span>
   <span class="p">)</span>
</pre></div>
</div>
<p><strong>Warning</strong>
- Do not specify <code class="docutils literal notranslate"><span class="pre">OutputFormat</span></code> or <code class="docutils literal notranslate"><span class="pre">OutputDirectory</span></code> if <code class="docutils literal notranslate"><span class="pre">SaveData</span></code> is set to False.
- If <code class="docutils literal notranslate"><span class="pre">def_x</span> <span class="pre">=</span> <span class="pre">2theta</span></code> is not the in the header of any one of the input files, do not set <code class="docutils literal notranslate"><span class="pre">OutputFormat</span></code> to <code class="docutils literal notranslate"><span class="pre">GSAS</span></code>.</p>
</section>
</section>
<section id="usage">
<h2><a class="toc-backref" href="#id11" role="doc-backlink">Usage</a><a class="headerlink" href="#usage" title="Permalink to this heading">¶</a></h2>
<p><strong>Individual Detectors</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ws</span><span class="o">=</span><span class="n">HB2AReduce</span><span class="p">(</span><span class="s1">&#39;HB2A_exp0666_scan0024.dat&#39;</span><span class="p">,</span> <span class="n">IndividualDetectors</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Plot anodes 40, 41 and 42</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">mantid</span> <span class="kn">import</span> <span class="n">plots</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">subplot_kw</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;projection&#39;</span><span class="p">:</span><span class="s1">&#39;mantid&#39;</span><span class="p">})</span>
<span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">40</span><span class="p">,</span><span class="mi">41</span><span class="p">,</span><span class="mi">42</span><span class="p">]:</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span> <span class="n">specNum</span><span class="o">=</span><span class="n">num</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="c1">#fig.savefig(&#39;HB2AReduce_1.png&#39;)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<figure class="align-default">
<img alt="../_images/HB2AReduce_1.png" src="../_images/HB2AReduce_1.png" />
</figure>
<p><strong>Unbinned data</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ws</span><span class="o">=</span><span class="n">HB2AReduce</span><span class="p">(</span><span class="s1">&#39;HB2A_exp0666_scan0024.dat&#39;</span><span class="p">,</span> <span class="n">BinData</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># Plot</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">mantid</span> <span class="kn">import</span> <span class="n">plots</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">subplot_kw</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;projection&#39;</span><span class="p">:</span><span class="s1">&#39;mantid&#39;</span><span class="p">})</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ws</span><span class="p">)</span>
<span class="c1">#fig.savefig(&#39;HB2AReduce_2.png&#39;)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<figure class="align-default">
<img alt="../_images/HB2AReduce_2.png" src="../_images/HB2AReduce_2.png" />
</figure>
<p><strong>Binned data</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ws</span><span class="o">=</span><span class="n">HB2AReduce</span><span class="p">(</span><span class="s1">&#39;HB2A_exp0666_scan0024.dat&#39;</span><span class="p">)</span>

<span class="c1"># Plot</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">mantid</span> <span class="kn">import</span> <span class="n">plots</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">subplot_kw</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;projection&#39;</span><span class="p">:</span><span class="s1">&#39;mantid&#39;</span><span class="p">})</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ws</span><span class="p">)</span>
<span class="c1">#fig.savefig(&#39;HB2AReduce_3.png&#39;)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<figure class="align-default">
<img alt="../_images/HB2AReduce_3.png" src="../_images/HB2AReduce_3.png" />
</figure>
<p><strong>Exclude detectors: 1-20,40,41,42</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ws</span><span class="o">=</span><span class="n">HB2AReduce</span><span class="p">(</span><span class="s1">&#39;HB2A_exp0666_scan0024.dat&#39;</span><span class="p">,</span> <span class="n">ExcludeDetectors</span><span class="o">=</span><span class="s1">&#39;1-20,40,41,42&#39;</span><span class="p">)</span>

<span class="c1"># Plot</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">mantid</span> <span class="kn">import</span> <span class="n">plots</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">subplot_kw</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;projection&#39;</span><span class="p">:</span><span class="s1">&#39;mantid&#39;</span><span class="p">})</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ws</span><span class="p">)</span>
<span class="c1">#fig.savefig(&#39;HB2AReduce_4.png&#39;)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<figure class="align-default">
<img alt="../_images/HB2AReduce_4.png" src="../_images/HB2AReduce_4.png" />
</figure>
<p><strong>Combining multiple files</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ws</span><span class="o">=</span><span class="n">HB2AReduce</span><span class="p">(</span><span class="s1">&#39;HB2A_exp0666_scan0024.dat, HB2A_exp0666_scan0025.dat&#39;</span><span class="p">)</span>

<span class="c1"># Plot</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">mantid</span> <span class="kn">import</span> <span class="n">plots</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">subplot_kw</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;projection&#39;</span><span class="p">:</span><span class="s1">&#39;mantid&#39;</span><span class="p">})</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ws</span><span class="p">)</span>
<span class="c1">#fig.savefig(&#39;HB2AReduce_5.png&#39;)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<figure class="align-default">
<img alt="../_images/HB2AReduce_5.png" src="../_images/HB2AReduce_5.png" />
</figure>
<p><strong>Anode8 vs temperature</strong></p>
<p>Because the following data file has <code class="docutils literal notranslate"><span class="pre">def_x</span> <span class="pre">=</span> <span class="pre">sample</span></code> then this
algorithm will reduce the data to be counts <em>vs</em> <code class="docutils literal notranslate"><span class="pre">sample</span></code> (sample
temperature). Setting <code class="docutils literal notranslate"><span class="pre">IndividualDetectors=True</span></code> allows you to see a
single anode <em>vs</em> temperature.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ws</span><span class="o">=</span><span class="n">HB2AReduce</span><span class="p">(</span><span class="s1">&#39;HB2A_exp0660_scan0146.dat&#39;</span><span class="p">,</span>
              <span class="n">Vanadium</span><span class="o">=</span><span class="s1">&#39;HB2A_exp0644_scan0018.dat&#39;</span><span class="p">,</span>
              <span class="n">IndividualDetectors</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Plot</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">mantid</span> <span class="kn">import</span> <span class="n">plots</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">subplot_kw</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;projection&#39;</span><span class="p">:</span><span class="s1">&#39;mantid&#39;</span><span class="p">})</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span> <span class="n">specNum</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span> <span class="c1"># anode8</span>
<span class="c1">#fig.savefig(&#39;HB2AReduce_6.png&#39;)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<figure class="align-default">
<img alt="../_images/HB2AReduce_6.png" src="../_images/HB2AReduce_6.png" />
</figure>
<p><strong>Categories</strong>: <a class="reference external" href="categories/AlgorithmIndex.html">AlgorithmIndex</a> | <a class="reference external" href="categories/Diffraction/Reduction.html">Diffraction\Reduction</a></p>
</section>
<section id="source">
<h2><a class="toc-backref" href="#id12" role="doc-backlink">Source</a><a class="headerlink" href="#source" title="Permalink to this heading">¶</a></h2>
<p>Python: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/c02ae4cb378648e7336cc15b6678a80eb5d20757/Framework/PythonInterface/plugins/algorithms/HB2AReduce.py">HB2AReduce.py</a></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="GroupWorkspaces-v1.html" title="Previous Chapter: GroupWorkspaces v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; GroupWorkspaces v1</span>
    </a>
  </li>
  <li>
    <a href="HB3AAdjustSampleNorm-v1.html" title="Next Chapter: HB3AAdjustSampleNorm v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">HB3AAdjustSam... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>