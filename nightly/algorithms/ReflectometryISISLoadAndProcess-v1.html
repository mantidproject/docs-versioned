<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>ReflectometryISISLoadAndProcess v1</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="ReflectometryMomentumTransfer v1" href="ReflectometryMomentumTransfer-v1.html" />
    <link rel="prev" title="ReflectometryILLSumForeground v1" href="ReflectometryILLSumForeground-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.5</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://www.mantidproject.org">Home</a></li>
                <li><a href="https://download.mantidproject.org">Download</a></li>
                <li><a href="https://docs.mantidproject.org">Documentation</a></li>
                <li><a href="https://www.mantidproject.org/contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Algorithms</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">ReflectometryISISLoadAndProcess v1</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="reflectometryisisloadandprocess-v1">
<span id="algm-reflectometryisisloadandprocess"></span><span id="algm-reflectometryisisloadandprocess-v1"></span><h1>ReflectometryISISLoadAndProcess v1<a class="headerlink" href="#reflectometryisisloadandprocess-v1" title="Permalink to this heading">¶</a></h1>
<figure class="align-right" id="id1">
<span id="index-0"></span><a class="screenshot reference internal image-reference" href="../_images/ReflectometryISISLoadAndProcess-v1_dlg.png"><img alt="../_images/ReflectometryISISLoadAndProcess-v1_dlg.png" class="screenshot" src="../_images/ReflectometryISISLoadAndProcess-v1_dlg.png" style="width: 349px;" /></a>
<figcaption>
<p><span class="caption-text"><strong>ReflectometryISISLoadAndProcess</strong> dialog.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#summary" id="id2">Summary</a></p>
<ul>
<li><p><a class="reference internal" href="#see-also" id="id3">See Also</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#properties" id="id4">Properties</a></p></li>
<li><p><a class="reference internal" href="#reflectometryisisloadandprocess" id="id5">ReflectometryISISLoadAndProcess</a></p></li>
<li><p><a class="reference internal" href="#usage" id="id6">Usage</a></p></li>
<li><p><a class="reference internal" href="#source" id="id7">Source</a></p></li>
</ul>
</nav>
<section id="summary">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Summary</a><a class="headerlink" href="#summary" title="Permalink to this heading">¶</a></h2>
<p>Reduce ISIS reflectometry data, including optional loading and summing/slicing of the input runs.</p>
<section id="see-also">
<h3><a class="toc-backref" href="#id3" role="doc-backlink">See Also</a><a class="headerlink" href="#see-also" title="Permalink to this heading">¶</a></h3>
<p><a class="reference internal" href="ReflectometrySliceEventWorkspace-v1.html#algm-reflectometrysliceeventworkspace"><span class="std std-ref">ReflectometrySliceEventWorkspace</span></a>, <a class="reference internal" href="ReflectometryReductionOneAuto-v3.html#algm-reflectometryreductiononeauto"><span class="std std-ref">ReflectometryReductionOneAuto</span></a></p>
</section>
</section>
<section id="properties">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Properties</a><a class="headerlink" href="#properties" title="Permalink to this heading">¶</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Direction</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>InputRunList</p></td>
<td><p>Input</p></td>
<td><p>str list</p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>A list of run numbers or workspace names for the input runs. Multiple runs will be summed before reduction.</p></td>
</tr>
<tr class="row-odd"><td><p>ThetaIn</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p><em>Optional</em></p></td>
<td><p>Angle in degrees</p></td>
</tr>
<tr class="row-even"><td><p>ThetaLogName</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>The name ThetaIn can be found in the run log as</p></td>
</tr>
<tr class="row-odd"><td><p>ReloadInvalidWorkspaces</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>True</p></td>
<td><p>If true, reload input workspaces if they are of the incorrect type</p></td>
</tr>
<tr class="row-even"><td><p>GroupTOFWorkspaces</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>True</p></td>
<td><p>If true, group the TOF workspaces</p></td>
</tr>
<tr class="row-odd"><td><p>CalibrationFile</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>Calibration data file containing Y locations for detector pixels in mm. Allowed values: [‘dat’]</p></td>
</tr>
<tr class="row-even"><td><p>ROIDetectorIDs</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>List of detector IDs to include</p></td>
</tr>
<tr class="row-odd"><td><p>SliceWorkspace</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>False</p></td>
<td><p>If true, slice the input workspace</p></td>
</tr>
<tr class="row-even"><td><p>TimeInterval</p></td>
<td><p>Input</p></td>
<td><p>dbl list</p></td>
<td></td>
<td><p>Array for lengths of time intervals for splitters:  if the array is empty, then there will be one splitter created from StartTime and StopTime;  if the array has one value, then if this value is positive, all splitters will have same time intervals, else the time intervals will be exponentially increasing; if the size of the array is larger than one, then the splitters can have various time interval values.</p></td>
</tr>
<tr class="row-odd"><td><p>LogName</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>Name of the sample log to use to filter - for example, the pulse charge is recorded in ‘ProtonCharge’.</p></td>
</tr>
<tr class="row-even"><td><p>LogValueInterval</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p><em>Optional</em></p></td>
<td><p>Delta of log value to be sliced into from min log value and max log value; if not given, then only value</p></td>
</tr>
<tr class="row-odd"><td><p>UseNewFilterAlgorithm</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>True</p></td>
<td><p>If true, use the new FilterEvents algorithm instead of FilterByTime.</p></td>
</tr>
<tr class="row-even"><td><p>NumberOfSlices</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p><em>Optional</em></p></td>
<td><p>The number of uniform-length slices to slice the input workspace into</p></td>
</tr>
<tr class="row-odd"><td><p>SummationType</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>SumInLambda</p></td>
<td><p>The type of summation to perform. Allowed values: [‘SumInLambda’, ‘SumInQ’]</p></td>
</tr>
<tr class="row-even"><td><p>ReductionType</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>Normal</p></td>
<td><p>The type of reduction to perform when summing in Q. Allowed values: [‘Normal’, ‘DivergentBeam’, ‘NonFlatSample’]</p></td>
</tr>
<tr class="row-odd"><td><p>IncludePartialBins</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>False</p></td>
<td><p>If true then partial bins at the beginning and end of the output range are included</p></td>
</tr>
<tr class="row-even"><td><p>AnalysisMode</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>PointDetectorAnalysis</p></td>
<td><p>Analysis mode. This property is only used when ProcessingInstructions is not set. Allowed values: [‘PointDetectorAnalysis’, ‘MultiDetectorAnalysis’]</p></td>
</tr>
<tr class="row-odd"><td><p>ProcessingInstructions</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>Grouping pattern of spectrum numbers to yield only the detectors of interest. See GroupDetectors for syntax.</p></td>
</tr>
<tr class="row-even"><td><p>CorrectDetectors</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>True</p></td>
<td><p>Moves detectors to twoTheta if ThetaIn or ThetaLogName is given</p></td>
</tr>
<tr class="row-odd"><td><p>DetectorCorrectionType</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>VerticalShift</p></td>
<td><p>When correcting detector positions, this determines whether detectorsshould be shifted vertically or rotated around the sample position. Allowed values: [‘RotateAroundSample’, ‘VerticalShift’]</p></td>
</tr>
<tr class="row-even"><td><p>WavelengthMin</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p><em>Optional</em></p></td>
<td><p>Wavelength Min in angstroms</p></td>
</tr>
<tr class="row-odd"><td><p>WavelengthMax</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p><em>Optional</em></p></td>
<td><p>Wavelength Max in angstroms</p></td>
</tr>
<tr class="row-even"><td><p>I0MonitorIndex</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p><em>Optional</em></p></td>
<td><p>I0 monitor workspace index</p></td>
</tr>
<tr class="row-odd"><td><p>MonitorBackgroundWavelengthMin</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p><em>Optional</em></p></td>
<td><p>Wavelength minimum for monitor background subtraction in angstroms.</p></td>
</tr>
<tr class="row-even"><td><p>MonitorBackgroundWavelengthMax</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p><em>Optional</em></p></td>
<td><p>Wavelength maximum for monitor background subtraction in angstroms.</p></td>
</tr>
<tr class="row-odd"><td><p>MonitorIntegrationWavelengthMin</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p><em>Optional</em></p></td>
<td><p>Wavelength minimum for integration in angstroms.</p></td>
</tr>
<tr class="row-even"><td><p>MonitorIntegrationWavelengthMax</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p><em>Optional</em></p></td>
<td><p>Wavelength maximum for integration in angstroms.</p></td>
</tr>
<tr class="row-odd"><td><p>SubtractBackground</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>False</p></td>
<td><p>If true then perform background subtraction</p></td>
</tr>
<tr class="row-even"><td><p>BackgroundProcessingInstructions</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>These processing instructions will be passed to the background subtraction algorithm</p></td>
</tr>
<tr class="row-odd"><td><p>BackgroundCalculationMethod</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>PerDetectorAverage</p></td>
<td><p>The type of background reduction to perform. Allowed values: [‘PerDetectorAverage’, ‘Polynomial’, ‘AveragePixelFit’]</p></td>
</tr>
<tr class="row-even"><td><p>DegreeOfPolynomial</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>0</p></td>
<td><p>Degree of the fitted polynomial.</p></td>
</tr>
<tr class="row-odd"><td><p>CostFunction</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>Least squares</p></td>
<td><p>The cost function to be passed to the Fit algorithm. Allowed values: [‘Least squares’, ‘Unweighted least squares’]</p></td>
</tr>
<tr class="row-even"><td><p>NormalizeByIntegratedMonitors</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>True</p></td>
<td><p>Normalize by dividing by the integrated monitors.</p></td>
</tr>
<tr class="row-odd"><td><p>PolarizationAnalysis</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>False</p></td>
<td><p>Apply polarization corrections</p></td>
</tr>
<tr class="row-even"><td><p>FloodCorrection</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>Workspace</p></td>
<td><p>The way to apply flood correction: Workspace - use FloodWorkspace property to get the flood workspace, ParameterFile - use parameters in the parameter file to construct and apply flood correction workspace. Allowed values: [‘Workspace’, ‘ParameterFile’]</p></td>
</tr>
<tr class="row-odd"><td><p>FloodWorkspace</p></td>
<td><p>Input</p></td>
<td><p><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a></p></td>
<td></td>
<td><p>A flood workspace to apply; if empty and FloodCorrection is ‘Workspace’ then no correction is applied.</p></td>
</tr>
<tr class="row-even"><td><p>CorrectionAlgorithm</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>AutoDetect</p></td>
<td><p>The type of correction to perform. Allowed values: [‘None’, ‘AutoDetect’, ‘PolynomialCorrection’, ‘ExponentialCorrection’]</p></td>
</tr>
<tr class="row-odd"><td><p>Polynomial</p></td>
<td><p>Input</p></td>
<td><p>dbl list</p></td>
<td></td>
<td><p>Coefficients to be passed to the PolynomialCorrection algorithm.</p></td>
</tr>
<tr class="row-even"><td><p>C0</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>0</p></td>
<td><p>C0 value to be passed to the ExponentialCorrection algorithm.</p></td>
</tr>
<tr class="row-odd"><td><p>C1</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>0</p></td>
<td><p>C1 value to be passed to the ExponentialCorrection algorithm.</p></td>
</tr>
<tr class="row-even"><td><p>FirstTransmissionRunList</p></td>
<td><p>Input</p></td>
<td><p>str list</p></td>
<td></td>
<td><p>A list of run numbers or workspace names for the first transmission run. Multiple runs will be summed before reduction.</p></td>
</tr>
<tr class="row-odd"><td><p>SecondTransmissionRunList</p></td>
<td><p>Input</p></td>
<td><p>str list</p></td>
<td></td>
<td><p>A list of run numbers or workspace names for the second transmission run. Multiple runs will be summed before reduction.</p></td>
</tr>
<tr class="row-even"><td><p>Params</p></td>
<td><p>Input</p></td>
<td><p>dbl list</p></td>
<td></td>
<td><p>A comma separated list of first bin boundary, width, last bin boundary. These parameters are used for stitching together transmission runs. Values are in wavelength (angstroms). This input is only needed if a SecondTransmission run is provided.</p></td>
</tr>
<tr class="row-odd"><td><p>StartOverlap</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p><em>Optional</em></p></td>
<td><p>Start wavelength for stitching transmission runs together. Only used if a second transmission run is provided.</p></td>
</tr>
<tr class="row-even"><td><p>EndOverlap</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p><em>Optional</em></p></td>
<td><p>End wavelength (angstroms) for stitching transmission runs together. Only used if a second transmission run is provided.</p></td>
</tr>
<tr class="row-odd"><td><p>ScaleRHSWorkspace</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>True</p></td>
<td><p>Scale the right-hand-side or left-hand-side workspace. Only used if a second transmission run is provided.</p></td>
</tr>
<tr class="row-even"><td><p>TransmissionProcessingInstructions</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>These processing instructions will be passed to the transmission workspace algorithm</p></td>
</tr>
<tr class="row-odd"><td><p>Debug</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>False</p></td>
<td><p>Whether to enable the output of extra workspaces.</p></td>
</tr>
<tr class="row-even"><td><p>MomentumTransferMin</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p><em>Optional</em></p></td>
<td><p>Minimum Q value in IvsQ Workspace. Used for Rebinning the IvsQ Workspace</p></td>
</tr>
<tr class="row-odd"><td><p>MomentumTransferStep</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p><em>Optional</em></p></td>
<td><p>Resolution value in IvsQ Workspace. Used for Rebinning the IvsQ Workspace. This value will be made minus to apply logarithmic rebinning. If you wish to have linear bin-widths then please provide a negative value.</p></td>
</tr>
<tr class="row-even"><td><p>MomentumTransferMax</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p><em>Optional</em></p></td>
<td><p>Maximum Q value in IvsQ Workspace. Used for Rebinning the IvsQ Workspace</p></td>
</tr>
<tr class="row-odd"><td><p>ScaleFactor</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p><em>Optional</em></p></td>
<td><p>Factor you wish to scale Q workspace by.</p></td>
</tr>
<tr class="row-even"><td><p>OutputWorkspaceBinned</p></td>
<td><p>Output</p></td>
<td><p><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a></p></td>
<td></td>
<td><p>Output workspace in Q (rebinned workspace)</p></td>
</tr>
<tr class="row-odd"><td><p>OutputWorkspace</p></td>
<td><p>Output</p></td>
<td><p><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a></p></td>
<td></td>
<td><p>Output workspace in Q (native binning)</p></td>
</tr>
<tr class="row-even"><td><p>OutputWorkspaceWavelength</p></td>
<td><p>Output</p></td>
<td><p><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a></p></td>
<td></td>
<td><p>Output workspace in wavelength</p></td>
</tr>
<tr class="row-odd"><td><p>OutputWorkspaceTransmission</p></td>
<td><p>Output</p></td>
<td><p><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a></p></td>
<td></td>
<td><p>Output transmissison workspace in wavelength</p></td>
</tr>
<tr class="row-even"><td><p>OutputWorkspaceFirstTransmission</p></td>
<td><p>Output</p></td>
<td><p><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a></p></td>
<td></td>
<td><p>First transmissison workspace in wavelength</p></td>
</tr>
<tr class="row-odd"><td><p>OutputWorkspaceSecondTransmission</p></td>
<td><p>Output</p></td>
<td><p><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a></p></td>
<td></td>
<td><p>Second transmissison workspace in wavelength</p></td>
</tr>
<tr class="row-even"><td><p>PolarizationEfficiencies</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>A workspace or file name containing the polarization efficiency factors for either the Wildes or Fredrikze correction methods.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="reflectometryisisloadandprocess">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">ReflectometryISISLoadAndProcess</a><a class="headerlink" href="#reflectometryisisloadandprocess" title="Permalink to this heading">¶</a></h2>
<p>This algorithm performs full preparation and processing for a single run or combined set of runs in an ISIS reflectometry reduction. Note that a set of runs here is a set that will be combined prior to reduction (it does not deal with a group of runs that will be post-processed after reduction). This algorithm is primarily aimed at reducing a single row in the table on the <code class="docutils literal notranslate"><span class="pre">ISIS</span> <span class="pre">Reflectometry</span></code> interface.</p>
<p>The steps this algorithm performs are:</p>
<ul class="simple">
<li><p>Ensure workspaces are loaded and are of the correct type.</p></li>
<li><p>Sum multiple input runs into a single workspace, if there is more than one.</p></li>
<li><p>Sum multiple transmission runs into a single workspace, if there is more than one.</p></li>
<li><p>Perform background subtraction, if requested.</p></li>
<li><p>Perform time-slicing of the input run, if requested.</p></li>
<li><p>Perform the reduction.</p></li>
<li><p>Clean up the TOF workspaces into a group.</p></li>
</ul>
<p>Input runs and transmission runs are loaded if required, or existing workspaces are used if they are already loaded. When runs are loaded, they are named based on the run number with a <code class="docutils literal notranslate"><span class="pre">TOF_</span></code> or <code class="docutils literal notranslate"><span class="pre">TRANS_</span></code> prefix. To determine whether workspaces are already loaded, workspace names are matched based on the run number with or without this prefix. Other naming formats are not considered to match.</p>
<p>If a value is provided for the <code class="docutils literal notranslate"><span class="pre">CalibrationFile</span></code> property then calibration will be applied for input runs that are loaded (but not where existing workspaces are being used). The calibration file supplied should be a <code class="docutils literal notranslate"><span class="pre">.dat</span></code> file containing two columns separated by a single space. The left hand column should contain the workspace indices of the detectors to move. The right hand column should contain the Y locations of the corresponding detector pixels in mm.</p>
<p>If time slicing is enabled, the input run must be an event workspace and have monitors loaded; otherwise, it must be a histogram workspace. If the workspace already exists but is the incorrect type or is missing monitors, it will be reloaded.</p>
<p>Input runs can be combined before reduction by supplying a comma-separated list of run numbers. They will be summed using the <a class="reference internal" href="Plus-v1.html#algm-plus"><span class="std std-ref">Plus v1</span></a> algorithm. Similarly, multiple input workspaces for the first and/or second transmission inputs can be summed prior to reduction.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">SubtractBackground</span></code> is true, then background subtraction will be performed using the <a class="reference internal" href="ReflectometryBackgroundSubtraction-v1.html#algm-reflectometrybackgroundsubtraction"><span class="std std-ref">ReflectometryBackgroundSubtraction v1</span></a> algorithm. There are various options for specifying how the subtraction should be done.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">SliceWorkspace</span></code> is true, the time slicing will be performed using the <a class="reference internal" href="ReflectometrySliceEventWorkspace-v1.html#algm-reflectometrysliceeventworkspace"><span class="std std-ref">ReflectometrySliceEventWorkspace v1</span></a> algorithm. Various options are available for specifying the filter to use and slicing can be done by time or by log value.</p>
<p>The reduction is performed using <a class="reference internal" href="ReflectometryReductionOneAuto-v3.html#algm-reflectometryreductiononeauto"><span class="std std-ref">ReflectometryReductionOneAuto v3</span></a>.</p>
<p>Finally, the TOF workspaces are cleaned up by grouping them into a workspace group named <code class="docutils literal notranslate"><span class="pre">TOF</span></code>. If a group by this name already exists then they will be added to that group.</p>
</section>
<section id="usage">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">Usage</a><a class="headerlink" href="#usage" title="Permalink to this heading">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To run these usage examples please first download the
<a class="reference external" href="https://sourceforge.net/projects/mantid/files/Sample%20Data/UsageData.zip/download">usage data</a>,
and add these to your path.
In Mantid this is done using <a class="reference internal" href="../interfaces/framework/ManageUserDirectories.html#manageuserdirectories"><span class="std std-ref">Manage User Directories</span></a>.</p>
</div>
<p><strong>Example: Run reduction on a single run</strong></p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">ReflectometryISISLoadAndProcess</span><span class="p">(</span><span class="n">InputRunList</span><span class="o">=</span><span class="s1">&#39;INTER13460&#39;</span><span class="p">)</span>
<span class="n">names</span> <span class="o">=</span> <span class="n">mtd</span><span class="o">.</span><span class="n">getObjectNames</span><span class="p">()</span>
<span class="n">names</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Workspaces in the ADS after reduction: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">names</span><span class="p">))</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Workspaces in the ADS after reduction: [&#39;IvsQ_13460&#39;, &#39;IvsQ_binned_13460&#39;, &#39;TOF&#39;, &#39;TOF_13460&#39;]
</pre></div>
</div>
<p><strong>Example: Sum multiple input runs</strong></p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">ReflectometryISISLoadAndProcess</span><span class="p">(</span><span class="n">InputRunList</span><span class="o">=</span><span class="s1">&#39;INTER13460, INTER13462&#39;</span><span class="p">)</span>
<span class="n">names</span> <span class="o">=</span> <span class="n">mtd</span><span class="o">.</span><span class="n">getObjectNames</span><span class="p">()</span>
<span class="n">names</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Workspaces in the ADS after reduction: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">names</span><span class="p">))</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Workspaces in the ADS after reduction: [&#39;IvsQ_13460+13462&#39;, &#39;IvsQ_binned_13460+13462&#39;, &#39;TOF&#39;, &#39;TOF_13460&#39;, &#39;TOF_13460+13462&#39;, &#39;TOF_13462&#39;]
</pre></div>
</div>
<p><strong>Example: Sum multiple transmission runs into a single input</strong></p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">ReflectometryISISLoadAndProcess</span><span class="p">(</span><span class="n">InputRunList</span><span class="o">=</span><span class="s1">&#39;INTER13460&#39;</span><span class="p">,</span><span class="n">FirstTransmissionRunList</span><span class="o">=</span><span class="s1">&#39;INTER13463,INTER13464&#39;</span><span class="p">)</span>
<span class="n">names</span> <span class="o">=</span> <span class="n">mtd</span><span class="o">.</span><span class="n">getObjectNames</span><span class="p">()</span>
<span class="n">names</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Workspaces in the ADS after reduction: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">names</span><span class="p">))</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Workspaces in the ADS after reduction: [&#39;IvsQ_13460&#39;, &#39;IvsQ_binned_13460&#39;, &#39;TOF&#39;, &#39;TOF_13460&#39;, &#39;TRANS_13463&#39;, &#39;TRANS_13463+13464&#39;, &#39;TRANS_13464&#39;, &#39;TRANS_LAM_13463+13464&#39;]
</pre></div>
</div>
<p><strong>Example: Two separate transmission run inputs</strong></p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">ReflectometryISISLoadAndProcess</span><span class="p">(</span><span class="n">InputRunList</span><span class="o">=</span><span class="s1">&#39;INTER13460&#39;</span><span class="p">,</span><span class="n">FirstTransmissionRunList</span><span class="o">=</span><span class="s1">&#39;INTER13463&#39;</span><span class="p">,</span>
                                <span class="n">SecondTransmissionRunList</span><span class="o">=</span><span class="s1">&#39;INTER13464&#39;</span><span class="p">)</span>
<span class="n">names</span> <span class="o">=</span> <span class="n">mtd</span><span class="o">.</span><span class="n">getObjectNames</span><span class="p">()</span>
<span class="n">names</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Workspaces in the ADS after reduction: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">names</span><span class="p">))</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Workspaces in the ADS after reduction: [&#39;IvsQ_13460&#39;, &#39;IvsQ_binned_13460&#39;, &#39;TOF&#39;, &#39;TOF_13460&#39;, &#39;TRANS_13463&#39;, &#39;TRANS_13464&#39;, &#39;TRANS_LAM_13463_13464&#39;]
</pre></div>
</div>
<p><strong>Example: Slice input run</strong></p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">ReflectometryISISLoadAndProcess</span><span class="p">(</span><span class="n">InputRunList</span><span class="o">=</span><span class="s1">&#39;INTER38415&#39;</span><span class="p">,</span> <span class="n">SliceWorkspace</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">TimeInterval</span><span class="o">=</span><span class="mi">210</span><span class="p">)</span>
<span class="n">names</span> <span class="o">=</span> <span class="n">mtd</span><span class="o">.</span><span class="n">getObjectNames</span><span class="p">()</span>
<span class="n">names</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Workspaces in the ADS after reduction: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">names</span><span class="p">))</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Workspaces in the ADS after reduction: [&#39;IvsLam_38415&#39;, &#39;IvsLam_38415_sliced_0_210&#39;, &#39;IvsLam_38415_sliced_210_420&#39;, &#39;IvsLam_38415_sliced_420_610&#39;, &#39;IvsQ_38415&#39;, &#39;IvsQ_38415_sliced_0_210&#39;, &#39;IvsQ_38415_sliced_210_420&#39;, &#39;IvsQ_38415_sliced_420_610&#39;, &#39;IvsQ_binned_38415&#39;, &#39;IvsQ_binned_38415_sliced_0_210&#39;, &#39;IvsQ_binned_38415_sliced_210_420&#39;, &#39;IvsQ_binned_38415_sliced_420_610&#39;, &#39;TOF&#39;, &#39;TOF_38415&#39;, &#39;TOF_38415_monitors&#39;, &#39;TOF_38415_sliced&#39;, &#39;TOF_38415_sliced_0_210&#39;, &#39;TOF_38415_sliced_210_420&#39;, &#39;TOF_38415_sliced_420_610&#39;]
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Algorithm <a class="reference internal" href="ReflectometrySliceEventWorkspace-v1.html#algm-reflectometrysliceeventworkspace"><span class="std std-ref">ReflectometrySliceEventWorkspace v1</span></a>, <a class="reference internal" href="ReflectometryReductionOneAuto-v3.html#algm-reflectometryreductiononeauto"><span class="std std-ref">ReflectometryReductionOneAuto v3</span></a> and the <code class="docutils literal notranslate"><span class="pre">ISIS</span> <span class="pre">Reflectometry</span></code> interface.</p>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/AlgorithmIndex.html">AlgorithmIndex</a> | <a class="reference external" href="categories/Reflectometry/ISIS.html">Reflectometry\ISIS</a> | <a class="reference external" href="categories/Workflow/Reflectometry.html">Workflow\Reflectometry</a></p>
</section>
<section id="source">
<h2><a class="toc-backref" href="#id7" role="doc-backlink">Source</a><a class="headerlink" href="#source" title="Permalink to this heading">¶</a></h2>
<p>Python: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/aa570da6f199141cd8ad987bf9b9b9281a1b5e33/Framework/PythonInterface/plugins/algorithms/WorkflowAlgorithms/ReflectometryISISLoadAndProcess.py">ReflectometryISISLoadAndProcess.py</a></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="ReflectometryILLSumForeground-v1.html" title="Previous Chapter: ReflectometryILLSumForeground v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Reflectometry...</span>
    </a>
  </li>
  <li>
    <a href="ReflectometryMomentumTransfer-v1.html" title="Next Chapter: ReflectometryMomentumTransfer v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Reflectometry... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>