<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>SetInstrumentParameter v1</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="SetMDFrame v1" href="SetMDFrame-v1.html" />
    <link rel="prev" title="SetGoniometer v1" href="SetGoniometer-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.5</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://docs.mantidproject.org/nightly/">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Algorithms</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">SetInstrumentParameter v1</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="setinstrumentparameter-v1">
<span id="algm-setinstrumentparameter"></span><span id="algm-setinstrumentparameter-v1"></span><h1>SetInstrumentParameter v1<a class="headerlink" href="#setinstrumentparameter-v1" title="Permalink to this heading">¶</a></h1>
<figure class="align-right" id="id1">
<span id="index-0"></span><a class="screenshot reference internal image-reference" href="../_images/SetInstrumentParameter-v1_dlg.png"><img alt="../_images/SetInstrumentParameter-v1_dlg.png" class="screenshot" src="../_images/SetInstrumentParameter-v1_dlg.png" style="width: 349px;" /></a>
<figcaption>
<p><span class="caption-text"><strong>SetInstrumentParameter</strong> dialog.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#summary" id="id2">Summary</a></p>
<ul>
<li><p><a class="reference internal" href="#see-also" id="id3">See Also</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#properties" id="id4">Properties</a></p></li>
<li><p><a class="reference internal" href="#description" id="id5">Description</a></p></li>
<li><p><a class="reference internal" href="#parameter-types" id="id6">Parameter Types</a></p></li>
<li><p><a class="reference internal" href="#usage" id="id7">Usage</a></p></li>
<li><p><a class="reference internal" href="#source" id="id8">Source</a></p></li>
</ul>
</nav>
<section id="summary">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Summary</a><a class="headerlink" href="#summary" title="Permalink to this heading">¶</a></h2>
<p>Add or replace an parameter attached to an instrument component.</p>
<section id="see-also">
<h3><a class="toc-backref" href="#id3" role="doc-backlink">See Also</a><a class="headerlink" href="#see-also" title="Permalink to this heading">¶</a></h3>
<p><a class="reference internal" href="RotateInstrumentComponent-v1.html#algm-rotateinstrumentcomponent"><span class="std std-ref">RotateInstrumentComponent</span></a>, <a class="reference internal" href="MoveInstrumentComponent-v1.html#algm-moveinstrumentcomponent"><span class="std std-ref">MoveInstrumentComponent</span></a></p>
</section>
</section>
<section id="properties">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Properties</a><a class="headerlink" href="#properties" title="Permalink to this heading">¶</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Direction</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Workspace</p></td>
<td><p>InOut</p></td>
<td><p><a class="reference internal" href="../concepts/Workspace.html#workspace"><span class="std std-ref">Workspace</span></a></p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>Workspace to add the log entry to</p></td>
</tr>
<tr class="row-odd"><td><p>ComponentName</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>The name of the component to attach the parameter to. Default: the whole instrument</p></td>
</tr>
<tr class="row-even"><td><p>DetectorList</p></td>
<td><p>Input</p></td>
<td><p>int list</p></td>
<td></td>
<td><p>The detector ID list to attach the parameter to. If set this will override any ComponentName</p></td>
</tr>
<tr class="row-odd"><td><p>ParameterName</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>The name that will identify the parameter</p></td>
</tr>
<tr class="row-even"><td><p>ParameterType</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>String</p></td>
<td><p>The type that the parameter value will be. Allowed values: [‘String’, ‘Number’, ‘Bool’]</p></td>
</tr>
<tr class="row-odd"><td><p>Value</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>The content of the Parameter</p></td>
</tr>
</tbody>
</table>
</section>
<section id="description">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Description</a><a class="headerlink" href="#description" title="Permalink to this heading">¶</a></h2>
<p>This algorithm adds or replaces an parameter attached to an instrument
component, or the entire instrument. Instrument parameters are specific
to a workspace, they will get carried on to output workspaces created
from an input workspace to an algorithm, but will not appear on
unrelated workspaces that happen to have been recorded on the same
instrument.</p>
<p>The workspace must have a instrument already defined, and will be
altered in place. If the name of the instrument component to attach the
parameter is not specified it will be attached to the whole instrument.</p>
<p>At present this algorithm only supports simple instrument parameters,
NOT fitting parameters.</p>
</section>
<section id="parameter-types">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">Parameter Types</a><a class="headerlink" href="#parameter-types" title="Permalink to this heading">¶</a></h2>
<p>The algorithm supports three types of parameters; <cite>Number</cite> (integer or floating point), <cite>String</cite> and <cite>Bool</cite>.
For <cite>Bool</cite> type, valid values are <cite>1</cite>, <cite>0</cite>, <cite>true</cite> or <cite>false</cite> (not case-sensitive).</p>
</section>
<section id="usage">
<h2><a class="toc-backref" href="#id7" role="doc-backlink">Usage</a><a class="headerlink" href="#usage" title="Permalink to this heading">¶</a></h2>
<p><strong>Example - a few simple parameters</strong></p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">ws</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">()</span>
<span class="c1">#set a string parameter on the whole instrument</span>
<span class="n">SetInstrumentParameter</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span><span class="n">ParameterName</span><span class="o">=</span><span class="s2">&quot;TestParam&quot;</span><span class="p">,</span><span class="n">Value</span><span class="o">=</span><span class="s2">&quot;Hello&quot;</span><span class="p">)</span>

<span class="c1">#set a Number parameter just for bank 1</span>
<span class="n">SetInstrumentParameter</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span><span class="n">ParameterName</span><span class="o">=</span><span class="s2">&quot;NumberParam&quot;</span><span class="p">,</span><span class="n">Value</span><span class="o">=</span><span class="s2">&quot;3&quot;</span><span class="p">,</span> <span class="n">ComponentName</span><span class="o">=</span><span class="s2">&quot;bank1&quot;</span><span class="p">,</span><span class="n">ParameterType</span><span class="o">=</span><span class="s2">&quot;Number&quot;</span><span class="p">)</span>

<span class="c1">#set a different value on bank 2</span>
<span class="n">SetInstrumentParameter</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span><span class="n">ParameterName</span><span class="o">=</span><span class="s2">&quot;NumberParam&quot;</span><span class="p">,</span><span class="n">Value</span><span class="o">=</span><span class="s2">&quot;3.5&quot;</span><span class="p">,</span> <span class="n">ComponentName</span><span class="o">=</span><span class="s2">&quot;bank2&quot;</span><span class="p">,</span><span class="n">ParameterType</span><span class="o">=</span><span class="s2">&quot;Number&quot;</span><span class="p">)</span>

<span class="n">instrument</span><span class="o">=</span><span class="n">ws</span><span class="o">.</span><span class="n">getInstrument</span><span class="p">()</span>
<span class="n">bank1</span><span class="o">=</span><span class="n">instrument</span><span class="o">.</span><span class="n">getComponentByName</span><span class="p">(</span><span class="s2">&quot;bank1&quot;</span><span class="p">)</span>
<span class="n">bank2</span><span class="o">=</span><span class="n">instrument</span><span class="o">.</span><span class="n">getComponentByName</span><span class="p">(</span><span class="s2">&quot;bank2&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The whole instrument parameter can be read from anywhere.&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;  The instrument: &quot;</span> <span class="o">+</span> <span class="n">instrument</span><span class="o">.</span><span class="n">getStringParameter</span><span class="p">(</span><span class="s2">&quot;TestParam&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;  bank 1: &quot;</span> <span class="o">+</span> <span class="n">bank1</span><span class="o">.</span><span class="n">getStringParameter</span><span class="p">(</span><span class="s2">&quot;TestParam&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;  bank 2: &quot;</span> <span class="o">+</span> <span class="n">bank2</span><span class="o">.</span><span class="n">getStringParameter</span><span class="p">(</span><span class="s2">&quot;TestParam&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The parameters  on the Bank 1 can be read from the bank or below.&quot;</span><span class="p">)</span>
<span class="c1">#For this one call getIntParameter as the number was an int</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;  bank 1: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">bank1</span><span class="o">.</span><span class="n">getIntParameter</span><span class="p">(</span><span class="s2">&quot;NumberParam&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]))</span>
<span class="c1">#For this one call getNumberParameter as the number was a float</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;  bank 2: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">bank2</span><span class="o">.</span><span class="n">getNumberParameter</span><span class="p">(</span><span class="s2">&quot;NumberParam&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]))</span>
<span class="c1">#if you are not sure of the type of a parameter you can call getParameterType</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;  The type of NumberParam in bank 1: &quot;</span> <span class="o">+</span> <span class="n">bank1</span><span class="o">.</span><span class="n">getParameterType</span><span class="p">(</span><span class="s2">&quot;NumberParam&quot;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;  The type of NumberParam in bank 2: &quot;</span> <span class="o">+</span> <span class="n">bank2</span><span class="o">.</span><span class="n">getParameterType</span><span class="p">(</span><span class="s2">&quot;NumberParam&quot;</span><span class="p">))</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>The whole instrument parameter can be read from anywhere.
  The instrument: Hello
  bank 1: Hello
  bank 2: Hello
The parameters  on the Bank 1 can be read from the bank or below.
  bank 1: 3
  bank 2: 3.5
  The type of NumberParam in bank 1: int
  The type of NumberParam in bank 2: double
</pre></div>
</div>
<p><strong>Example - Overwriting existing values</strong></p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">ws</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">()</span>
<span class="c1">#set a string parameter on the whole instrument</span>
<span class="n">SetInstrumentParameter</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span><span class="n">ParameterName</span><span class="o">=</span><span class="s2">&quot;TestParam&quot;</span><span class="p">,</span><span class="n">Value</span><span class="o">=</span><span class="s2">&quot;Hello&quot;</span><span class="p">)</span>
<span class="n">SetInstrumentParameter</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span><span class="n">ParameterName</span><span class="o">=</span><span class="s2">&quot;TestParam&quot;</span><span class="p">,</span><span class="n">Value</span><span class="o">=</span><span class="s2">&quot;Goodbye&quot;</span><span class="p">)</span>
<span class="n">SetInstrumentParameter</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span><span class="n">ParameterName</span><span class="o">=</span><span class="s2">&quot;TestParam&quot;</span><span class="p">,</span><span class="n">Value</span><span class="o">=</span><span class="s2">&quot;Hello from bank 1&quot;</span><span class="p">,</span><span class="n">ComponentName</span><span class="o">=</span><span class="s2">&quot;bank1&quot;</span><span class="p">)</span>

<span class="n">instrument</span><span class="o">=</span><span class="n">ws</span><span class="o">.</span><span class="n">getInstrument</span><span class="p">()</span>
<span class="n">bank1</span><span class="o">=</span><span class="n">instrument</span><span class="o">.</span><span class="n">getComponentByName</span><span class="p">(</span><span class="s2">&quot;bank1&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The SetInstrumentParameter overwrites previous values where the ParameterName and Component match.&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;  The test param for the instrument is: &quot;</span> <span class="o">+</span> <span class="n">instrument</span><span class="o">.</span><span class="n">getStringParameter</span><span class="p">(</span><span class="s2">&quot;TestParam&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Different Components can have the same Parameter Name with different values.&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;You will receive the closest value to the component you ask from.&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;  The test param for bank 1 is: &quot;</span> <span class="o">+</span> <span class="n">bank1</span><span class="o">.</span><span class="n">getStringParameter</span><span class="p">(</span><span class="s2">&quot;TestParam&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>The SetInstrumentParameter overwrites previous values where the ParameterName and Component match.
  The test param for the instrument is: Goodbye
Different Components can have the same Parameter Name with different values.
You will receive the closest value to the component you ask from.
  The test param for bank 1 is: Hello from bank 1
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/AlgorithmIndex.html">AlgorithmIndex</a> | <a class="reference external" href="categories/DataHandling/Instrument.html">DataHandling\Instrument</a></p>
</section>
<section id="source">
<h2><a class="toc-backref" href="#id8" role="doc-backlink">Source</a><a class="headerlink" href="#source" title="Permalink to this heading">¶</a></h2>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/d01b3431ef42c8e811acf3df5a3cc0503656d488/Framework/Algorithms/inc/MantidAlgorithms/SetInstrumentParameter.h">SetInstrumentParameter.h</a></p>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/d01b3431ef42c8e811acf3df5a3cc0503656d488/Framework/Algorithms/src/SetInstrumentParameter.cpp">SetInstrumentParameter.cpp</a></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="SetGoniometer-v1.html" title="Previous Chapter: SetGoniometer v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; SetGoniometer v1</span>
    </a>
  </li>
  <li>
    <a href="SetMDFrame-v1.html" title="Next Chapter: SetMDFrame v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">SetMDFrame v1 &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>