<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>ConvertAxesToRealSpace v1</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="ConvertAxisByFormula v1" href="ConvertAxisByFormula-v1.html" />
    <link rel="prev" title="ConjoinXRuns v1" href="ConjoinXRuns-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.5</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://www.mantidproject.org">Home</a></li>
                <li><a href="https://download.mantidproject.org">Download</a></li>
                <li><a href="https://docs.mantidproject.org">Documentation</a></li>
                <li><a href="https://www.mantidproject.org/contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Algorithms</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">ConvertAxesToRealSpace v1</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="convertaxestorealspace-v1">
<span id="algm-convertaxestorealspace"></span><span id="algm-convertaxestorealspace-v1"></span><h1>ConvertAxesToRealSpace v1<a class="headerlink" href="#convertaxestorealspace-v1" title="Permalink to this heading">¶</a></h1>
<figure class="align-right" id="id1">
<span id="index-0"></span><a class="screenshot reference internal image-reference" href="../_images/ConvertAxesToRealSpace-v1_dlg.png"><img alt="../_images/ConvertAxesToRealSpace-v1_dlg.png" class="screenshot" src="../_images/ConvertAxesToRealSpace-v1_dlg.png" style="width: 349px;" /></a>
<figcaption>
<p><span class="caption-text"><strong>ConvertAxesToRealSpace</strong> dialog.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#summary" id="id4">Summary</a></p>
<ul>
<li><p><a class="reference internal" href="#see-also" id="id5">See Also</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#properties" id="id6">Properties</a></p></li>
<li><p><a class="reference internal" href="#description" id="id7">Description</a></p>
<ul>
<li><p><a class="reference internal" href="#axes-units" id="id8">Axes Units</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#usage" id="id9">Usage</a></p></li>
<li><p><a class="reference internal" href="#source" id="id10">Source</a></p></li>
</ul>
</nav>
<section id="summary">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Summary</a><a class="headerlink" href="#summary" title="Permalink to this heading">¶</a></h2>
<p>Converts the spectrum and TOF axes to real space values, integrating the data in the process</p>
<section id="see-also">
<h3><a class="toc-backref" href="#id5" role="doc-backlink">See Also</a><a class="headerlink" href="#see-also" title="Permalink to this heading">¶</a></h3>
<p><a class="reference internal" href="ConvertSpectrumAxis-v2.html#algm-convertspectrumaxis"><span class="std std-ref">ConvertSpectrumAxis</span></a>, <a class="reference internal" href="ConvertUnits-v1.html#algm-convertunits"><span class="std std-ref">ConvertUnits</span></a></p>
</section>
</section>
<section id="properties">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">Properties</a><a class="headerlink" href="#properties" title="Permalink to this heading">¶</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Direction</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>InputWorkspace</p></td>
<td><p>Input</p></td>
<td><p><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a></p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>An input workspace.</p></td>
</tr>
<tr class="row-odd"><td><p>OutputWorkspace</p></td>
<td><p>Output</p></td>
<td><p><a class="reference internal" href="../concepts/Workspace2D.html#workspace2d"><span class="std std-ref">Workspace2D</span></a></p></td>
<td></td>
<td><p>An output workspace.</p></td>
</tr>
<tr class="row-even"><td><p>VerticalAxis</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>y</p></td>
<td><p>What will be the vertical axis ?  Allowed values: [‘x’, ‘y’, ‘z’, ‘r’, ‘theta’, ‘phi’, ‘2theta’, ‘signed2theta’]</p></td>
</tr>
<tr class="row-odd"><td><p>HorizontalAxis</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>2theta</p></td>
<td><p>What will be the horizontal axis?  Allowed values: [‘x’, ‘y’, ‘z’, ‘r’, ‘theta’, ‘phi’, ‘2theta’, ‘signed2theta’]</p></td>
</tr>
<tr class="row-even"><td><p>NumberVerticalBins</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>100</p></td>
<td><p>The number of bins along the vertical axis.</p></td>
</tr>
<tr class="row-odd"><td><p>NumberHorizontalBins</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>100</p></td>
<td><p>The number of bins along the horizontal axis.</p></td>
</tr>
</tbody>
</table>
<figure class="align-right" id="id2">
<img alt="ConvertAxesToRealSpace_LET_y_x.png" src="../_images/ConvertAxesToRealSpace_LET_y_x.png" />
<figcaption>
<p><span class="caption-text">LET converted to X and Y</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="description">
<h2><a class="toc-backref" href="#id7" role="doc-backlink">Description</a><a class="headerlink" href="#description" title="Permalink to this heading">¶</a></h2>
<p>This converts the workspace into a 2D view of real space detector positions based on the detector positions.  This is intended for rapid visualization and has been optimized for speed for use in Live data streams.
If the data provided has data binned in Time of flight or any other unit this will be integrated into a single value per detector, before converting to the selected detector and rebinning to the new grid.
The output grid is based in the maximum and minimum values of the detectors for axes selected, and the number of bins selected.  The rebinning is simply based on centre point rebinning,
and as such can be prone to moire based artefacts, however it is fast.</p>
<p>As the rebinning approach is simple centre point rebinning then the quality of the final plot is sensitive to the number of bins selected for each axis, too many will cause gaps between the detectors, and too few will cause overlap in certain bins.</p>
<figure class="align-center" id="id3">
<img alt="ConvertAxesToRealSpace_LET_y_2theta.png" src="../_images/ConvertAxesToRealSpace_LET_y_2theta.png" />
<figcaption>
<p><span class="caption-text">LET in 2Theta and Y</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<section id="axes-units">
<h3><a class="toc-backref" href="#id8" role="doc-backlink">Axes Units</a><a class="headerlink" href="#axes-units" title="Permalink to this heading">¶</a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Units</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>x, y ,z</p></td>
<td><p>meters</p></td>
<td><p>The absolute position of the detector as defined
in the instrument definition.</p></td>
</tr>
<tr class="row-odd"><td><p>r</p></td>
<td><p>meters</p></td>
<td rowspan="2"><p>The absolute position of the detector in
spherical coordinates, relative to 0,0,0 as
defined in the instrument definition.</p></td>
</tr>
<tr class="row-even"><td><p>theta, phi</p></td>
<td><p>degrees</p></td>
</tr>
<tr class="row-odd"><td><p>2theta</p></td>
<td><p>radians</p></td>
<td><p>The theta position of the detector relative to
sample position and the beam direction.
if the sample is at 0,0,0 and the beam direction
matches, then this will match theta above.</p></td>
</tr>
<tr class="row-even"><td><p>signed2Theta</p></td>
<td><p>radians</p></td>
<td><p>Similar to 2theta, but with a sign calculated
relative to the instrument reference frame, with
the upper quadrants taking the positive value</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="usage">
<h2><a class="toc-backref" href="#id9" role="doc-backlink">Usage</a><a class="headerlink" href="#usage" title="Permalink to this heading">¶</a></h2>
<p><strong>Example - ConvertAxesToRealSpace</strong></p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">ws</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">(</span><span class="n">BankPixelWidth</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="c1">#move the 2nd bank to a better position</span>
<span class="n">MoveInstrumentComponent</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span><span class="s2">&quot;bank2&quot;</span><span class="p">,</span><span class="n">X</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span><span class="n">Z</span><span class="o">=-</span><span class="mi">5</span><span class="p">,</span><span class="n">RelativePosition</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">wsOut</span> <span class="o">=</span> <span class="n">ConvertAxesToRealSpace</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span><span class="s2">&quot;y&quot;</span><span class="p">,</span><span class="s2">&quot;2theta&quot;</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">20</span><span class="p">)</span>

<span class="c1"># Print the result</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The output workspace has axes of </span><span class="si">{}</span><span class="s2"> with </span><span class="si">{}</span><span class="s2"> bins&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">wsOut</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">getUnit</span><span class="p">()</span><span class="o">.</span><span class="n">caption</span><span class="p">(),</span> <span class="n">wsOut</span><span class="o">.</span><span class="n">getNumberHistograms</span><span class="p">()))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;and </span><span class="si">{}</span><span class="s2"> with </span><span class="si">{}</span><span class="s2"> bins.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">wsOut</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">getUnit</span><span class="p">()</span><span class="o">.</span><span class="n">caption</span><span class="p">(),</span> <span class="n">wsOut</span><span class="o">.</span><span class="n">blocksize</span><span class="p">()))</span>
</pre></div>
</div>
<figure class="align-right">
<img alt="ConvertAxesToRealSpace_Example.png" src="../_images/ConvertAxesToRealSpace_Example.png" />
</figure>
<p>Output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>The output workspace has axes of y with 20 bins
and 2theta with 20 bins.
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/AlgorithmIndex.html">AlgorithmIndex</a> | <a class="reference external" href="categories/Transforms/Units.html">Transforms\Units</a> | <a class="reference external" href="categories/Transforms/Axes.html">Transforms\Axes</a></p>
</section>
<section id="source">
<h2><a class="toc-backref" href="#id10" role="doc-backlink">Source</a><a class="headerlink" href="#source" title="Permalink to this heading">¶</a></h2>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/aa570da6f199141cd8ad987bf9b9b9281a1b5e33/Framework/Algorithms/inc/MantidAlgorithms/ConvertAxesToRealSpace.h">ConvertAxesToRealSpace.h</a></p>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/aa570da6f199141cd8ad987bf9b9b9281a1b5e33/Framework/Algorithms/src/ConvertAxesToRealSpace.cpp">ConvertAxesToRealSpace.cpp</a></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="ConjoinXRuns-v1.html" title="Previous Chapter: ConjoinXRuns v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; ConjoinXRuns v1</span>
    </a>
  </li>
  <li>
    <a href="ConvertAxisByFormula-v1.html" title="Next Chapter: ConvertAxisByFormula v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">ConvertAxisBy... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>