<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>RemoveBins v1</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="RemoveExpDecay v1" href="RemoveExpDecay-v1.html" />
    <link rel="prev" title="RemoveBackground v1" href="RemoveBackground-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.5</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://www.mantidproject.org">Home</a></li>
                <li><a href="https://download.mantidproject.org">Download</a></li>
                <li><a href="https://docs.mantidproject.org">Documentation</a></li>
                <li><a href="https://www.mantidproject.org/contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Algorithms</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">RemoveBins v1</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="removebins-v1">
<span id="algm-removebins"></span><span id="algm-removebins-v1"></span><h1>RemoveBins v1<a class="headerlink" href="#removebins-v1" title="Permalink to this heading">¶</a></h1>
<figure class="align-right" id="id1">
<span id="index-0"></span><a class="screenshot reference internal image-reference" href="../_images/RemoveBins-v1_dlg.png"><img alt="../_images/RemoveBins-v1_dlg.png" class="screenshot" src="../_images/RemoveBins-v1_dlg.png" style="width: 327px;" /></a>
<figcaption>
<p><span class="caption-text"><strong>RemoveBins</strong> dialog.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#summary" id="id2">Summary</a></p>
<ul>
<li><p><a class="reference internal" href="#see-also" id="id3">See Also</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#properties" id="id4">Properties</a></p></li>
<li><p><a class="reference internal" href="#description" id="id5">Description</a></p>
<ul>
<li><p><a class="reference internal" href="#bins-at-either-end-of-spectrum" id="id6">Bins at either end of spectrum</a></p></li>
<li><p><a class="reference internal" href="#bins-in-the-middle-of-a-spectrum" id="id7">Bins in the middle of a spectrum</a></p></li>
<li><p><a class="reference internal" href="#restrictions-on-the-input-workspace" id="id8">Restrictions on the input workspace</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#related-algorithms" id="id9">Related Algorithms</a></p>
<ul>
<li><p><a class="reference internal" href="#maskbins" id="id10">MaskBins</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#usage" id="id11">Usage</a></p></li>
<li><p><a class="reference internal" href="#source" id="id12">Source</a></p></li>
</ul>
</nav>
<section id="summary">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Summary</a><a class="headerlink" href="#summary" title="Permalink to this heading">¶</a></h2>
<p>Used to remove data from a range of bins in a workspace.</p>
<section id="see-also">
<h3><a class="toc-backref" href="#id3" role="doc-backlink">See Also</a><a class="headerlink" href="#see-also" title="Permalink to this heading">¶</a></h3>
<p><a class="reference internal" href="CropWorkspace-v1.html#algm-cropworkspace"><span class="std std-ref">CropWorkspace</span></a></p>
</section>
</section>
<section id="properties">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Properties</a><a class="headerlink" href="#properties" title="Permalink to this heading">¶</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Direction</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>InputWorkspace</p></td>
<td><p>Input</p></td>
<td><p><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a></p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>The name of the input workspace.</p></td>
</tr>
<tr class="row-odd"><td><p>OutputWorkspace</p></td>
<td><p>Output</p></td>
<td><p><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a></p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>The name of the output workspace.</p></td>
</tr>
<tr class="row-even"><td><p>XMin</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>The lower bound of the region to be removed.</p></td>
</tr>
<tr class="row-odd"><td><p>XMax</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>The upper bound of the region to be removed.</p></td>
</tr>
<tr class="row-even"><td><p>RangeUnit</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>AsInput</p></td>
<td><p>The unit in which XMin/XMax are being given. If not given, it will peak the unit from the Input workspace X unit. Allowed values: [‘AsInput’, ‘AtomicDistance’, ‘DeltaE’, ‘DeltaE_inFrequency’, ‘DeltaE_inWavenumber’, ‘dSpacing’, ‘dSpacingPerpendicular’, ‘Energy’, ‘Energy_inWavenumber’, ‘Momentum’, ‘MomentumTransfer’, ‘Phi’, ‘QSquared’, ‘SpinEchoLength’, ‘SpinEchoTime’, ‘Temperature’, ‘TOF’, ‘Wavelength’]</p></td>
</tr>
<tr class="row-odd"><td><p>Interpolation</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>None</p></td>
<td><p>Whether mid-axis bins should be interpolated linearly (“Linear”) or set to zero (“None”). Note: Used when the region to be removed is within a bin. Linear scales the value in that bin by the proportion of it that is outside the region to be removed and none sets it to zero. Allowed values: [‘None’, ‘Linear’]</p></td>
</tr>
<tr class="row-even"><td><p>WorkspaceIndex</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p><em>Optional</em></p></td>
<td><p>If set, will remove data only in the given spectrum of the workspace. Otherwise, all spectra will be acted upon.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="description">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Description</a><a class="headerlink" href="#description" title="Permalink to this heading">¶</a></h2>
<p>This algorithm removes bins from a workspace. A minimum and maximum X
value to be removed needs to be provided. This can be in a different
unit to the workspace, in which case it is transformed internally.</p>
<p>The treatment of the removed bins is slightly different, depending on
where in the spectrum the bins to be removed lie:</p>
<section id="bins-at-either-end-of-spectrum">
<h3><a class="toc-backref" href="#id6" role="doc-backlink">Bins at either end of spectrum</a><a class="headerlink" href="#bins-at-either-end-of-spectrum" title="Permalink to this heading">¶</a></h3>
<p>If the workspaces has common X binning for all spectra, then the
<a class="reference internal" href="CropWorkspace-v1.html#algm-cropworkspace"><span class="std std-ref">CropWorkspace v1</span></a> algorithm will be called as a child
algorithm. This will result in the affected bins (which includes the bin
in which the boundary - XMin or XMax - lies) being removed completely,
leading to the output workspace having fewer bins than the input one. In
the case where the X binning varies from spectrum to spectrum, the bin
values will be set to zero regardless of the setting of the
Interpolation property.</p>
</section>
<section id="bins-in-the-middle-of-a-spectrum">
<h3><a class="toc-backref" href="#id7" role="doc-backlink">Bins in the middle of a spectrum</a><a class="headerlink" href="#bins-in-the-middle-of-a-spectrum" title="Permalink to this heading">¶</a></h3>
<p>The Interpolation property is applicable to this situation. If it is set
to “Linear” then the bins are set to values calculated from the values
of the bins on either side of the range. If set to “None” then bins
entirely within the range given are set to zero whilst the bins in which
the boundary fall have their values scaled in proportion to the
percentage of the bin’s width which falls outside XMin or XMax as
appropriate.</p>
</section>
<section id="restrictions-on-the-input-workspace">
<h3><a class="toc-backref" href="#id8" role="doc-backlink">Restrictions on the input workspace</a><a class="headerlink" href="#restrictions-on-the-input-workspace" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>The input workspace must have a unit set</p></li>
<li><p>The input workspace must contain histogram data</p></li>
</ul>
</section>
</section>
<section id="related-algorithms">
<h2><a class="toc-backref" href="#id9" role="doc-backlink">Related Algorithms</a><a class="headerlink" href="#related-algorithms" title="Permalink to this heading">¶</a></h2>
<section id="maskbins">
<h3><a class="toc-backref" href="#id10" role="doc-backlink">MaskBins</a><a class="headerlink" href="#maskbins" title="Permalink to this heading">¶</a></h3>
<p><a class="reference internal" href="MaskBins-v1.html#algm-maskbins"><span class="std std-ref">MaskBins v1</span></a> will set the data in the desired bins to 0 and
importantly also marks those bins as masked, so that further algorithms
should not include this data in their grouping calculations. This is
particularly used for Diffraction Focussing.</p>
</section>
</section>
<section id="usage">
<h2><a class="toc-backref" href="#id11" role="doc-backlink">Usage</a><a class="headerlink" href="#usage" title="Permalink to this heading">¶</a></h2>
<p><strong>Example - Remove some bins from a 5-bin worksapce</strong></p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a workspace with 1 spectrum with five bins of width 10</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">(</span><span class="s2">&quot;Histogram&quot;</span><span class="p">,</span>  <span class="n">NumBanks</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">BankPixelWidth</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">BinWidth</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">Xmax</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>

<span class="c1"># Run algorithm  removing 2nd, 3rd bins and half of 4th bin.</span>
<span class="n">OutputWorkspace</span> <span class="o">=</span> <span class="n">RemoveBins</span><span class="p">(</span> <span class="n">ws</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">35</span><span class="p">)</span>

<span class="c1"># Show workspaces</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Before RemoveBins </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ws</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;After RemoveBins </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">OutputWorkspace</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)))</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Before RemoveBins [ 10.3   0.3   0.3   0.3   0.3]
After RemoveBins [ 10.3    0.     0.     0.15   0.3 ]
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/AlgorithmIndex.html">AlgorithmIndex</a> | <a class="reference external" href="categories/Transforms/Splitting.html">Transforms\Splitting</a></p>
</section>
<section id="source">
<h2><a class="toc-backref" href="#id12" role="doc-backlink">Source</a><a class="headerlink" href="#source" title="Permalink to this heading">¶</a></h2>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/13e7f0547cfe096095781821611f9c6151283ad7/Framework/Algorithms/inc/MantidAlgorithms/RemoveBins.h">RemoveBins.h</a></p>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/13e7f0547cfe096095781821611f9c6151283ad7/Framework/Algorithms/src/RemoveBins.cpp">RemoveBins.cpp</a></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="RemoveBackground-v1.html" title="Previous Chapter: RemoveBackground v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; RemoveBackground v1</span>
    </a>
  </li>
  <li>
    <a href="RemoveExpDecay-v1.html" title="Next Chapter: RemoveExpDecay v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">RemoveExpDecay v1 &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>