<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>SimulatedDensityOfStates v1</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="SingleCrystalDiffuseReduction v1" href="SingleCrystalDiffuseReduction-v1.html" />
    <link rel="prev" title="Description" href="SimulateResolutionConvolvedModel-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.5</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://www.mantidproject.org">Home</a></li>
                <li><a href="https://download.mantidproject.org">Download</a></li>
                <li><a href="https://docs.mantidproject.org">Documentation</a></li>
                <li><a href="https://www.mantidproject.org/contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Algorithms</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">SimulatedDensityOfStates v1</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="simulateddensityofstates-v1">
<span id="algm-simulateddensityofstates"></span><span id="algm-simulateddensityofstates-v1"></span><h1>SimulatedDensityOfStates v1<a class="headerlink" href="#simulateddensityofstates-v1" title="Permalink to this heading">¶</a></h1>
<figure class="align-right" id="id1">
<span id="index-0"></span><a class="screenshot reference internal image-reference" href="../_images/SimulatedDensityOfStates-v1_dlg.png"><img alt="../_images/SimulatedDensityOfStates-v1_dlg.png" class="screenshot" src="../_images/SimulatedDensityOfStates-v1_dlg.png" style="width: 349px;" /></a>
<figcaption>
<p><span class="caption-text"><strong>SimulatedDensityOfStates</strong> dialog.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#summary" id="id2">Summary</a></p></li>
<li><p><a class="reference internal" href="#properties" id="id3">Properties</a></p></li>
<li><p><a class="reference internal" href="#description" id="id4">Description</a></p></li>
<li><p><a class="reference internal" href="#workflow" id="id5">Workflow</a></p></li>
<li><p><a class="reference internal" href="#usage" id="id6">Usage</a></p></li>
<li><p><a class="reference internal" href="#source" id="id7">Source</a></p></li>
</ul>
</nav>
<section id="summary">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Summary</a><a class="headerlink" href="#summary" title="Permalink to this heading">¶</a></h2>
<p>Calculates phonon densities of states, Raman and IR spectrum.</p>
</section>
<section id="properties">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Properties</a><a class="headerlink" href="#properties" title="Permalink to this heading">¶</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Direction</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>CASTEPFile</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>Filename of the CASTEP file. Allowed values: [‘castep’]</p></td>
</tr>
<tr class="row-odd"><td><p>PHONONFile</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>Filename of the PHONON file. Allowed values: [‘phonon’]</p></td>
</tr>
<tr class="row-even"><td><p>ForceConstantsFile</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>Allowed extensions: [‘.castep_bin’, ‘.json’, ‘.yaml’]</p></td>
</tr>
<tr class="row-odd"><td><p>ForceConstantsSampling</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>20</p></td>
<td><p>Real-space cutoff in Angstrom for Brillouin zone sampling.</p></td>
</tr>
<tr class="row-even"><td><p>Function</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>Gaussian</p></td>
<td><p>Type of function to fit to peaks. Allowed values: [‘Gaussian’, ‘Lorentzian’]</p></td>
</tr>
<tr class="row-odd"><td><p>PeakWidth</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>10.0</p></td>
<td><p>Set Gaussian/Lorentzian FWHM for broadening. Default is 10</p></td>
</tr>
<tr class="row-even"><td><p>SpectrumType</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>DOS</p></td>
<td><p>Type of intensities to extract and model (fundamentals-only) from .phonon. Allowed values: [‘IonTable’, ‘DOS’, ‘IR_Active’, ‘Raman_Active’, ‘BondTable’]</p></td>
</tr>
<tr class="row-odd"><td><p>CalculateIonIndices</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>False</p></td>
<td><p>Calculates the individual index of all Ions in the simulated data.</p></td>
</tr>
<tr class="row-even"><td><p>StickHeight</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>0.01</p></td>
<td><p>Intensity of peaks in stick diagram.</p></td>
</tr>
<tr class="row-odd"><td><p>Scale</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>1</p></td>
<td><p>Scale the intesity by the given factor. Default is no scaling.</p></td>
</tr>
<tr class="row-even"><td><p>BinWidth</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>1</p></td>
<td><p>Set histogram resolution for binning (eV or cm**-1). Default is 1</p></td>
</tr>
<tr class="row-odd"><td><p>Temperature</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>300</p></td>
<td><p>Temperature to use (in raman spectrum modelling). Default is 300</p></td>
</tr>
<tr class="row-even"><td><p>ZeroThreshold</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>3</p></td>
<td><p>Ignore frequencies below the this threshold. Default is 3.0</p></td>
</tr>
<tr class="row-odd"><td><p>Ions</p></td>
<td><p>Input</p></td>
<td><p>str list</p></td>
<td></td>
<td><p>List of Ions to use to calculate partial density of states.If left blank, total density of states will be calculated</p></td>
</tr>
<tr class="row-even"><td><p>SumContributions</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>False</p></td>
<td><p>Sum the partial density of states into a single workspace.</p></td>
</tr>
<tr class="row-odd"><td><p>ScaleByCrossSection</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>None</p></td>
<td><p>Sum the partial density of states by the scattering cross section. Allowed values: [‘None’, ‘Total’, ‘Incoherent’, ‘Coherent’]</p></td>
</tr>
<tr class="row-even"><td><p>OutputWorkspace</p></td>
<td><p>Output</p></td>
<td><p><a class="reference internal" href="../concepts/Workspace.html#workspace"><span class="std std-ref">Workspace</span></a></p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>Name to give the output workspace.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="description">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Description</a><a class="headerlink" href="#description" title="Permalink to this heading">¶</a></h2>
<p>Calculates phonon densities of states, Raman and IR spectrum from the
output of CASTEP code obtained in the form of <em>.phonon</em> and <em>.castep</em> files.</p>
<p>The PeakWidth property may be passed a function containing the variable “energy”
(e.g. <em>0.1*energy</em>) to set the FWHM of the peak as a function of the energy
(centre point of the peak). This can be useful for comparison with experimental
data by allowing the peak width to change according to the resolution of the
instrument.</p>
<p>If the IonTable spectrum type is used then the output workspace will be
a table workspace containing each ion that is present in a <em>.phonon</em> file.</p>
<p>If the BondTable spectrum type is used then the output workspace will be
a table workspace containing details of the bonds defined in the <em>.castep</em>
file.</p>
</section>
<section id="workflow">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Workflow</a><a class="headerlink" href="#workflow" title="Permalink to this heading">¶</a></h2>
<img alt="../_images/SimulatedDensityOfStates-v1_wkflw.svg" src="../_images/SimulatedDensityOfStates-v1_wkflw.svg" /></section>
<section id="usage">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">Usage</a><a class="headerlink" href="#usage" title="Permalink to this heading">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To run these usage examples please first download the
<a class="reference external" href="https://sourceforge.net/projects/mantid/files/Sample%20Data/UsageData.zip/download">usage data</a>,
and add these to your path.
In Mantid this is done using <a class="reference internal" href="../interfaces/framework/ManageUserDirectories.html#manageuserdirectories"><span class="std std-ref">Manage User Directories</span></a>.</p>
</div>
<p><strong>Example - loading data from phonon &amp; castep files:</strong></p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Loading the same data from a castep and phonon file</span>
<span class="n">phonon_ws</span> <span class="o">=</span> <span class="n">SimulatedDensityOfStates</span><span class="p">(</span><span class="n">PHONONFile</span><span class="o">=</span><span class="s1">&#39;squaricn.phonon&#39;</span><span class="p">)</span>
<span class="n">castep_ws</span> <span class="o">=</span> <span class="n">SimulatedDensityOfStates</span><span class="p">(</span><span class="n">CASTEPFile</span><span class="o">=</span><span class="s1">&#39;squaricn.castep&#39;</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">CompareWorkspaces</span><span class="p">(</span><span class="n">phonon_ws</span><span class="p">,</span> <span class="n">castep_ws</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
<p><strong>Example - loading partial contributions of ions:</strong></p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">squaricn</span> <span class="o">=</span> <span class="n">SimulatedDensityOfStates</span><span class="p">(</span><span class="n">PHONONFile</span><span class="o">=</span><span class="s1">&#39;squaricn.phonon&#39;</span><span class="p">,</span>
                                    <span class="n">Ions</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;O&#39;</span><span class="p">])</span>

<span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">squaricn</span><span class="o">.</span><span class="n">getNames</span><span class="p">():</span>
  <span class="nb">print</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>squaricn_H
squaricn_C
squaricn_O
</pre></div>
</div>
<p><strong>Example - loading summed partial contributions of ions:</strong></p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">sum_ws</span> <span class="o">=</span> <span class="n">SimulatedDensityOfStates</span><span class="p">(</span><span class="n">PHONONFile</span><span class="o">=</span><span class="s1">&#39;squaricn.phonon&#39;</span><span class="p">,</span>
                                  <span class="n">Ions</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;O&#39;</span><span class="p">],</span>
                                  <span class="n">SumContributions</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">total_ws</span> <span class="o">=</span> <span class="n">SimulatedDensityOfStates</span><span class="p">(</span><span class="n">PHONONFile</span><span class="o">=</span><span class="s1">&#39;squaricn.phonon&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">CompareWorkspaces</span><span class="p">(</span><span class="n">total_ws</span><span class="p">,</span> <span class="n">sum_ws</span><span class="p">,</span> <span class="n">Tolerance</span><span class="o">=</span><span class="mf">1e-12</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
<p><strong>Example - Getting the list of ions in a phonon file:</strong></p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">ion_ws</span> <span class="o">=</span> <span class="n">SimulatedDensityOfStates</span><span class="p">(</span><span class="n">PHONONFile</span><span class="o">=</span><span class="s1">&#39;squaricn.phonon&#39;</span><span class="p">,</span>
                                  <span class="n">SpectrumType</span><span class="o">=</span><span class="s1">&#39;IonTable&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ion_ws</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="s1">&#39;Species&#39;</span><span class="p">)))</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>H, H, H, H, C, C, C, C, C, C, C, C, O, O, O, O, O, O, O, O
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/AlgorithmIndex.html">AlgorithmIndex</a> | <a class="reference external" href="categories/Simulation.html">Simulation</a></p>
</section>
<section id="source">
<h2><a class="toc-backref" href="#id7" role="doc-backlink">Source</a><a class="headerlink" href="#source" title="Permalink to this heading">¶</a></h2>
<p>Python: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/aa570da6f199141cd8ad987bf9b9b9281a1b5e33/Framework/PythonInterface/plugins/algorithms/WorkflowAlgorithms/SimulatedDensityOfStates.py">SimulatedDensityOfStates.py</a></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="SimulateResolutionConvolvedModel-v1.html" title="Previous Chapter: Description"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Description</span>
    </a>
  </li>
  <li>
    <a href="SingleCrystalDiffuseReduction-v1.html" title="Next Chapter: SingleCrystalDiffuseReduction v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">SingleCrystal... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>