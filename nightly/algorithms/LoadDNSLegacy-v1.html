<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>LoadDNSLegacy v1</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="LoadDNSSCD v1" href="LoadDNSSCD-v1.html" />
    <link rel="prev" title="LoadDNSEvent v1" href="LoadDNSEvent-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.5</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://www.mantidproject.org">Home</a></li>
                <li><a href="https://download.mantidproject.org">Download</a></li>
                <li><a href="https://docs.mantidproject.org">Documentation</a></li>
                <li><a href="https://www.mantidproject.org/contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Algorithms</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">LoadDNSLegacy v1</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="loaddnslegacy-v1">
<span id="algm-loaddnslegacy"></span><span id="algm-loaddnslegacy-v1"></span><h1>LoadDNSLegacy v1<a class="headerlink" href="#loaddnslegacy-v1" title="Permalink to this heading">¶</a></h1>
<figure class="align-right" id="id1">
<span id="index-0"></span><a class="screenshot reference internal image-reference" href="../_images/LoadDNSLegacy-v1_dlg.png"><img alt="../_images/LoadDNSLegacy-v1_dlg.png" class="screenshot" src="../_images/LoadDNSLegacy-v1_dlg.png" style="width: 360px;" /></a>
<figcaption>
<p><span class="caption-text"><strong>LoadDNSLegacy</strong> dialog.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#summary" id="id2">Summary</a></p></li>
<li><p><a class="reference internal" href="#properties" id="id3">Properties</a></p></li>
<li><p><a class="reference internal" href="#description" id="id4">Description</a></p></li>
<li><p><a class="reference internal" href="#usage" id="id5">Usage</a></p></li>
<li><p><a class="reference internal" href="#source" id="id6">Source</a></p></li>
</ul>
</nav>
<section id="summary">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Summary</a><a class="headerlink" href="#summary" title="Permalink to this heading">¶</a></h2>
<p>Load the DNS Legacy data file to the mantid workspace.</p>
</section>
<section id="properties">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Properties</a><a class="headerlink" href="#properties" title="Permalink to this heading">¶</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Direction</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Filename</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>Name of DNS experimental data file. Allowed extensions: [‘.d_dat’]</p></td>
</tr>
<tr class="row-odd"><td><p>CoilCurrentsTable</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>Name of file containing table of coil currents and polarisations. Allowed extensions: [‘.txt’]</p></td>
</tr>
<tr class="row-even"><td><p>OutputWorkspace</p></td>
<td><p>Output</p></td>
<td><p><a class="reference internal" href="../concepts/Workspace.html#workspace"><span class="std std-ref">Workspace</span></a></p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>Name of the workspace to store the experimental data.</p></td>
</tr>
<tr class="row-odd"><td><p>Normalization</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>duration</p></td>
<td><p>Kind of data normalization. Allowed values: [‘duration’, ‘monitor’, ‘no’]</p></td>
</tr>
<tr class="row-even"><td><p>ElasticChannel</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>0</p></td>
<td><p>Time channel number where elastic peak is observed. Only for TOF data.</p></td>
</tr>
<tr class="row-odd"><td><p>Wavelength</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>0</p></td>
<td><p>Wavelength in nm. If 0 will be read from data file.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="description">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Description</a><a class="headerlink" href="#description" title="Permalink to this heading">¶</a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This algorithm is being developed for a specific instrument. It might get changed or even
removed without a notification, should instrument scientists decide to do so.</p>
</div>
<p>This algorithm loads a DNS legacy data file into a <a class="reference internal" href="../concepts/Workspace2D.html#workspace2d"><span class="std std-ref">Workspace2D</span></a>. The loader rotates the detector bank
in the position given in the data file.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the data file contains wrong neutron wavelength, the correct wavelength (in Angstrom) can be specified in the <strong>Wavelength</strong> field.
Leave it 0 if you are not sure. In this case wavelength will be read from the data file.</p>
</div>
<p><strong>Output</strong></p>
<ul class="simple">
<li><p>For diffraction mode data (only one time channel) output is the <a class="reference internal" href="../concepts/Workspace2D.html#workspace2d"><span class="std std-ref">Workspace2D</span></a> with the X-axis in the wavelength units.</p></li>
<li><p>For TOF data (more than one time channel) output is the <a class="reference internal" href="../concepts/Workspace2D.html#workspace2d"><span class="std std-ref">Workspace2D</span></a> with the X-axis in TOF units. The lower bin boundary for the channel <span class="math notranslate nohighlight">\(i\)</span>, <span class="math notranslate nohighlight">\(t_i\)</span> is calculated as <span class="math notranslate nohighlight">\(t_i = t_1 + t_{delay} + i*\Delta t\)</span>, where <span class="math notranslate nohighlight">\(\Delta t\)</span> is the channel width and <span class="math notranslate nohighlight">\(t_1\)</span> is the time-of-flight from the source (chopper) to sample. Given in the data file channel width is scaled by the <em>channel_width_factor</em> which can be set in the <a class="reference internal" href="../concepts/InstrumentParameterFile.html#instrumentparameterfile"><span class="std std-ref">parameter file</span></a>.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Since zero time channel is not specified, the algorithm can roll the TOF data to get elastic peak at the right position.
For this the <strong>ElasticChannel</strong> - channel number where the elastic peak is observed without correction - should be specified.
For commissioning period, the algorithm ignores the elastic channel number given in the data file.</p>
</div>
<p><strong>Normalization</strong></p>
<p>The <strong>Normalization</strong> option offers the following choices:</p>
<ul class="simple">
<li><p><strong>duration</strong>: data in the output workspace will be divided by experiment duration. The <em>normalized</em> sample log will be set to <em>duration</em>.</p></li>
<li><p><strong>monitor</strong>: data in the output workspace will be divided by monitor counts. The <em>normalized</em> sample log will be set to <em>monitor</em>.</p></li>
<li><p><strong>no</strong>: no normalization will be performed, data will be loaded as is. The <em>normalized</em> sample log will be set to <em>no</em>.</p></li>
</ul>
<p><strong>Polarisation</strong></p>
<p>Since polarisation is not specified in the DNS legacy files, coil currents table is required to lookup for the polarisation and set the <em>polarisation</em> sample log. The default coil currents are given as <em>x_currents</em>, <em>y_currents</em> and <em>z_currents</em> parameters in the <a class="reference internal" href="../concepts/InstrumentParameterFile.html#instrumentparameterfile"><span class="std std-ref">parameter file</span></a> for x, y, and z polarisations, respectively.</p>
<p>Alternatively, the text file with the coil currents table may be provided (optionally). The coil currents table is a text file containing the following table.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>polarisation</p></th>
<th class="head"><p>comment</p></th>
<th class="head"><p>C_a</p></th>
<th class="head"><p>C_b</p></th>
<th class="head"><p>C_c</p></th>
<th class="head"><p>C_z</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>x</p></td>
<td><p>7</p></td>
<td><p>0</p></td>
<td><p>-2</p></td>
<td><p>-0.77</p></td>
<td><p>2.21</p></td>
</tr>
<tr class="row-odd"><td><p>y</p></td>
<td><p>7</p></td>
<td><p>0</p></td>
<td><p>1.6</p></td>
<td><p>-2.77</p></td>
<td><p>2.21</p></td>
</tr>
<tr class="row-even"><td><p>z</p></td>
<td><p>7</p></td>
<td><p>0</p></td>
<td><p>0.11</p></td>
<td><p>-0.50</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>x</p></td>
<td><p>7</p></td>
<td><p>0</p></td>
<td><p>-2.1</p></td>
<td><p>-0.97</p></td>
<td><p>2.21</p></td>
</tr>
</tbody>
</table>
<p>First row must contain the listed column headers, other rows contain coil currents for each polarisation. Rows with different currents for one polarisation are allowed. Columns are separated by tab symbols.</p>
<p>This algorithm only supports DNS instrument in its configuration with one detector bank (polarisation analysis).</p>
</section>
<section id="usage">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Usage</a><a class="headerlink" href="#usage" title="Permalink to this heading">¶</a></h2>
<p><strong>Example 1 - Load DNS diffraction mode .d_dat file:</strong></p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># data file</span>
<span class="n">datafile</span> <span class="o">=</span> <span class="s1">&#39;dn134011vana.d_dat&#39;</span>

<span class="c1"># Load dataset</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">LoadDNSLegacy</span><span class="p">(</span><span class="n">datafile</span><span class="p">,</span> <span class="n">Normalization</span><span class="o">=</span><span class="s1">&#39;monitor&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;This workspace has </span><span class="si">{}</span><span class="s2"> dimensions and has </span><span class="si">{}</span><span class="s2"> histograms.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ws</span><span class="o">.</span><span class="n">getNumDims</span><span class="p">(),</span> <span class="n">ws</span><span class="o">.</span><span class="n">getNumberHistograms</span><span class="p">()))</span>
</pre></div>
</div>
<p><strong>Output:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>This workspace has 2 dimensions and has 24 histograms.
</pre></div>
</div>
<p><strong>Example 2 - Load DNS TOF mode .d_dat file and find the elastic channel:</strong></p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># data file</span>
<span class="n">datafile</span> <span class="o">=</span> <span class="s1">&#39;dnstof.d_dat&#39;</span>

<span class="c1"># Load dataset</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">LoadDNSLegacy</span><span class="p">(</span><span class="n">datafile</span><span class="p">,</span> <span class="n">Normalization</span><span class="o">=</span><span class="s1">&#39;no&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;This workspace has </span><span class="si">{}</span><span class="s2"> dimensions and has </span><span class="si">{}</span><span class="s2"> histograms.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ws</span><span class="o">.</span><span class="n">getNumDims</span><span class="p">(),</span> <span class="n">ws</span><span class="o">.</span><span class="n">getNumberHistograms</span><span class="p">()))</span>

<span class="c1"># sum spectra over all detectors</span>
<span class="n">ws_sum</span> <span class="o">=</span> <span class="n">SumSpectra</span><span class="p">(</span><span class="n">ws</span><span class="p">)</span>
<span class="c1"># perform fit</span>
<span class="c1"># Warning: this will work only if elastic peak is stronger than the other peaks!</span>
<span class="n">peak_center</span><span class="p">,</span> <span class="n">sigma</span> <span class="o">=</span> <span class="n">FitGaussian</span><span class="p">(</span><span class="n">ws_sum</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Elastic peak center is at </span><span class="si">{:.0f}</span><span class="s2"> microseconds and has sigma=</span><span class="si">{:.0f}</span><span class="s2">.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">peak_center</span><span class="p">),</span> <span class="nb">round</span><span class="p">(</span><span class="n">sigma</span><span class="p">)))</span>

<span class="c1"># calculate the elastic channel number</span>
<span class="n">channel_width</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">getRun</span><span class="p">()</span><span class="o">.</span><span class="n">getProperty</span><span class="p">(</span><span class="s2">&quot;channel_width&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">value</span>
<span class="n">tof1</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">getRun</span><span class="p">()</span><span class="o">.</span><span class="n">getProperty</span><span class="p">(</span><span class="s2">&quot;TOF1&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">value</span>
<span class="n">t_delay</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">getRun</span><span class="p">()</span><span class="o">.</span><span class="n">getProperty</span><span class="p">(</span><span class="s2">&quot;delay_time&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">value</span>
<span class="n">epp</span> <span class="o">=</span> <span class="nb">round</span><span class="p">((</span><span class="n">peak_center</span> <span class="o">-</span> <span class="n">tof1</span> <span class="o">-</span> <span class="n">t_delay</span><span class="p">)</span><span class="o">/</span><span class="n">channel_width</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The channel width is </span><span class="si">{}</span><span class="s2"> microseconds.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel_width</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The elastic channel number is: </span><span class="si">{:.0f}</span><span class="s2">.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">epp</span><span class="p">))</span>
</pre></div>
</div>
<p><strong>Output:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>This workspace has 2 dimensions and has 24 histograms.
Elastic peak center is at 3023 microseconds and has sigma=62.
The channel width is 40.1 microseconds.
The elastic channel number is: 65.
</pre></div>
</div>
<p><strong>Example 3 - Load DNS TOF mode .d_dat file and specify the elastic channel and wavelength:</strong></p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># data file</span>
<span class="n">datafile</span> <span class="o">=</span> <span class="s1">&#39;dnstof.d_dat&#39;</span>

<span class="c1"># Load dataset</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">LoadDNSLegacy</span><span class="p">(</span><span class="n">datafile</span><span class="p">,</span> <span class="n">ElasticChannel</span><span class="o">=</span><span class="mi">65</span><span class="p">,</span> <span class="n">Normalization</span><span class="o">=</span><span class="s1">&#39;no&#39;</span><span class="p">,</span> <span class="n">Wavelength</span><span class="o">=</span><span class="mf">4.2</span><span class="p">)</span>

<span class="c1"># let&#39;s check that the elastic peak is at the right position</span>
<span class="kn">from</span> <span class="nn">scipy.constants</span> <span class="kn">import</span> <span class="n">m_n</span><span class="p">,</span> <span class="n">h</span>

<span class="n">l1</span> <span class="o">=</span> <span class="mf">0.4</span>     <span class="c1"># distance from chopper to sample, m</span>
<span class="n">l2</span> <span class="o">=</span> <span class="mf">0.85</span>   <span class="c1"># distance from sample to detector, m</span>
<span class="n">wavelength</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">getRun</span><span class="p">()</span><span class="o">.</span><span class="n">getProperty</span><span class="p">(</span><span class="s2">&quot;wavelength&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">value</span>   <span class="c1"># neutron wavelength, Angstrom</span>

<span class="c1"># neutron velocity</span>
<span class="n">velocity</span> <span class="o">=</span> <span class="n">h</span><span class="o">/</span><span class="p">(</span><span class="n">m_n</span><span class="o">*</span><span class="n">wavelength</span><span class="o">*</span><span class="mf">1e-10</span><span class="p">)</span>

<span class="c1"># calculate elastic TOF (total)</span>
<span class="n">tof2_elastic</span> <span class="o">=</span> <span class="mf">1e+06</span><span class="o">*</span><span class="n">l2</span><span class="o">/</span><span class="n">velocity</span>
<span class="n">tof1</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">getRun</span><span class="p">()</span><span class="o">.</span><span class="n">getProperty</span><span class="p">(</span><span class="s2">&quot;TOF1&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">value</span>
<span class="n">t_delay</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">getRun</span><span class="p">()</span><span class="o">.</span><span class="n">getProperty</span><span class="p">(</span><span class="s2">&quot;delay_time&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">value</span>
<span class="n">tof_elastic</span> <span class="o">=</span> <span class="n">t_delay</span> <span class="o">+</span> <span class="n">tof1</span> <span class="o">+</span> <span class="n">tof2_elastic</span>
<span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;Calculated elastic TOF: </span><span class="si">{:.0f}</span><span class="s2"> microseconds&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">tof_elastic</span><span class="p">)))</span>

<span class="c1"># get elastic TOF from file</span>
<span class="n">ws_sum</span> <span class="o">=</span> <span class="n">SumSpectra</span><span class="p">(</span><span class="n">ws</span><span class="p">)</span>
<span class="n">peak_center</span><span class="p">,</span> <span class="n">sigma</span> <span class="o">=</span> <span class="n">FitGaussian</span><span class="p">(</span><span class="n">ws_sum</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;Elastic TOF in the workspace: </span><span class="si">{:.0f}</span><span class="s2"> microseconds&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">peak_center</span><span class="p">)))</span>

<span class="c1"># compare difference to the channel width</span>
<span class="n">channel_width</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">getRun</span><span class="p">()</span><span class="o">.</span><span class="n">getProperty</span><span class="p">(</span><span class="s2">&quot;channel_width&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">value</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Difference = </span><span class="si">{:.0f}</span><span class="s2"> microseconds &lt; channel width = </span><span class="si">{}</span><span class="s2"> microseconds.&quot;</span>
      <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">tof_elastic</span> <span class="o">-</span> <span class="n">peak_center</span><span class="p">),</span> <span class="n">channel_width</span><span class="p">,</span> <span class="nb">round</span><span class="p">(</span><span class="n">sigma</span><span class="p">)))</span>
<span class="n">channel_width</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">getRun</span><span class="p">()</span><span class="o">.</span><span class="n">getProperty</span><span class="p">(</span><span class="s2">&quot;channel_width&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">value</span>
</pre></div>
</div>
<p><strong>Output:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Calculated elastic TOF: 1327 microseconds
Elastic TOF in the workspace: 1299 microseconds
Difference = 28 microseconds &lt; channel width = 40.1 microseconds.
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/AlgorithmIndex.html">AlgorithmIndex</a> | <a class="reference external" href="categories/Workflow/MLZ/DNS.html">Workflow\MLZ\DNS</a> | <a class="reference external" href="categories/DataHandling/Text.html">DataHandling\Text</a></p>
</section>
<section id="source">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">Source</a><a class="headerlink" href="#source" title="Permalink to this heading">¶</a></h2>
<p>Python: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/aa570da6f199141cd8ad987bf9b9b9281a1b5e33/Framework/PythonInterface/plugins/algorithms/LoadDNSLegacy.py">LoadDNSLegacy.py</a></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="LoadDNSEvent-v1.html" title="Previous Chapter: LoadDNSEvent v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; LoadDNSEvent v1</span>
    </a>
  </li>
  <li>
    <a href="LoadDNSSCD-v1.html" title="Next Chapter: LoadDNSSCD v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">LoadDNSSCD v1 &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>