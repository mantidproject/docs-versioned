<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>PelicanReduction v1</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="PerformIndexOperations v1" href="PerformIndexOperations-v1.html" />
    <link rel="prev" title="PelicanCrystalProcessing v1" href="PelicanCrystalProcessing-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.5</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://www.mantidproject.org">Home</a></li>
                <li><a href="https://download.mantidproject.org">Download</a></li>
                <li><a href="https://docs.mantidproject.org">Documentation</a></li>
                <li><a href="https://www.mantidproject.org/contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Algorithms</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">PelicanReduction v1</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="pelicanreduction-v1">
<span id="algm-pelicanreduction"></span><span id="algm-pelicanreduction-v1"></span><h1>PelicanReduction v1<a class="headerlink" href="#pelicanreduction-v1" title="Permalink to this heading">¶</a></h1>
<figure class="align-right" id="id1">
<span id="index-0"></span><a class="screenshot reference internal image-reference" href="../_images/PelicanReduction-v1_dlg.png"><img alt="../_images/PelicanReduction-v1_dlg.png" class="screenshot" src="../_images/PelicanReduction-v1_dlg.png" style="width: 349px;" /></a>
<figcaption>
<p><span class="caption-text"><strong>PelicanReduction</strong> dialog.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#summary" id="id2">Summary</a></p></li>
<li><p><a class="reference internal" href="#properties" id="id3">Properties</a></p></li>
<li><p><a class="reference internal" href="#description" id="id4">Description</a></p></li>
<li><p><a class="reference internal" href="#workflow" id="id5">Workflow</a></p></li>
<li><p><a class="reference internal" href="#usage" id="id6">Usage</a></p></li>
<li><p><a class="reference internal" href="#references" id="id7">References</a></p></li>
<li><p><a class="reference internal" href="#source" id="id8">Source</a></p></li>
</ul>
</nav>
<section id="summary">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Summary</a><a class="headerlink" href="#summary" title="Permalink to this heading">¶</a></h2>
<p>Performs an inelastic energy transfer reduction for ANSTO Pelican geometry data.</p>
</section>
<section id="properties">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Properties</a><a class="headerlink" href="#properties" title="Permalink to this heading">¶</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Direction</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>SampleRuns</p></td>
<td><p>Input</p></td>
<td><p>str list</p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>Optional cycle number followed by comma separated range of sample runs as [cycle::] n1,n2,..  eg 123::7333-7341,7345</p></td>
</tr>
<tr class="row-odd"><td><p>EmptyRuns</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>Optional cycle number followed by comma separated range of runs as [cycle::] n1,n2,..   eg 123::6300-6308</p></td>
</tr>
<tr class="row-even"><td><p>ScaleEmptyRuns</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>1</p></td>
<td><p>Scale the empty runs prior to subtraction</p></td>
</tr>
<tr class="row-odd"><td><p>CalibrationRuns</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>Optional cycle number followed by comma separated range of runs as [cycle::] n1,n2,..   eg 123::6350-6365</p></td>
</tr>
<tr class="row-even"><td><p>EmptyCalibrationRuns</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>Optional cycle number followed by comma separated range of runs as [cycle::] n1,n2,..   eg 123::6370-6375</p></td>
</tr>
<tr class="row-odd"><td><p>EnergyTransfer</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>0.0, 0.02, 3.0</p></td>
<td><p>Energy transfer range in meV expressed as min, step, max</p></td>
</tr>
<tr class="row-even"><td><p>MomentumTransfer</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>Momentum transfer range in inverse Angstroms, expressed as min, step, max Default estimates the max range based on energy transfer.</p></td>
</tr>
<tr class="row-odd"><td><p>Processing</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>SOFQW1-Centre</p></td>
<td><p>Convert to SOFQW or save file as NXSPE, note SOFQW3 is more accurate but much slower than SOFQW1. Allowed values: [‘SOFQW1-Centre’, ‘SOFQW3-NormalisedPolygon’, ‘NXSPE’]</p></td>
</tr>
<tr class="row-even"><td><p>LambdaOnTwoMode</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>False</p></td>
<td><p>Set if instrument running in lambda on two mode.</p></td>
</tr>
<tr class="row-odd"><td><p>FrameOverlap</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>False</p></td>
<td><p>Set if the energy transfer extends over a frame.</p></td>
</tr>
<tr class="row-even"><td><p>CalibrateTOF</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>False</p></td>
<td><p>Determine the TOF correction from the elastic peak in the data.</p></td>
</tr>
<tr class="row-odd"><td><p>TOFCorrection</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>The TOF correction in usec that aligns the elastic peak.</p></td>
</tr>
<tr class="row-even"><td><p>AnalyseTubes</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>Detector tubes to be used in the data analysis.</p></td>
</tr>
<tr class="row-odd"><td><p>MaxEnergyGain</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>Energy gain in meV used to adjust the min TOF with frame overlap.</p></td>
</tr>
<tr class="row-even"><td><p>OutputWorkspace</p></td>
<td><p>Output</p></td>
<td><p><a class="reference internal" href="../concepts/Workspace.html#workspace"><span class="std std-ref">Workspace</span></a></p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>Name for the reduced workspace.</p></td>
</tr>
<tr class="row-odd"><td><p>ScratchFolder</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>Path to save and restore merged workspaces.</p></td>
</tr>
<tr class="row-even"><td><p>KeepIntermediateWorkspaces</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>False</p></td>
<td><p>Whether to keep the intermediate sample and calibration workspaces for diagnostic checks.</p></td>
</tr>
<tr class="row-odd"><td><p>ConfigurationFile</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>Optional: INI file to override default processing values. Allowed values: [‘ini’]</p></td>
</tr>
</tbody>
</table>
</section>
<section id="description">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Description</a><a class="headerlink" href="#description" title="Permalink to this heading">¶</a></h2>
<p>Reduces the data from the Pelican instrument from time of flight versus two theta to S(Q,w). Data can be corrected for background with an empty
can subtraction and normalised to vanadium (both optional). Output can be for a powder S(Q,w) or for a single crystal S(Q,w) in the latter case
an nxspe file is written. Data can be processed for the specified region of Q and w space. Data can also be processed for the lamda/2 option for
Pelican. As a default the output for a powder also includes the Q integrated data S(ω) and the energy integrated data S(Q).</p>
<p>The portion of the detector that is used is defined in the config file. A frame overlap option is also available, where for low temperature data,
a portion of the neutron energy gain spectrum can be used to extend the range of the neutron energy loss side.</p>
</section>
<section id="workflow">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Workflow</a><a class="headerlink" href="#workflow" title="Permalink to this heading">¶</a></h2>
<img alt="../_images/PelicanReduction-v1_wkflw.svg" src="../_images/PelicanReduction-v1_wkflw.svg" /></section>
<section id="usage">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">Usage</a><a class="headerlink" href="#usage" title="Permalink to this heading">¶</a></h2>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">test</span> <span class="o">=</span> <span class="n">PelicanReduction</span><span class="p">(</span><span class="s1">&#39;44464&#39;</span><span class="p">,</span> <span class="n">EnergyTransfer</span><span class="o">=</span><span class="s1">&#39;-2,0.05,2&#39;</span><span class="p">,</span> <span class="n">MomentumTransfer</span><span class="o">=</span><span class="s1">&#39;0,0.05,2&#39;</span><span class="p">,</span> <span class="n">ConfigurationFile</span><span class="o">=</span><span class="s1">&#39;pelican_doctest.ini&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Workspaces in group = </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">test</span><span class="o">.</span><span class="n">getNumberOfEntries</span><span class="p">()))</span>
<span class="n">gp</span> <span class="o">=</span> <span class="n">test</span><span class="o">.</span><span class="n">getNames</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;First workspace: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">gp</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Workspaces in group = 3
First workspace: test_qw1_1D_dE
</pre></div>
</div>
</section>
<section id="references">
<h2><a class="toc-backref" href="#id7" role="doc-backlink">References</a><a class="headerlink" href="#references" title="Permalink to this heading">¶</a></h2>
</section>
<section id="source">
<h2><a class="toc-backref" href="#id8" role="doc-backlink">Source</a><a class="headerlink" href="#source" title="Permalink to this heading">¶</a></h2>
<p>Python: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/aa570da6f199141cd8ad987bf9b9b9281a1b5e33/Framework/PythonInterface/plugins/algorithms/PelicanReduction.py">PelicanReduction.py</a></p>
<p><strong>Categories</strong>: <a class="reference external" href="categories/AlgorithmIndex.html">AlgorithmIndex</a> | <a class="reference external" href="categories/Workflow/Inelastic.html">Workflow\Inelastic</a> | <a class="reference external" href="categories/Inelastic.html">Inelastic</a> | <a class="reference external" href="categories/Inelastic/Reduction.html">Inelastic\Reduction</a></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="PelicanCrystalProcessing-v1.html" title="Previous Chapter: PelicanCrystalProcessing v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; PelicanCrysta...</span>
    </a>
  </li>
  <li>
    <a href="PerformIndexOperations-v1.html" title="Next Chapter: PerformIndexOperations v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">PerformIndexO... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>