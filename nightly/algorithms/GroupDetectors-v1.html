<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>GroupDetectors v1</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="GroupDetectors v2" href="GroupDetectors-v2.html" />
    <link rel="prev" title="GroupBySampleChangerPosition v1" href="GroupBySampleChangerPosition-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.5</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://www.mantidproject.org">Home</a></li>
                <li><a href="https://download.mantidproject.org">Download</a></li>
                <li><a href="https://docs.mantidproject.org">Documentation</a></li>
                <li><a href="https://www.mantidproject.org/contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Algorithms</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">GroupDetectors v1</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="groupdetectors-v1">
<span id="algm-groupdetectors-v1"></span><h1>GroupDetectors v1<a class="headerlink" href="#groupdetectors-v1" title="Permalink to this heading">¶</a></h1>
<figure class="align-right" id="id3">
<span id="index-0"></span><a class="screenshot reference internal image-reference" href="../_images/GroupDetectors-v1_dlg.png"><img alt="../_images/GroupDetectors-v1_dlg.png" class="screenshot" src="../_images/GroupDetectors-v1_dlg.png" style="width: 381px;" /></a>
<figcaption>
<p><span class="caption-text"><strong>GroupDetectors</strong> dialog.</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#summary" id="id4">Summary</a></p></li>
<li><p><a class="reference internal" href="#properties" id="id5">Properties</a></p></li>
<li><p><a class="reference internal" href="#description" id="id6">Description</a></p></li>
<li><p><a class="reference internal" href="#usage" id="id7">Usage</a></p>
<ul>
<li><p><a class="reference internal" href="#example-1-specifying-spectrum-numbers" id="id8">Example 1: specifying spectrum numbers</a></p>
<ul>
<li><p><a class="reference internal" href="#output" id="id9">Output</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#example-2-specifying-detctor-ids" id="id10">Example 2: specifying detctor IDs</a></p>
<ul>
<li><p><a class="reference internal" href="#id1" id="id11">Output</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#example-3-specifying-workspace-indices" id="id12">Example 3: specifying workspace indices</a></p>
<ul>
<li><p><a class="reference internal" href="#id2" id="id13">Output</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#source" id="id14">Source</a></p></li>
</ul>
</nav>
<section id="summary">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Summary</a><a class="headerlink" href="#summary" title="Permalink to this heading">¶</a></h2>
<p>Sums spectra bin-by-bin, equivalent to grouping the data from a set of detectors.  Individual groups can be specified by passing the algorithm a list of spectrum numbers, detector IDs or workspace indices. Many spectra groups can be created in one execution via an input file.</p>
</section>
<section id="properties">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Properties</a><a class="headerlink" href="#properties" title="Permalink to this heading">¶</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Direction</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Workspace</p></td>
<td><p>InOut</p></td>
<td><p><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a></p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>The name of the workspace2D on which to perform the algorithm</p></td>
</tr>
<tr class="row-odd"><td><p>SpectraList</p></td>
<td><p>Input</p></td>
<td><p>int list</p></td>
<td></td>
<td><p>An array containing a list of the indexes of the spectra to combine (DetectorList and WorkspaceIndexList are ignored if this is set)</p></td>
</tr>
<tr class="row-even"><td><p>DetectorList</p></td>
<td><p>Input</p></td>
<td><p>int list</p></td>
<td></td>
<td><p>An array of detector ID’s (WorkspaceIndexList is ignored if this is set)</p></td>
</tr>
<tr class="row-odd"><td><p>WorkspaceIndexList</p></td>
<td><p>Input</p></td>
<td><p>unsigned int list</p></td>
<td></td>
<td><p>An array of workspace indices to combine</p></td>
</tr>
<tr class="row-even"><td><p>ResultIndex</p></td>
<td><p>Output</p></td>
<td><p>number</p></td>
<td></td>
<td><p>The workspace index of the summed spectrum (or -1 on error)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="description">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">Description</a><a class="headerlink" href="#description" title="Permalink to this heading">¶</a></h2>
<p>This algorithm sums, bin-by-bin, multiple spectra into a single spectra.
The errors are summed in quadrature and the algorithm checks that the
bin boundaries in X are the same. The new summed spectra are created at
the start of the output workspace and have workspace index numbers that
start at zero and increase in the order the groups are specified. Each
new group takes the spectra number from the first input spectrum
specified for that group. All detectors from the grouped spectra will be
moved to belong to the new spectrum.</p>
<p>Not all spectra in the input workspace have to be copied to a group. If
KeepUngroupedSpectra is set to true any spectra not listed will be
copied to the output workspace after the groups in order. If
KeepUngroupedSpectra is set to false only the spectra selected to be in
a group will be used.</p>
<p>To create a single group the list of spectra can be identified using a
list of either spectrum numbers, detector IDs or workspace indices. The
list should be set against the appropriate property.</p>
<p>An input file allows the specification of many groups. The file must
have the following format* (extra space and comments starting with #
are allowed):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;unused number1&quot;</span>
<span class="s2">&quot;unused number2&quot;</span>
<span class="s2">&quot;number_of_input_spectra1&quot;</span>
<span class="s2">&quot;input spec1&quot;</span> <span class="s2">&quot;input spec2&quot;</span> <span class="s2">&quot;input spec3&quot;</span> <span class="s2">&quot;input spec4&quot;</span>
<span class="s2">&quot;input spec5 input spec6&quot;</span>
<span class="o">**</span>
<span class="s2">&quot;unused number2&quot;</span>
<span class="s2">&quot;number_of_input_spectra2&quot;</span>
<span class="s2">&quot;input spec1&quot;</span> <span class="s2">&quot;input spec2&quot;</span> <span class="s2">&quot;input spec3&quot;</span> <span class="s2">&quot;input spec4&quot;</span>
</pre></div>
</div>
<p>* each phrase in “” is replaced by a single integer</p>
<p>** the section of the file that follows is repeated once for each
group</p>
<p>Some programs require that “unused number1” is the number of groups
specified in the file but Mantid ignores that number and all groups
contained in the file are read regardless. “unused number2” is in other
implementations the group’s spectrum number but in this algorithm it is
is ignored and can be any integer (not necessarily the same integer)</p>
<p>An example of an input file follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">2</span>
<span class="mi">1</span>
<span class="mi">64</span>
<span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span> <span class="mi">5</span> <span class="mi">6</span> <span class="mi">7</span> <span class="mi">8</span> <span class="mi">9</span> <span class="mi">10</span>
<span class="mi">11</span> <span class="mi">12</span> <span class="mi">13</span> <span class="mi">14</span> <span class="mi">15</span> <span class="mi">16</span> <span class="mi">17</span> <span class="mi">18</span> <span class="mi">19</span> <span class="mi">20</span>
<span class="mi">21</span> <span class="mi">22</span> <span class="mi">23</span> <span class="mi">24</span> <span class="mi">25</span> <span class="mi">26</span> <span class="mi">27</span> <span class="mi">28</span> <span class="mi">29</span> <span class="mi">30</span>
<span class="mi">31</span> <span class="mi">32</span> <span class="mi">33</span> <span class="mi">34</span> <span class="mi">35</span> <span class="mi">36</span> <span class="mi">37</span> <span class="mi">38</span> <span class="mi">39</span> <span class="mi">40</span>
<span class="mi">41</span> <span class="mi">42</span> <span class="mi">43</span> <span class="mi">44</span> <span class="mi">45</span> <span class="mi">46</span> <span class="mi">47</span> <span class="mi">48</span> <span class="mi">49</span> <span class="mi">50</span>
<span class="mi">51</span> <span class="mi">52</span> <span class="mi">53</span> <span class="mi">54</span> <span class="mi">55</span> <span class="mi">56</span> <span class="mi">57</span> <span class="mi">58</span> <span class="mi">59</span> <span class="mi">60</span>
<span class="mi">61</span> <span class="mi">62</span> <span class="mi">63</span> <span class="mi">64</span>
<span class="mi">2</span>
<span class="mi">60</span>
<span class="mi">65</span> <span class="mi">66</span> <span class="mi">67</span> <span class="mi">68</span> <span class="mi">69</span> <span class="mi">70</span> <span class="mi">71</span> <span class="mi">72</span> <span class="mi">73</span> <span class="mi">74</span>
<span class="mi">75</span> <span class="mi">76</span> <span class="mi">77</span> <span class="mi">78</span> <span class="mi">79</span> <span class="mi">80</span> <span class="mi">81</span> <span class="mi">82</span> <span class="mi">83</span> <span class="mi">84</span>
<span class="mi">85</span> <span class="mi">86</span> <span class="mi">87</span> <span class="mi">88</span> <span class="mi">89</span> <span class="mi">90</span> <span class="mi">91</span> <span class="mi">92</span> <span class="mi">93</span> <span class="mi">94</span>
<span class="mi">95</span> <span class="mi">96</span> <span class="mi">97</span> <span class="mi">98</span> <span class="mi">99</span> <span class="mi">100</span> <span class="mi">101</span> <span class="mi">102</span> <span class="mi">103</span> <span class="mi">104</span>
<span class="mi">105</span> <span class="mi">106</span> <span class="mi">107</span> <span class="mi">108</span> <span class="mi">109</span> <span class="mi">110</span> <span class="mi">111</span> <span class="mi">112</span> <span class="mi">113</span> <span class="mi">114</span>
<span class="mi">115</span> <span class="mi">116</span> <span class="mi">117</span> <span class="mi">118</span> <span class="mi">119</span> <span class="mi">120</span> <span class="mi">121</span> <span class="mi">122</span> <span class="mi">123</span> <span class="mi">124</span>
</pre></div>
</div>
<p>In addition the following XML grouping format is also supported</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;detector-grouping&gt;</span>
  <span class="nt">&lt;group</span> <span class="na">name=</span><span class="s">&quot;fwd1&quot;</span><span class="nt">&gt;</span> <span class="nt">&lt;ids</span> <span class="na">val=</span><span class="s">&quot;1-32&quot;</span><span class="nt">/&gt;</span> <span class="nt">&lt;/group&gt;</span>
  <span class="nt">&lt;group</span> <span class="na">name=</span><span class="s">&quot;bwd1&quot;</span><span class="nt">&gt;</span> <span class="nt">&lt;ids</span> <span class="na">val=</span><span class="s">&quot;33,36,38,60-64&quot;</span><span class="nt">/&gt;</span> <span class="nt">&lt;/group&gt;</span>

  <span class="nt">&lt;group</span> <span class="na">name=</span><span class="s">&quot;fwd2&quot;</span><span class="nt">&gt;&lt;detids</span> <span class="na">val=</span><span class="s">&quot;1,2,17,32&quot;</span><span class="nt">/&gt;&lt;/group&gt;</span>
  <span class="nt">&lt;group</span> <span class="na">name=</span><span class="s">&quot;bwd2&quot;</span><span class="nt">&gt;&lt;detids</span> <span class="na">val=</span><span class="s">&quot;33,36,38,60,64&quot;</span><span class="nt">/&gt;</span> <span class="nt">&lt;/group&gt;</span>
<span class="nt">&lt;/detector-grouping&gt;</span>
</pre></div>
</div>
<p>where is used to specify spectra IDs and detector IDs.</p>
</section>
<section id="usage">
<h2><a class="toc-backref" href="#id7" role="doc-backlink">Usage</a><a class="headerlink" href="#usage" title="Permalink to this heading">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To run these usage examples please first download the
<a class="reference external" href="https://sourceforge.net/projects/mantid/files/Sample%20Data/UsageData.zip/download">usage data</a>,
and add these to your path.
In Mantid this is done using <a class="reference internal" href="../interfaces/framework/ManageUserDirectories.html#manageuserdirectories"><span class="std std-ref">Manage User Directories</span></a>.</p>
</div>
<section id="example-1-specifying-spectrum-numbers">
<h3><a class="toc-backref" href="#id8" role="doc-backlink">Example 1: specifying spectrum numbers</a><a class="headerlink" href="#example-1-specifying-spectrum-numbers" title="Permalink to this heading">¶</a></h3>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a workspace filled with a constant value = 0.3</span>
<span class="n">ws</span><span class="o">=</span><span class="n">CreateSampleWorkspace</span><span class="p">()</span>
<span class="c1"># Group detectors using a list of spectrum numbers</span>
<span class="n">group_index</span> <span class="o">=</span> <span class="n">GroupDetectors</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span><span class="n">SpectraList</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span><span class="n">Version</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># The specified spectra are grouped and saved into the same workspace.</span>
<span class="c1"># The returned value is an index in ws which contains the created group.</span>

<span class="c1"># Check the result</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The workspace still has </span><span class="si">{}</span><span class="s1"> spectra&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ws</span><span class="o">.</span><span class="n">getNumberHistograms</span><span class="p">()))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The group is in the </span><span class="si">{}</span><span class="s1"> -th spectrum&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">group_index</span><span class="p">))</span>

<span class="c1"># Get detector IDs in the group</span>
<span class="n">grp_ids</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">getSpectrum</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">getDetectorIDs</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Number of grouped detectors is </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">grp_ids</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Detector IDs: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">grp_ids</span><span class="p">))</span>

<span class="c1"># The other 2 spectra that were included in the group contain no data</span>
<span class="n">grp_ids</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">getSpectrum</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">getDetectorIDs</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Number of detectors is </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">grp_ids</span><span class="p">)))</span>
<span class="n">grp_ids</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">getSpectrum</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">getDetectorIDs</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Number of detectors is </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">grp_ids</span><span class="p">)))</span>

<span class="c1"># The rest of the spectra are unchanged</span>
<span class="n">grp_ids</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">getSpectrum</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">getDetectorIDs</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Number of detectors is </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">grp_ids</span><span class="p">)))</span>
<span class="n">grp_ids</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">getSpectrum</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">getDetectorIDs</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Number of detectors is </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">grp_ids</span><span class="p">)))</span>
<span class="n">grp_ids</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">getSpectrum</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">getDetectorIDs</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Number of detectors is </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">grp_ids</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;...&#39;</span><span class="p">)</span>
<span class="n">grp_ids</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">getSpectrum</span><span class="p">(</span><span class="mi">199</span><span class="p">)</span><span class="o">.</span><span class="n">getDetectorIDs</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Number of detectors is </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">grp_ids</span><span class="p">)))</span>
</pre></div>
</div>
<section id="output">
<h4><a class="toc-backref" href="#id9" role="doc-backlink">Output</a><a class="headerlink" href="#output" title="Permalink to this heading">¶</a></h4>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>The workspace still has 200 spectra
The group is in the 0 -th spectrum
Number of grouped detectors is 3
Detector IDs: set(100,102,104)
Number of detectors is 0
Number of detectors is 0
Number of detectors is 1
Number of detectors is 1
Number of detectors is 1
...
Number of detectors is 1
</pre></div>
</div>
</section>
</section>
<section id="example-2-specifying-detctor-ids">
<h3><a class="toc-backref" href="#id10" role="doc-backlink">Example 2: specifying detctor IDs</a><a class="headerlink" href="#example-2-specifying-detctor-ids" title="Permalink to this heading">¶</a></h3>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a workspace filled with a constant value = 0.3</span>
<span class="n">ws</span><span class="o">=</span><span class="n">CreateSampleWorkspace</span><span class="p">()</span>
<span class="c1"># Group detectots using a list of detctor IDs</span>
<span class="n">group_index</span> <span class="o">=</span> <span class="n">GroupDetectors</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span><span class="n">DetectorList</span><span class="o">=</span><span class="p">[</span><span class="mi">100</span><span class="p">,</span><span class="mi">102</span><span class="p">,</span><span class="mi">104</span><span class="p">],</span><span class="n">Version</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># The specified spectra are grouped and saved into the same workspace.</span>
<span class="c1"># The returned value is an index in ws which contains the created group.</span>

<span class="c1"># Check the result</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The workspace still has </span><span class="si">{}</span><span class="s1"> spectra&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ws</span><span class="o">.</span><span class="n">getNumberHistograms</span><span class="p">()))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The group is in the </span><span class="si">{}</span><span class="s1"> -th spectrum&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">group_index</span><span class="p">))</span>


<span class="c1"># Get detector IDs in the group</span>
<span class="n">grp_ids</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">getSpectrum</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">getDetectorIDs</span><span class="p">()</span>
<span class="nb">print</span> <span class="p">(</span><span class="s1">&#39;Number of grouped detectors is </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">grp_ids</span><span class="p">)))</span>
<span class="nb">print</span> <span class="p">(</span><span class="s1">&#39;Detector IDs: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">grp_ids</span><span class="p">))</span>

<span class="c1"># The other 2 spectra that were included in the group contain no data</span>
<span class="n">grp_ids</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">getSpectrum</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">getDetectorIDs</span><span class="p">()</span>
<span class="nb">print</span> <span class="p">(</span><span class="s1">&#39;Number of detectors is </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">grp_ids</span><span class="p">)))</span>
<span class="n">grp_ids</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">getSpectrum</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">getDetectorIDs</span><span class="p">()</span>
<span class="nb">print</span> <span class="p">(</span><span class="s1">&#39;Number of detectors is </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">grp_ids</span><span class="p">)))</span>

<span class="c1"># The rest of the spectra are unchanged</span>
<span class="n">grp_ids</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">getSpectrum</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">getDetectorIDs</span><span class="p">()</span>
<span class="nb">print</span> <span class="p">(</span><span class="s1">&#39;Number of detectors is </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">grp_ids</span><span class="p">)))</span>
<span class="n">grp_ids</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">getSpectrum</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">getDetectorIDs</span><span class="p">()</span>
<span class="nb">print</span> <span class="p">(</span><span class="s1">&#39;Number of detectors is </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">grp_ids</span><span class="p">)))</span>
<span class="n">grp_ids</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">getSpectrum</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">getDetectorIDs</span><span class="p">()</span>
<span class="nb">print</span> <span class="p">(</span><span class="s1">&#39;Number of detectors is </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">grp_ids</span><span class="p">)))</span>
<span class="nb">print</span> <span class="p">(</span><span class="s1">&#39;...&#39;</span><span class="p">)</span>
<span class="n">grp_ids</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">getSpectrum</span><span class="p">(</span><span class="mi">199</span><span class="p">)</span><span class="o">.</span><span class="n">getDetectorIDs</span><span class="p">()</span>
<span class="nb">print</span> <span class="p">(</span><span class="s1">&#39;Number of detectors is </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">grp_ids</span><span class="p">)))</span>
</pre></div>
</div>
<section id="id1">
<h4><a class="toc-backref" href="#id11" role="doc-backlink">Output</a><a class="headerlink" href="#id1" title="Permalink to this heading">¶</a></h4>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>The workspace still has 200 spectra
The group is in the 0 -th spectrum
Number of grouped detectors is 3
Detector IDs: set(100,102,104)
Number of detectors is 0
Number of detectors is 0
Number of detectors is 1
Number of detectors is 1
Number of detectors is 1
...
Number of detectors is 1
</pre></div>
</div>
</section>
</section>
<section id="example-3-specifying-workspace-indices">
<h3><a class="toc-backref" href="#id12" role="doc-backlink">Example 3: specifying workspace indices</a><a class="headerlink" href="#example-3-specifying-workspace-indices" title="Permalink to this heading">¶</a></h3>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a workspace filled with a constant value = 0.3</span>
<span class="n">ws</span><span class="o">=</span><span class="n">CreateSampleWorkspace</span><span class="p">()</span>
<span class="c1"># Group detectots using a list of workspace indices</span>
<span class="n">group_index</span> <span class="o">=</span> <span class="n">GroupDetectors</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span><span class="n">WorkspaceIndexList</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span><span class="n">Version</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># The specified spectra are grouped and saved into the same workspace.</span>
<span class="c1"># The returned value is an index in ws which contains the created group.</span>

<span class="c1"># Check the result</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The workspace still has </span><span class="si">{}</span><span class="s1"> spectra&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ws</span><span class="o">.</span><span class="n">getNumberHistograms</span><span class="p">()))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The group is in the </span><span class="si">{}</span><span class="s1"> -th spectrum&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">group_index</span><span class="p">))</span>


<span class="c1"># Get detector IDs in the group</span>
<span class="n">grp_ids</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">getSpectrum</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">getDetectorIDs</span><span class="p">()</span>
<span class="nb">print</span> <span class="p">(</span><span class="s1">&#39;Number of grouped detectors is </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">grp_ids</span><span class="p">)))</span>
<span class="nb">print</span> <span class="p">(</span><span class="s1">&#39;Detector IDs: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">grp_ids</span><span class="p">))</span>

<span class="c1"># The other 2 spectra that were included in the group contain no data</span>
<span class="n">grp_ids</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">getSpectrum</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">getDetectorIDs</span><span class="p">()</span>
<span class="nb">print</span> <span class="p">(</span><span class="s1">&#39;Number of detectors is </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">grp_ids</span><span class="p">)))</span>
<span class="n">grp_ids</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">getSpectrum</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">getDetectorIDs</span><span class="p">()</span>
<span class="nb">print</span> <span class="p">(</span><span class="s1">&#39;Number of detectors is </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">grp_ids</span><span class="p">)))</span>

<span class="c1"># The rest of the spectra are unchanged</span>
<span class="n">grp_ids</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">getSpectrum</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">getDetectorIDs</span><span class="p">()</span>
<span class="nb">print</span> <span class="p">(</span><span class="s1">&#39;Number of detectors is </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">grp_ids</span><span class="p">)))</span>
<span class="n">grp_ids</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">getSpectrum</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">getDetectorIDs</span><span class="p">()</span>
<span class="nb">print</span> <span class="p">(</span><span class="s1">&#39;Number of detectors is </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">grp_ids</span><span class="p">)))</span>
<span class="n">grp_ids</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">getSpectrum</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">getDetectorIDs</span><span class="p">()</span>
<span class="nb">print</span> <span class="p">(</span><span class="s1">&#39;Number of detectors is </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">grp_ids</span><span class="p">)))</span>
<span class="nb">print</span> <span class="p">(</span><span class="s1">&#39;...&#39;</span><span class="p">)</span>
<span class="n">grp_ids</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">getSpectrum</span><span class="p">(</span><span class="mi">199</span><span class="p">)</span><span class="o">.</span><span class="n">getDetectorIDs</span><span class="p">()</span>
<span class="nb">print</span> <span class="p">(</span><span class="s1">&#39;Number of detectors is </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">grp_ids</span><span class="p">)))</span>
</pre></div>
</div>
<section id="id2">
<h4><a class="toc-backref" href="#id13" role="doc-backlink">Output</a><a class="headerlink" href="#id2" title="Permalink to this heading">¶</a></h4>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>The workspace still has 200 spectra
The group is in the 0 -th spectrum
Number of grouped detectors is 3
Detector IDs: set(100,102,104)
Number of detectors is 0
Number of detectors is 0
Number of detectors is 1
Number of detectors is 1
Number of detectors is 1
...
Number of detectors is 1
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/AlgorithmIndex.html">AlgorithmIndex</a> | <a class="reference external" href="categories/Transforms/Grouping.html">Transforms\Grouping</a></p>
</section>
</section>
</section>
<section id="source">
<h2><a class="toc-backref" href="#id14" role="doc-backlink">Source</a><a class="headerlink" href="#source" title="Permalink to this heading">¶</a></h2>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/aa570da6f199141cd8ad987bf9b9b9281a1b5e33/Framework/DataHandling/inc/MantidDataHandling/GroupDetectors.h">GroupDetectors.h</a></p>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/aa570da6f199141cd8ad987bf9b9b9281a1b5e33/Framework/DataHandling/src/GroupDetectors.cpp">GroupDetectors.cpp</a></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="GroupBySampleChangerPosition-v1.html" title="Previous Chapter: GroupBySampleChangerPosition v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; GroupBySample...</span>
    </a>
  </li>
  <li>
    <a href="GroupDetectors-v2.html" title="Next Chapter: GroupDetectors v2"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">GroupDetectors v2 &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>