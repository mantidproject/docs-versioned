<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>CalculateTransmission v1</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="CalculateTransmissionBeamSpreader v1" href="CalculateTransmissionBeamSpreader-v1.html" />
    <link rel="prev" title="CalculateSlits v1" href="CalculateSlits-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.5</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://www.mantidproject.org">Home</a></li>
                <li><a href="https://download.mantidproject.org">Download</a></li>
                <li><a href="https://docs.mantidproject.org">Documentation</a></li>
                <li><a href="https://www.mantidproject.org/contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Algorithms</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">CalculateTransmission v1</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="calculatetransmission-v1">
<span id="algm-calculatetransmission"></span><span id="algm-calculatetransmission-v1"></span><h1>CalculateTransmission v1<a class="headerlink" href="#calculatetransmission-v1" title="Permalink to this heading">¶</a></h1>
<figure class="align-right" id="id1">
<span id="index-0"></span><a class="screenshot reference internal image-reference" href="../_images/CalculateTransmission-v1_dlg.png"><img alt="../_images/CalculateTransmission-v1_dlg.png" class="screenshot" src="../_images/CalculateTransmission-v1_dlg.png" style="width: 349px;" /></a>
<figcaption>
<p><span class="caption-text"><strong>CalculateTransmission</strong> dialog.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#summary" id="id2">Summary</a></p>
<ul>
<li><p><a class="reference internal" href="#see-also" id="id3">See Also</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#properties" id="id4">Properties</a></p></li>
<li><p><a class="reference internal" href="#description" id="id5">Description</a></p>
<ul>
<li><p><a class="reference internal" href="#childalgorithms-used" id="id6">ChildAlgorithms used</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#source" id="id7">Source</a></p></li>
</ul>
</nav>
<section id="summary">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Summary</a><a class="headerlink" href="#summary" title="Permalink to this heading">¶</a></h2>
<p>Calculates the transmission correction, as a function of wavelength, for a SANS instrument.</p>
<section id="see-also">
<h3><a class="toc-backref" href="#id3" role="doc-backlink">See Also</a><a class="headerlink" href="#see-also" title="Permalink to this heading">¶</a></h3>
<p><a class="reference internal" href="CalculateTransmissionBeamSpreader-v1.html#algm-calculatetransmissionbeamspreader"><span class="std std-ref">CalculateTransmissionBeamSpreader</span></a>, <a class="reference internal" href="ApplyTransmissionCorrection-v1.html#algm-applytransmissioncorrection"><span class="std std-ref">ApplyTransmissionCorrection</span></a></p>
</section>
</section>
<section id="properties">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Properties</a><a class="headerlink" href="#properties" title="Permalink to this heading">¶</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Direction</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>SampleRunWorkspace</p></td>
<td><p>Input</p></td>
<td><p><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a></p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>The workspace containing the sample transmission run. Must have common binning and be in units of wavelength.</p></td>
</tr>
<tr class="row-odd"><td><p>DirectRunWorkspace</p></td>
<td><p>Input</p></td>
<td><p><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a></p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>The workspace containing the direct beam (no sample) transmission run. The units and binning must match those of the SampleRunWorkspace.</p></td>
</tr>
<tr class="row-even"><td><p>OutputWorkspace</p></td>
<td><p>Output</p></td>
<td><p><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a></p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>The name of the workspace in which to store the fitted transmission fractions.</p></td>
</tr>
<tr class="row-odd"><td><p>IncidentBeamMonitor</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p><em>Optional</em></p></td>
<td><p>The UDET of the incident beam monitor</p></td>
</tr>
<tr class="row-even"><td><p>TransmissionMonitor</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p><em>Optional</em></p></td>
<td><p>The UDET of the transmission monitor</p></td>
</tr>
<tr class="row-odd"><td><p>RebinParams</p></td>
<td><p>Input</p></td>
<td><p>dbl list</p></td>
<td></td>
<td><p>A comma separated list of first bin boundary, width, last bin boundary. Optionally this can be followed by a comma and more widths and last boundary pairs. Negative width values indicate logarithmic binning.</p></td>
</tr>
<tr class="row-even"><td><p>FitMethod</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>Log</p></td>
<td><p>Whether to fit directly to the transmission curve using Linear, Log or Polynomial. Allowed values: [‘Linear’, ‘Log’, ‘Polynomial’]</p></td>
</tr>
<tr class="row-odd"><td><p>PolynomialOrder</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>2</p></td>
<td><p>Order of the polynomial to fit. It is considered only for FitMethod=Polynomial</p></td>
</tr>
<tr class="row-even"><td><p>OutputUnfittedData</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>False</p></td>
<td><p>If True, will output an additional workspace called [OutputWorkspace]_unfitted containing the unfitted transmission correction.</p></td>
</tr>
<tr class="row-odd"><td><p>TransmissionROI</p></td>
<td><p>Input</p></td>
<td><p>int list</p></td>
<td></td>
<td><p>An optional ArrayProperty containing a list of detector ID’s.  These specify a region of interest which is to be summed and then used instead of a transmission monitor. This allows for a “beam stop out” method of transmission calculation.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="description">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Description</a><a class="headerlink" href="#description" title="Permalink to this heading">¶</a></h2>
<p>Calculates the probability of a neutron being transmitted through the
sample using detected counts from two monitors, one in front and one
behind the sample. A data workspace can be corrected for transmission by
<a class="reference internal" href="Divide-v1.html#algm-divide"><span class="std std-ref">dividing</span></a> by the output of this algorithm.</p>
<p>Because the detection efficiency of the monitors can be different the
transmission calculation is done using two runs, one run with the sample
(represented by <span class="math notranslate nohighlight">\(S\)</span> below) and a direct run without
it (<span class="math notranslate nohighlight">\(D\)</span>). The fraction transmitted through the sample <span class="math notranslate nohighlight">\(f\)</span> is calculated from this formula:</p>
<p>where <span class="math notranslate nohighlight">\(S_I\)</span> is the number of counts from the monitor in front of
the sample (the incident beam monitor), <span class="math notranslate nohighlight">\(S_T\)</span> is the transmission
monitor after the sample, etc.</p>
<p>The resulting fraction as a function of wavelength is created as the
OutputUnfittedData workspace. However, because of statistical variations
it is recommended to use the OutputWorkspace, which is the evaluation of
a fit to those transmission fractions. The unfitted data is not affected
by the RebinParams or Fitmethod properties but these can be used to
refine the fitted data. The RebinParams method is useful when the range
of wavelengths passed to CalculateTransmission is different from that of
the data to be corrected.</p>
<section id="childalgorithms-used">
<h3><a class="toc-backref" href="#id6" role="doc-backlink">ChildAlgorithms used</a><a class="headerlink" href="#childalgorithms-used" title="Permalink to this heading">¶</a></h3>
<p>Uses the algorithm <a class="reference internal" href="Fit-v1.html#algm-fit"><span class="std std-ref">Fit</span></a> to fit to the calculated
transmission fraction.</p>
<p><strong>Categories</strong>: <a class="reference external" href="categories/AlgorithmIndex.html">AlgorithmIndex</a> | <a class="reference external" href="categories/SANS.html">SANS</a> | <a class="reference external" href="categories/CorrectionFunctions/TransmissionCorrections.html">CorrectionFunctions\TransmissionCorrections</a></p>
</section>
</section>
<section id="source">
<h2><a class="toc-backref" href="#id7" role="doc-backlink">Source</a><a class="headerlink" href="#source" title="Permalink to this heading">¶</a></h2>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/aa570da6f199141cd8ad987bf9b9b9281a1b5e33/Framework/Algorithms/inc/MantidAlgorithms/CalculateTransmission.h">CalculateTransmission.h</a></p>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/aa570da6f199141cd8ad987bf9b9b9281a1b5e33/Framework/Algorithms/src/CalculateTransmission.cpp">CalculateTransmission.cpp</a></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="CalculateSlits-v1.html" title="Previous Chapter: CalculateSlits v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; CalculateSlits v1</span>
    </a>
  </li>
  <li>
    <a href="CalculateTransmissionBeamSpreader-v1.html" title="Next Chapter: CalculateTransmissionBeamSpreader v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">CalculateTran... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>