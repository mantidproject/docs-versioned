<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>PredictPeaks v1</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="PredictSatellitePeaks v1" href="PredictSatellitePeaks-v1.html" />
    <link rel="prev" title="PredictFractionalPeaks v1" href="PredictFractionalPeaks-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.5</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://www.mantidproject.org">Home</a></li>
                <li><a href="https://download.mantidproject.org">Download</a></li>
                <li><a href="https://docs.mantidproject.org">Documentation</a></li>
                <li><a href="https://www.mantidproject.org/contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Algorithms</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">PredictPeaks v1</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="predictpeaks-v1">
<span id="algm-predictpeaks"></span><span id="algm-predictpeaks-v1"></span><h1>PredictPeaks v1<a class="headerlink" href="#predictpeaks-v1" title="Permalink to this heading">¶</a></h1>
<figure class="align-right" id="id1">
<span id="index-0"></span><a class="screenshot reference internal image-reference" href="../_images/PredictPeaks-v1_dlg.png"><img alt="../_images/PredictPeaks-v1_dlg.png" class="screenshot" src="../_images/PredictPeaks-v1_dlg.png" style="width: 349px;" /></a>
<figcaption>
<p><span class="caption-text"><strong>PredictPeaks</strong> dialog.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#summary" id="id2">Summary</a></p>
<ul>
<li><p><a class="reference internal" href="#see-also" id="id3">See Also</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#properties" id="id4">Properties</a></p></li>
<li><p><a class="reference internal" href="#description" id="id5">Description</a></p>
<ul>
<li><p><a class="reference internal" href="#using-hklpeaksworkspace" id="id6">Using HKLPeaksWorkspace</a></p></li>
<li><p><a class="reference internal" href="#calculate-goniometer-for-constant-wavelength" id="id7">Calculate Goniometer For Constant Wavelength</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#source" id="id8">Source</a></p></li>
</ul>
</nav>
<section id="summary">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Summary</a><a class="headerlink" href="#summary" title="Permalink to this heading">¶</a></h2>
<p>Using a known crystal lattice and UB matrix, predict where single crystal peaks should be found in detector/TOF space. Creates a PeaksWorkspace containing the peaks at the expected positions.</p>
<section id="see-also">
<h3><a class="toc-backref" href="#id3" role="doc-backlink">See Also</a><a class="headerlink" href="#see-also" title="Permalink to this heading">¶</a></h3>
<p><a class="reference internal" href="CountReflections-v1.html#algm-countreflections"><span class="std std-ref">CountReflections</span></a>, <a class="reference internal" href="PredictFractionalPeaks-v1.html#algm-predictfractionalpeaks"><span class="std std-ref">PredictFractionalPeaks</span></a></p>
</section>
</section>
<section id="properties">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Properties</a><a class="headerlink" href="#properties" title="Permalink to this heading">¶</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Direction</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>InputWorkspace</p></td>
<td><p>Input</p></td>
<td><p><a class="reference internal" href="../concepts/Workspace.html#workspace"><span class="std std-ref">Workspace</span></a></p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>An input workspace (MatrixWorkspace, MDEventWorkspace, or PeaksWorkspace) containing:   - The relevant Instrument (calibrated as needed).   - A sample with a UB matrix.   - The goniometer rotation matrix.</p></td>
</tr>
<tr class="row-odd"><td><p>WavelengthMin</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>0.1</p></td>
<td><p>Minimum wavelength limit at which to start looking for single-crystal peaks.</p></td>
</tr>
<tr class="row-even"><td><p>WavelengthMax</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>100</p></td>
<td><p>Maximum wavelength limit at which to stop looking for single-crystal peaks.</p></td>
</tr>
<tr class="row-odd"><td><p>MinDSpacing</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>1</p></td>
<td><p>Minimum d-spacing of peaks to consider. Default = 1.0</p></td>
</tr>
<tr class="row-even"><td><p>MaxDSpacing</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>100</p></td>
<td><p>Maximum d-spacing of peaks to consider.</p></td>
</tr>
<tr class="row-odd"><td><p>CalculateGoniometerForCW</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>False</p></td>
<td><p>This will calculate the goniometer rotation (around y-axis only) for a constant wavelength.</p></td>
</tr>
<tr class="row-even"><td><p>Wavelength</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p><em>Optional</em></p></td>
<td><p>Wavelength to use when calculating goniometer angle</p></td>
</tr>
<tr class="row-odd"><td><p>InnerGoniometer</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>False</p></td>
<td><p>Whether the goniometer to be calculated is the most inner (phi) or most outer (omega)</p></td>
</tr>
<tr class="row-even"><td><p>FlipX</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>False</p></td>
<td><p>Used when calculating goniometer angle if the q_lab x value should be negative, hence the detector of the other side (right) of the beam</p></td>
</tr>
<tr class="row-odd"><td><p>MinAngle</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>-180</p></td>
<td><p>Minimum goniometer rotation angle</p></td>
</tr>
<tr class="row-even"><td><p>MaxAngle</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>180</p></td>
<td><p>Maximum goniometer rotation angle</p></td>
</tr>
<tr class="row-odd"><td><p>ReflectionCondition</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>Primitive</p></td>
<td><p>Which reflection condition applies to this crystal, reducing the number of expected HKL peaks? Allowed values: [‘Primitive’, ‘C-face centred’, ‘A-face centred’, ‘B-face centred’, ‘Body centred’, ‘All-face centred’, ‘Rhombohedrally centred, obverse’, ‘Rhombohedrally centred, reverse’, ‘Hexagonally centred, reverse’]</p></td>
</tr>
<tr class="row-even"><td><p>CalculateStructureFactors</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>False</p></td>
<td><p>Calculate structure factors for the predicted peaks. This option only works if the sample of the input workspace has a crystal structure assigned.</p></td>
</tr>
<tr class="row-odd"><td><p>HKLPeaksWorkspace</p></td>
<td><p>Input</p></td>
<td><p>IPeaksWorkspace</p></td>
<td></td>
<td><p>Optional: An input PeaksWorkspace with the HKL of the peaks that we should predict.  The WavelengthMin/Max and Min/MaxDSpacing parameters are unused if this is specified.</p></td>
</tr>
<tr class="row-even"><td><p>RoundHKL</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>True</p></td>
<td><p>When using HKLPeaksWorkspace, this will round the HKL values in the HKLPeaksWorkspace to the nearest integers if checked. Keep unchecked to use the original values</p></td>
</tr>
<tr class="row-odd"><td><p>OutputType</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>Peak</p></td>
<td><p>Type of Peak in OutputWorkspace. Allowed values: [‘Peak’, ‘LeanElasticPeak’]</p></td>
</tr>
<tr class="row-even"><td><p>CalculateWavelength</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>True</p></td>
<td><p>When OutputType is LeanElasticPeak you can choose to calculate the wavelength of the peak using the instrument and check it is in the valid range or alternatively just accept every peak while not setting the goniometer (Q-lab will be incorrect).</p></td>
</tr>
<tr class="row-odd"><td><p>OutputWorkspace</p></td>
<td><p>Output</p></td>
<td><p>IPeaksWorkspace</p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>An output PeaksWorkspace.</p></td>
</tr>
<tr class="row-even"><td><p>PredictPeaksOutsideDetectors</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>False</p></td>
<td><p>Use an extended detector space (if defined for the instrument) to predict peaks which do not fall onto anydetector. This may produce a very high number of results.</p></td>
</tr>
<tr class="row-odd"><td><p>EdgePixels</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>0</p></td>
<td><p>Remove peaks that are at pixels this close to edge.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="description">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Description</a><a class="headerlink" href="#description" title="Permalink to this heading">¶</a></h2>
<p>This algorithm will predict the position of single-crystal diffraction
peaks (both in detector position/TOF and Q-space) and create an output
<a class="reference internal" href="../concepts/PeaksWorkspace.html#peaksworkspace"><span class="std std-ref">PeaksWorkspace</span></a> containing the result when
<cite>OutputType</cite> is set to <cite>Peak</cite>, otherwise a
<a class="reference internal" href="../concepts/LeanElasticPeaksWorkspace.html#leanelasticpeaksworkspace"><span class="std std-ref">LeanElasticPeaksWorkspace</span></a> will be
created that only has the Q-space positions.</p>
<p>This algorithm uses the InputWorkspace to determine the instrument in
use, as well as the <a class="reference internal" href="../concepts/Lattice.html#lattice"><span class="std std-ref">UB matrix</span></a> and Unit Cell of the
sample used. You can use the <a class="reference internal" href="CopySample-v1.html#algm-copysample"><span class="std std-ref">CopySample v1</span></a> algorithm (with
<code class="docutils literal notranslate"><span class="pre">CopyLattice=1</span></code>) to copy a <a class="reference internal" href="../concepts/Lattice.html#lattice"><span class="std std-ref">UB matrix</span></a> from a
PeaksWorkspace to another workspace.</p>
<p>The algorithm operates by calculating the scattering direction (given
the <a class="reference internal" href="../concepts/Lattice.html#lattice"><span class="std std-ref">UB matrix</span></a>) for a particular HKL, and determining
whether that hits a detector. The Max/MinDSpacing parameters are used
to determine what HKL’s to try.</p>
<p>The parameters of WavelengthMin/WavelengthMax also limit the peaks
attempted to those that can be detected/produced by your instrument.</p>
<p>Furthermore it’s possible to calculate structure factors for the
predicted peaks by activating the CalculateStructureFactors-option.
For this to work the sample needs to have a crystal structure stored,
which can currently be achieved as in the following example:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mantid.geometry</span> <span class="kn">import</span> <span class="n">CrystalStructure</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># Generate a workspace with an instrument definition</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">CreateSimulationWorkspace</span><span class="p">(</span><span class="n">Instrument</span><span class="o">=</span><span class="s1">&#39;WISH&#39;</span><span class="p">,</span>
                               <span class="n">BinParams</span><span class="o">=</span><span class="s1">&#39;0,10000,20000&#39;</span><span class="p">,</span>
                               <span class="n">UnitX</span><span class="o">=</span><span class="s1">&#39;TOF&#39;</span><span class="p">)</span>

<span class="c1"># Set a random UB, in this case for an orthorhombic structure</span>
<span class="n">SetUB</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="mf">5.5</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mf">6.5</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mf">8.1</span><span class="p">,</span> <span class="n">u</span><span class="o">=</span><span class="s1">&#39;12,1,1&#39;</span><span class="p">,</span> <span class="n">v</span><span class="o">=</span><span class="s1">&#39;0,4,9&#39;</span><span class="p">)</span>

<span class="c1"># Set an arbitrary crystal structure with 2 atoms and some</span>
<span class="c1"># systematic absences due to space group Pbca</span>
<span class="n">cs</span> <span class="o">=</span> <span class="n">CrystalStructure</span><span class="p">(</span><span class="s1">&#39;5.5 6.5 8.1&#39;</span><span class="p">,</span> <span class="s1">&#39;P b c a&#39;</span><span class="p">,</span>
                      <span class="sd">&quot;&quot;&quot;Ni 0.232 0.114 0.543 1.0 0.00843;</span>
<span class="sd">                         Al 0.434 0.041 0.854 1.0 0.01120&quot;&quot;&quot;</span><span class="p">)</span>
<span class="n">ws</span><span class="o">.</span><span class="n">sample</span><span class="p">()</span><span class="o">.</span><span class="n">setCrystalStructure</span><span class="p">(</span><span class="n">cs</span><span class="p">)</span>

<span class="n">predicted</span> <span class="o">=</span> <span class="n">PredictPeaks</span><span class="p">(</span><span class="n">InputWorkspace</span><span class="o">=</span><span class="n">ws</span><span class="p">,</span>
                         <span class="n">CalculateStructureFactors</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                         <span class="n">MinDSpacing</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
                         <span class="n">WavelengthMin</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">WavelengthMax</span><span class="o">=</span><span class="mf">6.0</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;There are </span><span class="si">{}</span><span class="s1"> detectable peaks.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">predicted</span><span class="o">.</span><span class="n">getNumberPeaks</span><span class="p">()))</span>

<span class="n">intensities</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">predicted</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="s1">&#39;Intens&#39;</span><span class="p">))</span>
<span class="n">maxIntensity</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">intensities</span><span class="p">)</span>
<span class="n">relativeIntensities</span> <span class="o">=</span> <span class="n">intensities</span> <span class="o">/</span> <span class="n">maxIntensity</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Maximum intensity: </span><span class="si">{0:.2f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">maxIntensity</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Peaks with relative intensity &lt; 1%: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">([</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">relativeIntensities</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mf">0.01</span><span class="p">])))</span>

<span class="n">absences</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">intensities</span><span class="p">)</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mf">1e-9</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Number of absences: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">absences</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Absent HKLs: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">([</span><span class="n">predicted</span><span class="o">.</span><span class="n">getPeak</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">getHKL</span><span class="p">()</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">absences</span><span class="p">]))</span>
</pre></div>
</div>
<p>The script provides some information about the predicted peaks and
their structure factors. Additionally it prints out the HKL of peaks
with predicted structure factor very close to 0, which are absent:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>There are 295 detectable peaks.
Maximum intensity: 6101.93
Peaks with relative intensity &lt; 1%: 94
Number of absences: 16
Absent HKLs: [[2,0,-1], [6,0,-3], [10,0,-5], [3,0,-1], [4,0,-1], [5,0,-1], [6,0,-1], [7,0,-3], [7,0,-1], [8,0,-3], [8,0,-1], [9,-1,0], [9,0,-3], [9,0,-1], [10,0,-3], [10,0,-1]]
</pre></div>
</div>
<p>All absent HKLs have the form H0L with odd L. This fits with the reflection
conditions given for <span class="math notranslate nohighlight">\(Pbca\)</span> in the International Tables for Crystallography A.</p>
<p>Please note that the calculated structure factors are currently not
corrected for any instrument effects, so depending on instrument
geometry and other factors (detector efficiency etc.) measured intensities
will deviate from these values. They can however provide an estimate
for which reflections might be especially strong or weak.</p>
<section id="using-hklpeaksworkspace">
<h3><a class="toc-backref" href="#id6" role="doc-backlink">Using HKLPeaksWorkspace</a><a class="headerlink" href="#using-hklpeaksworkspace" title="Permalink to this heading">¶</a></h3>
<p>If you specify the HKLPeaksWorkspace parameter, then the algorithm will
use the list of HKL in that workspace as the starting point of HKLs,
instead of doing all HKLs within range of Max/MinDSpacing and
WavelengthMin/WavelengthMax.</p>
<p>A typical use case for this method is to use
<a class="reference internal" href="FindPeaksMD-v1.html#algm-findpeaksmd"><span class="std std-ref">FindPeaksMD v1</span></a> followed by <a class="reference internal" href="IndexPeaks-v1.html#algm-indexpeaks"><span class="std std-ref">IndexPeaks v1</span></a> to
find the HKL of each peak. The HKLs found will be floats, so specify
RoundHKL=True in PredictPeaks to predict the position at the exact
integer HKL. This may help locate the center of peaks.</p>
<p>Another way to use this algorithm is to use
<a class="reference internal" href="CreatePeaksWorkspace-v1.html#algm-createpeaksworkspace"><span class="std std-ref">CreatePeaksWorkspace v1</span></a> to create a workspace
with the desired number of peaks. Use python or the GUI to enter the
desired HKLs. If these are fraction (e.g. magnetic peaks) then make sure
RoundHKL=False.</p>
</section>
<section id="calculate-goniometer-for-constant-wavelength">
<h3><a class="toc-backref" href="#id7" role="doc-backlink">Calculate Goniometer For Constant Wavelength</a><a class="headerlink" href="#calculate-goniometer-for-constant-wavelength" title="Permalink to this heading">¶</a></h3>
<p>If you select the “CalculateGoniometerForCW” option instead of using
the goniometer from the input workspace it will calculate the
goniometer rotation, assuming a constant wavelength and that the
rotation is around the y-axis only. For details on the calculation see
“Calculate Goniometer For Constant Wavelength” at <a class="reference internal" href="FindPeaksMD-v1.html#algm-findpeaksmd"><span class="std std-ref">FindPeaksMD</span></a>.</p>
<p><strong>Categories</strong>: <a class="reference external" href="categories/AlgorithmIndex.html">AlgorithmIndex</a> | <a class="reference external" href="categories/Crystal/Peaks.html">Crystal\Peaks</a></p>
</section>
</section>
<section id="source">
<h2><a class="toc-backref" href="#id8" role="doc-backlink">Source</a><a class="headerlink" href="#source" title="Permalink to this heading">¶</a></h2>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/13e7f0547cfe096095781821611f9c6151283ad7/Framework/Crystal/inc/MantidCrystal/PredictPeaks.h">PredictPeaks.h</a></p>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/13e7f0547cfe096095781821611f9c6151283ad7/Framework/Crystal/src/PredictPeaks.cpp">PredictPeaks.cpp</a></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="PredictFractionalPeaks-v1.html" title="Previous Chapter: PredictFractionalPeaks v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; PredictFracti...</span>
    </a>
  </li>
  <li>
    <a href="PredictSatellitePeaks-v1.html" title="Next Chapter: PredictSatellitePeaks v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">PredictSatell... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>