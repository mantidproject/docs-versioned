<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>PowderReduceP2D v1</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Power v1" href="Power-v1.html" />
    <link rel="prev" title="PowderILLParameterScan v1" href="PowderILLParameterScan-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.5</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://www.mantidproject.org">Home</a></li>
                <li><a href="https://download.mantidproject.org">Download</a></li>
                <li><a href="https://docs.mantidproject.org">Documentation</a></li>
                <li><a href="https://www.mantidproject.org/contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Algorithms</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">PowderReduceP2D v1</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="powderreducep2d-v1">
<span id="algm-powderreducep2d"></span><span id="algm-powderreducep2d-v1"></span><h1>PowderReduceP2D v1<a class="headerlink" href="#powderreducep2d-v1" title="Permalink to this heading">¶</a></h1>
<figure class="align-right" id="id1">
<span id="index-0"></span><a class="screenshot reference internal image-reference" href="../_images/PowderReduceP2D-v1_dlg.png"><img alt="../_images/PowderReduceP2D-v1_dlg.png" class="screenshot" src="../_images/PowderReduceP2D-v1_dlg.png" style="width: 349px;" /></a>
<figcaption>
<p><span class="caption-text"><strong>PowderReduceP2D</strong> dialog.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#summary" id="id2">Summary</a></p>
<ul>
<li><p><a class="reference internal" href="#see-also" id="id3">See Also</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#properties" id="id4">Properties</a></p></li>
<li><p><a class="reference internal" href="#description" id="id5">Description</a></p>
<ul>
<li><p><a class="reference internal" href="#input" id="id6">Input</a></p></li>
<li><p><a class="reference internal" href="#calibration-grouping-masking" id="id7">Calibration, Grouping, Masking</a></p></li>
<li><p><a class="reference internal" href="#binning" id="id8">Binning</a></p></li>
<li><p><a class="reference internal" href="#manipulating-data-with-constants" id="id9">Manipulating data with constants</a></p></li>
<li><p><a class="reference internal" href="#output" id="id10">Output</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#workflow" id="id11">Workflow</a></p></li>
<li><p><a class="reference internal" href="#usage" id="id12">Usage</a></p></li>
<li><p><a class="reference internal" href="#source" id="id13">Source</a></p></li>
</ul>
</nav>
<section id="summary">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Summary</a><a class="headerlink" href="#summary" title="Permalink to this heading">¶</a></h2>
<p>The algorithm used to process the results of powder diffraction experiments and create a ‘.p2d’ file for multidimensional Rietveld refinement.</p>
<section id="see-also">
<h3><a class="toc-backref" href="#id3" role="doc-backlink">See Also</a><a class="headerlink" href="#see-also" title="Permalink to this heading">¶</a></h3>
<p><a class="reference internal" href="SaveP2D-v1.html#algm-savep2d"><span class="std std-ref">SaveP2D</span></a>, <a class="reference internal" href="Bin2DPowderDiffraction-v1.html#algm-bin2dpowderdiffraction"><span class="std std-ref">Bin2DPowderDiffraction</span></a></p>
</section>
</section>
<section id="properties">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Properties</a><a class="headerlink" href="#properties" title="Permalink to this heading">¶</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Direction</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>SampleData</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>Datafile that should be used.</p></td>
</tr>
<tr class="row-odd"><td><p>DoIntensityCorrection</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>False</p></td>
<td><p>If set to True you have to declare a vanadium measurement for intensity correction.</p></td>
</tr>
<tr class="row-even"><td><p>VanaData</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>Vanadium measurement for intensity correction.</p></td>
</tr>
<tr class="row-odd"><td><p>DoBackgroundCorrection</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>False</p></td>
<td><p>If set to True you have to declare an empty can measurement for background correction.</p></td>
</tr>
<tr class="row-even"><td><p>EmptyData</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>Empty measurement of the can for background correction.</p></td>
</tr>
<tr class="row-odd"><td><p>CalFile</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>Calibration file.</p></td>
</tr>
<tr class="row-even"><td><p>DoEdgebinning</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>False</p></td>
<td><p>If set to True you have to declare a BinEdges file.</p></td>
</tr>
<tr class="row-odd"><td><p>BinEdgesFile</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>BinEdges file used for edgebinning.</p></td>
</tr>
<tr class="row-even"><td><p>OutputFile</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>Output File for p2d Data.</p></td>
</tr>
<tr class="row-odd"><td><p>SystemTest</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>False</p></td>
<td><p>Set to True if running a system test. Greatly decreases the amount of data used.</p></td>
</tr>
<tr class="row-even"><td><p>TwoThetaMin</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>50</p></td>
<td><p>Minimum value for 2 Theta. Everything smaller gets removed.</p></td>
</tr>
<tr class="row-odd"><td><p>TwoThetaMax</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>120</p></td>
<td><p>Maximum value for 2 Theta. Everything bigger gets removed.</p></td>
</tr>
<tr class="row-even"><td><p>WavelengthCenter</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>0.7</p></td>
<td><p>Center Wavelength is used to calculate automatic values for lambdaMin and lambdaMax if they are not specified.</p></td>
</tr>
<tr class="row-odd"><td><p>LambdaMin</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>0.3</p></td>
<td><p>Minimum value for lambda. Everything smaller gets removed. If zero it is not used and values get calculated from center wavelength.</p></td>
</tr>
<tr class="row-even"><td><p>LambdaMax</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>1.1</p></td>
<td><p>Maximum value for lambda. Everything bigger gets removed. If zero it is not used and values get calculated from center wavelength.</p></td>
</tr>
<tr class="row-odd"><td><p>DMin</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>0.11</p></td>
<td><p>Minimum value for d. Everything smaller gets removed. If zero it is not used and values get calculated from 2 theta and lambda.</p></td>
</tr>
<tr class="row-even"><td><p>DMax</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>1.37</p></td>
<td><p>Maximum value for d. Everything bigger gets removed. If zero it is not used and values get calculated from 2 theta and lambda.</p></td>
</tr>
<tr class="row-odd"><td><p>DpMin</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>0.48</p></td>
<td><p>Minimum value for dp. Everything smaller gets removed. If zero it is not used and values get calculated from 2 theta and lambda.</p></td>
</tr>
<tr class="row-even"><td><p>DpMax</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>1.76</p></td>
<td><p>Maximum value for dp. Everything bigger gets removed. If zero it is not used and values get calculated from 2 theta and lambda.</p></td>
</tr>
<tr class="row-odd"><td><p>ReturnLinearRanges</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>False</p></td>
<td><p>if set to true, the algorithm would return linear detector’s ranges (dx,dy) rather then angular ranges (dAzimuthal,dPolar)</p></td>
</tr>
<tr class="row-even"><td><p>ParFile</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>not_used.par</p></td>
<td><p>An optional file that contains of the list of angular parameters for the detectors and detectors groups; If specified, will use data from file instead of the data, calculated from the instument description. Allowed extensions: [‘.par’, ‘.phx’]</p></td>
</tr>
<tr class="row-odd"><td><p>OutputParTable</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>Detec</p></td>
<td><p>If not empty, a name of a table workspace which will contain the calculated par or phx values for the detectors.</p></td>
</tr>
<tr class="row-even"><td><p>LowerCutoff</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>99.998</p></td>
<td><p>The percentage of the average to use as the lower bound.</p></td>
</tr>
<tr class="row-odd"><td><p>Width</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>150</p></td>
<td><p>The width of the time of flight (in microseconds) to remove from the data.</p></td>
</tr>
<tr class="row-even"><td><p>Frequency</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p><em>Optional</em></p></td>
<td><p>The frequency of the source (in Hz) used to calculate the minimum time of flight to filter.</p></td>
</tr>
<tr class="row-odd"><td><p>WorkspaceName</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>POWTEX</p></td>
<td><p>The base of the output workspace names. Names will have _group, _cal, _mask appended to them.</p></td>
</tr>
<tr class="row-even"><td><p>InstrumentName</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>Optional: Name of the instrument to base the GroupingWorkspace on which to base the GroupingWorkspace.</p></td>
</tr>
<tr class="row-odd"><td><p>InstrumentFilename</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td></td>
<td><p>Optional: Path to the instrument definition file on which to base the GroupingWorkspace. Allowed extensions: [‘.xml’]</p></td>
</tr>
<tr class="row-even"><td><p>MakeGroupingWorkspace</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>True</p></td>
<td><p>Set to true to create a GroupingWorkspace with called WorkspaceName_group.</p></td>
</tr>
<tr class="row-odd"><td><p>MakeCalWorkspace</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>True</p></td>
<td><p>Set to true to create a CalibrationWorkspace with called WorkspaceName_cal.</p></td>
</tr>
<tr class="row-even"><td><p>MakeMaskWorkspace</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>True</p></td>
<td><p>Set to true to create a MaskWorkspace with called WorkspaceName_mask.</p></td>
</tr>
<tr class="row-odd"><td><p>TofMin</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>0</p></td>
<td><p>Minimum for TOF axis. Defaults to 0.</p></td>
</tr>
<tr class="row-even"><td><p>TofMax</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p><em>Optional</em></p></td>
<td><p>Maximum for TOF axis. Defaults to Unused.</p></td>
</tr>
<tr class="row-odd"><td><p>FixConversionIssues</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>True</p></td>
<td><p>Set DIFA and TZERO to zero if there is an error and the pixel is masked</p></td>
</tr>
<tr class="row-even"><td><p>MaskedWorkspace</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>POWTEX_mask</p></td>
<td><p>If given but not as a SpecialWorkspace2D, the masking from this workspace will be copied. If given as a SpecialWorkspace2D, the masking is read from its Y values.</p></td>
</tr>
<tr class="row-odd"><td><p>SpectraList</p></td>
<td><p>Input</p></td>
<td><p>int list</p></td>
<td></td>
<td><p>A list of spectra to mask</p></td>
</tr>
<tr class="row-even"><td><p>DetectorList</p></td>
<td><p>Input</p></td>
<td><p>int list</p></td>
<td></td>
<td><p>A list of detector ID’s to mask</p></td>
</tr>
<tr class="row-odd"><td><p>WorkspaceIndexList</p></td>
<td><p>Input</p></td>
<td><p>unsigned int list</p></td>
<td></td>
<td><p>A list of the workspace indices to mask</p></td>
</tr>
<tr class="row-even"><td><p>ForceInstrumentMasking</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>False</p></td>
<td><p>Works when ‘MaskedWorkspace’ is provided and forces to use spectra-detector mapping even in case when number of spectra in ‘Workspace’ and ‘MaskedWorkspace’ are equal</p></td>
</tr>
<tr class="row-odd"><td><p>StartWorkspaceIndex</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>0</p></td>
<td><p>If other masks fields are provided, it’s the first index of the target workspace to be allowed to be masked from by these masks, if not, its the first index of the target workspace to mask. Default value is 0 if other masking is present or ignored if not.</p></td>
</tr>
<tr class="row-even"><td><p>EndWorkspaceIndex</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p><em>Optional</em></p></td>
<td><p>If other masks are provided, it’s the last index of the target workspace allowed to be masked to by these masks, if not, its the last index of the target workspace to mask. Default is number of histograms in target workspace if other masks are present or ignored if not.</p></td>
</tr>
<tr class="row-odd"><td><p>ComponentList</p></td>
<td><p>Input</p></td>
<td><p>str list</p></td>
<td></td>
<td><p>A list names of components to mask</p></td>
</tr>
<tr class="row-even"><td><p>AttenuationXSection</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>5.08</p></td>
<td><p>The ABSORPTION cross-section, at 1.8 Angstroms, for the sample material in barns. Column 8 of a table generated from <a class="reference external" href="http://www.ncnr.nist.gov/resources/n-lengths/">http://www.ncnr.nist.gov/resources/n-lengths/</a>.</p></td>
</tr>
<tr class="row-odd"><td><p>ScatteringXSection</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>5.1</p></td>
<td><p>The (coherent + incoherent) scattering cross-section for the sample material in barns. Column 7 of a table generated from <a class="reference external" href="http://www.ncnr.nist.gov/resources/n-lengths/">http://www.ncnr.nist.gov/resources/n-lengths/</a>.</p></td>
</tr>
<tr class="row-even"><td><p>SampleNumberDensity</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>0.07192</p></td>
<td><p>The number density of the sample in number of atoms per cubic angstrom if not set with SetSampleMaterial.</p></td>
</tr>
<tr class="row-odd"><td><p>CylinderSampleHeight</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>4</p></td>
<td><p>The height of the cylindrical sample in centimetres.</p></td>
</tr>
<tr class="row-even"><td><p>CylinderSampleRadius</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>0.4</p></td>
<td><p>The radius of the cylindrical sample in centimetres.</p></td>
</tr>
<tr class="row-odd"><td><p>NumberOfSlices</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>10</p></td>
<td><p>The number of slices into which the cylinder is divided for the calculation.</p></td>
</tr>
<tr class="row-even"><td><p>NumberOfAnnuli</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>10</p></td>
<td><p>The number of annuli into which each slice is divided for the calculation.</p></td>
</tr>
<tr class="row-odd"><td><p>ScatterFrom</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>Sample</p></td>
<td><p>The component to calculate the absorption for (default: Sample). Allowed values: [‘Sample’, ‘Container’, ‘Environment’]</p></td>
</tr>
<tr class="row-even"><td><p>NumberOfWavelengthPoints</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p><em>Optional</em></p></td>
<td><p>The number of wavelength points for which the numerical integral is calculated (default: all points)</p></td>
</tr>
<tr class="row-odd"><td><p>ExpMethod</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>Normal</p></td>
<td><p>Select the method to use to calculate exponentials, normal or a fast approximation (default: Normal). Allowed values: [‘Normal’, ‘FastApprox’]</p></td>
</tr>
<tr class="row-even"><td><p>EMode</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>Elastic</p></td>
<td><p>The energy mode (default: elastic). Allowed values: [‘Elastic’, ‘Direct’, ‘Indirect’]</p></td>
</tr>
<tr class="row-odd"><td><p>EFixed</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>0</p></td>
<td><p>The value of the initial or final energy, as appropriate, in meV. Will be taken from the instrument definition file, if available.</p></td>
</tr>
<tr class="row-even"><td><p>CylinderAxis</p></td>
<td><p>Input</p></td>
<td><p>dbl list</p></td>
<td><p>0,1,0</p></td>
<td><p>A 3D vector specifying the cylindrical sample’s orientation</p></td>
</tr>
<tr class="row-odd"><td><p>dSpaceBinning</p></td>
<td><p>Input</p></td>
<td><p>dbl list</p></td>
<td></td>
<td><p>A comma separated list of first bin boundary, width, last bin boundary. Optionally this can be followed by a comma and more widths and last boundary pairs. Negative width values indicate logarithmic binning.</p></td>
</tr>
<tr class="row-even"><td><p>dPerpendicularBinning</p></td>
<td><p>Input</p></td>
<td><p>dbl list</p></td>
<td></td>
<td><p>A comma separated list of first bin boundary, width, last bin boundary. Optionally this can be followed by a comma and more widths and last boundary pairs. Negative width values indicate logarithmic binning.</p></td>
</tr>
<tr class="row-odd"><td><p>NormalizeByBinArea</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>False</p></td>
<td><p>Normalize the binned workspace by the bin area.</p></td>
</tr>
<tr class="row-even"><td><p>FWHM</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>2</p></td>
<td><p>The number of points covered, on average, by the fwhm of a peak. Passed through to FindPeaks. Default 7.</p></td>
</tr>
<tr class="row-odd"><td><p>Tolerance</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>2</p></td>
<td><p>A measure of the strictness desired in meeting the condition on peak candidates. Passed through to FindPeaks. Default 2.</p></td>
</tr>
<tr class="row-even"><td><p>PeakPositionTolerance</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>0.05</p></td>
<td><p>Tolerance on the found peaks positions against the input peak positions. A non-positive value turns this option off.</p></td>
</tr>
<tr class="row-odd"><td><p>BackgroundType</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>Quadratic</p></td>
<td><p>The type of background of the histogram. Present choices include Linear and Quadratic. Allowed values: [Linear, Quadratic]</p></td>
</tr>
<tr class="row-even"><td><p>HighBackground</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>True</p></td>
<td><p>Flag to indicate that the peaks are relatively weak comparing to background.</p></td>
</tr>
<tr class="row-odd"><td><p>WorkspaceIndex</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p><em>Optional</em></p></td>
<td><p>If set, will remove peaks only in the given spectrum of the workspace. Otherwise, all spectra will be searched.</p></td>
</tr>
<tr class="row-even"><td><p>Filter</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>Butterworth</p></td>
<td><p>The type of the applied filter. Allowed values: [Zeroing, Butterworth]</p></td>
</tr>
<tr class="row-odd"><td><p>Params</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>20,2</p></td>
<td><p>The filter parameters: For Zeroing, 1 parameter: n - an integer greater than 1 meaning that the Fourier coefficients with frequencies outside the 1/n of the original range will be set to zero. For Butterworth, 2 parameters: n and order, giving the 1/n truncation and the smoothing order.</p></td>
</tr>
<tr class="row-even"><td><p>IgnoreXBins</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>True</p></td>
<td><p>Ignores the requirement that X bins be linear and of the same size. Set this to true if you are using log binning. The output X axis will be the same as the input either way.</p></td>
</tr>
<tr class="row-odd"><td><p>AllSpectra</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>True</p></td>
<td><p>Smooth all spectra.</p></td>
</tr>
<tr class="row-even"><td><p>WorkspaceIndexSmooth</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>0</p></td>
<td><p>Workspace index for smoothing</p></td>
</tr>
<tr class="row-odd"><td><p>AddMinimum</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>True</p></td>
<td><p>If set to True, adds the most negative intensity to all intensities.</p></td>
</tr>
<tr class="row-even"><td><p>ResetValue</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>0</p></td>
<td><p>Set negative intensities to the specified value (default=0).</p></td>
</tr>
<tr class="row-odd"><td><p>AddMinimumVana</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>True</p></td>
<td><p>If set to True, adds the most negative intensity to all intensities.</p></td>
</tr>
<tr class="row-even"><td><p>ResetValueVana</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>1</p></td>
<td><p>Set negative intensities to the specified value (default=1).</p></td>
</tr>
</tbody>
</table>
</section>
<section id="description">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Description</a><a class="headerlink" href="#description" title="Permalink to this heading">¶</a></h2>
<section id="input">
<h3><a class="toc-backref" href="#id6" role="doc-backlink">Input</a><a class="headerlink" href="#input" title="Permalink to this heading">¶</a></h3>
<p>This algorithm can be used for one run of sample data. For correction and background reduction
additional measurements of Vanadium(<code class="docutils literal notranslate"><span class="pre">VanaData</span></code>) and an empty can(<code class="docutils literal notranslate"><span class="pre">EmptyData</span></code>) can be specified
but are not necessary. If an empty measurement is specified, it is substracted from the sample
measurement. If a Vanadium measurement is specified, the sample measurement is divided by the
vanadium measurement. If either or both are not specified these steps are skipped. It is highly
recommended to specify both.</p>
</section>
<section id="calibration-grouping-masking">
<h3><a class="toc-backref" href="#id7" role="doc-backlink">Calibration, Grouping, Masking</a><a class="headerlink" href="#calibration-grouping-masking" title="Permalink to this heading">¶</a></h3>
<p>The calibration is done using the Calibration File(<code class="docutils literal notranslate"><span class="pre">CalFile</span></code>). Additionally three
implicit workspaces (<code class="docutils literal notranslate"><span class="pre">&lt;instrument&gt;_group</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;instrument&gt;_cal</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;instrument&gt;_mask</span></code>) are
created during the algorithms execution if they do not exist already.</p>
</section>
<section id="binning">
<h3><a class="toc-backref" href="#id8" role="doc-backlink">Binning</a><a class="headerlink" href="#binning" title="Permalink to this heading">¶</a></h3>
<p>The recommended binning (edgebinning) requires an edgebinning file to be specified. If no
edgebinning file is specified, logarithmic binning (standard values: x1=-0.008, x2=0.01) is used.</p>
</section>
<section id="manipulating-data-with-constants">
<h3><a class="toc-backref" href="#id9" role="doc-backlink">Manipulating data with constants</a><a class="headerlink" href="#manipulating-data-with-constants" title="Permalink to this heading">¶</a></h3>
<p>The reduced data are checked for negative intensities. If any are found, they are removed either
by adding the most negative valueor by setting the intensity to a specified value. This is done,
because negative values cannot be processed in multidimensional Rietveld refinement.</p>
</section>
<section id="output">
<h3><a class="toc-backref" href="#id10" role="doc-backlink">Output</a><a class="headerlink" href="#output" title="Permalink to this heading">¶</a></h3>
<p>The output of this Workflow algorithm is a p2d file. The p2d file contains values for 2Theta
and lambda (columns 1 and 2) as well as d and dperp (columns 3 and 4). Column 5 contains the
intensity data.</p>
</section>
</section>
<section id="workflow">
<h2><a class="toc-backref" href="#id11" role="doc-backlink">Workflow</a><a class="headerlink" href="#workflow" title="Permalink to this heading">¶</a></h2>
<img alt="../_images/PowderReduceP2D.svg" src="../_images/PowderReduceP2D.svg" /><img alt="../_images/PowderReduceP2D_ProcessSampleRun.svg" src="../_images/PowderReduceP2D_ProcessSampleRun.svg" /><img alt="../_images/PowderReduceP2D_ProcessCanRun.svg" src="../_images/PowderReduceP2D_ProcessCanRun.svg" /><img alt="../_images/PowderReduceP2D_ProcessVanadiumRun.svg" src="../_images/PowderReduceP2D_ProcessVanadiumRun.svg" /></section>
<section id="usage">
<h2><a class="toc-backref" href="#id12" role="doc-backlink">Usage</a><a class="headerlink" href="#usage" title="Permalink to this heading">¶</a></h2>
<p>This is a workflow algorithm to process the results of powder diffraction experiments and create a p2d file for
multidimensional Rietveld refinement. The algorithm is currently tested for the Instruments PG3 (POWGEN) and
PTXatPG3 (POWTEX detector at POWGEN instrument).</p>
<p><strong>Categories</strong>: <a class="reference external" href="categories/AlgorithmIndex.html">AlgorithmIndex</a> | <a class="reference external" href="categories/Diffraction/Reduction.html">Diffraction\Reduction</a></p>
</section>
<section id="source">
<h2><a class="toc-backref" href="#id13" role="doc-backlink">Source</a><a class="headerlink" href="#source" title="Permalink to this heading">¶</a></h2>
<p>Python: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/aa570da6f199141cd8ad987bf9b9b9281a1b5e33/Framework/PythonInterface/plugins/algorithms/PowderReduceP2D.py">PowderReduceP2D.py</a></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="PowderILLParameterScan-v1.html" title="Previous Chapter: PowderILLParameterScan v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; PowderILLPara...</span>
    </a>
  </li>
  <li>
    <a href="Power-v1.html" title="Next Chapter: Power v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Power v1 &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>