<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>DrILL interface</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="SimpleScanViewer Interface" href="SimpleScanViewer.html" />
    <link rel="prev" title="Sample Transmission Calculator" href="../general/Sample%20Transmission%20Calculator.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.5</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://docs.mantidproject.org/nightly/">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="../index.html" accesskey="U">Interfaces</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">DrILL interface</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="drill-interface">
<span id="drill-ref"></span><h1>DrILL interface<a class="headerlink" href="#drill-interface" title="Permalink to this heading">¶</a></h1>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#interface-overview" id="id1">Interface overview</a></p></li>
<li><p><a class="reference internal" href="#data-reduction-algorithm" id="id2">Data reduction algorithm</a></p></li>
<li><p><a class="reference internal" href="#global-settings" id="id3">Global settings</a></p></li>
<li><p><a class="reference internal" href="#table-filling" id="id4">Table filling</a></p></li>
<li><p><a class="reference internal" href="#groups" id="id5">Groups</a></p></li>
<li><p><a class="reference internal" href="#processing" id="id6">Processing</a></p></li>
<li><p><a class="reference internal" href="#automatic-data-export" id="id7">Automatic data export</a></p></li>
<li><p><a class="reference internal" href="#import-and-export-as-rundex-file" id="id8">Import and export as Rundex file</a></p></li>
</ul>
</nav>
<p>DrILL stands for Data Reduction at ILL. It provides an easy to use interface for
the reduction of data measured on different ILL instruments. Here are the
currently supported instruments:</p>
<blockquote>
<div><ul class="simple">
<li><p>D11: SANS</p></li>
<li><p>D16: SANS, SANS Sample scan</p></li>
<li><p>D17: Reflectometry</p></li>
<li><p>D22: SANS</p></li>
<li><p>D33: SANS</p></li>
<li><p>FIGARO: Reflectometry</p></li>
<li><p>D2B: Powder diffraction</p></li>
<li><p>D20: Powder diffraction</p></li>
</ul>
</div></blockquote>
<p>The interface is accessible through the Workbench menu bar: <em>Interfaces</em> -&gt;
<em>ILL</em> -&gt; <em>DrILL</em>.</p>
<p>n.b. To be able to use the interface, one has to set the default facility to ILL first.
Open the settings through the workbench menu (<em>File</em> -&gt; <em>Settings</em>). In the <em>General</em> tab,
set the facility to ILL.</p>
<section id="interface-overview">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">Interface overview</a><a class="headerlink" href="#interface-overview" title="Permalink to this heading">¶</a></h2>
<p>The DrILL main window is composed of different parts:</p>
<img alt="../../_images/drill-numbers.png" class="align-center" src="../../_images/drill-numbers.png" />
<dl class="simple">
<dt>spreadsheet like table (1)</dt><dd><p>This is the main part of the DrILL interface. Generally one row represents one sample
measured at one or more distances (SANS) or angles (Reflectometry). There is no limit
on the number of the different configurations.
It is used to provide filenames and options to the reduction algorithm.
The state of the table is reset when the instrument and/or the acquisition
mode is changed.</p>
</dd>
<dt>tool buttons (2)</dt><dd><p>In two different places. At the top of the table, these buttons facilitate
the table filling and provide the instrument and acquisition mode
selections. At the bottom, they are linked to the processing actions.</p>
</dd>
<dt>menu bar (3)</dt><dd><p>Most of the actions are accessible through this menu bar.</p>
</dd>
</dl>
<p>A global settings dialog is also accessible through the menu or its dedicated
tool button. This dialog contains more options for the reduction algorithm.</p>
<img alt="../../_images/drill-settings.png" class="align-center" src="../../_images/drill-settings.png" />
</section>
<section id="data-reduction-algorithm">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Data reduction algorithm</a><a class="headerlink" href="#data-reduction-algorithm" title="Permalink to this heading">¶</a></h2>
<p>The underlying data reduction algorithm depends on the experimental technique.
Its selection is triggered when one has selected the instrument and the
acquisition mode.</p>
<p>To get further information on the currently supported algorithms:</p>
<blockquote>
<div><ul class="simple">
<li><p>SANS: <a class="reference internal" href="../../algorithms/SANSILLAutoProcess-v1.html#algm-sansillautoprocess"><span class="std std-ref">SANSILLAutoProcess</span></a> and
<a class="reference internal" href="../../algorithms/SANSILLParameterScan-v1.html#algm-sansillparameterscan"><span class="std std-ref">SANSILLParameterScan</span></a></p></li>
<li><p>Reflectometry: <a class="reference internal" href="../../algorithms/ReflectometryILLAutoProcess-v1.html#algm-reflectometryillautoprocess"><span class="std std-ref">ReflectometryILLAutoProcess</span></a></p></li>
<li><p>Powder diffraction: <a class="reference internal" href="../../algorithms/PowderILLDetectorScan-v1.html#algm-powderilldetectorscan"><span class="std std-ref">PowderILLDetectorScan</span></a> and
<a class="reference internal" href="../../algorithms/PowderILLParameterScan-v1.html#algm-powderillparameterscan"><span class="std std-ref">PowderILLParameterScan</span></a></p></li>
</ul>
</div></blockquote>
</section>
<section id="global-settings">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Global settings</a><a class="headerlink" href="#global-settings" title="Permalink to this heading">¶</a></h2>
<p>Global settings are grouped in a dedicated dialog. This dialog is accessible
in the DrILL menu (<em>File</em> -&gt; <em>Settings</em>) or with the dedicated tool button.
This dialog is dynamically linked to the selected algorithm, therefore to the
instrument and acquisition mode. It contains a set of options that will be used
for all the samples.</p>
<p>When opening the dialog for the first time, the settings are set to their
default value (see the corresponding algorithm documentation). After modifying
the settings, one can save or discard them with the usual three buttons ‘ok’,
‘apply’ or ‘cancel’.</p>
<p>Each time a setting is changed in the dialog, its value is checked. A wrong
value will turn red the corresponding field. A tooltip explaining the error is
displayed when the mouse is over that red field. A single red field prevents the
settings from being saved.</p>
</section>
<section id="table-filling">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Table filling</a><a class="headerlink" href="#table-filling" title="Permalink to this heading">¶</a></h2>
<p>When selecting the instrument and the acquisition mode, the table is updated
with the needed column headers. To obtain information about a column, a tooltip
is displayed when moving the mouse over the corresponding header. To facilitate
filling, columns can be collapsed (button in the header), hidden (right click or
menu bar) and their order can be changed by drag-and-drop.</p>
<p>Each cell can be edited manually or filled programmatically by using some of the
tool buttons.</p>
<dl class="simple">
<dt>cut-copy-paste</dt><dd><p>Cell or row contents can be copied/cut and then pasted in other cells.
These actions are accessible through the dedicated button, the menu or the
usual keyboard shortcuts. Copying or cutting a single cell and pasting it
in several cells will repeat the value.</p>
</dd>
<dt>increment fill</dt><dd><p>An automatic filling mechanism facilitates the filling of the table by
incrementing/decrementing the numors over selected cells. To do so, the user
has to select several cells that he wants to fill, choose an increment value
and press the fill tool button. The value in the first cell (the one with
the lowest row and column index) will be incremented and written in the
following ones.</p>
</dd>
</dl>
<p><cite>DEFAULT</cite> is a special value. During data reduction, it will be replaced with
the default value of this parameter defined in the algorithm. It acts like an
empty cell but this allows to override a master sample parameter with the
default value (see below).</p>
<p>For all algorithms, the last column of the table is always labelled
<em>CustomOptions</em>. It makes it possible to override a global parameter for
the current row only. It should contain a semicolon separated list of key value
pairs. For example, one can set <code class="code docutils literal notranslate"><span class="pre">SampleThickness=0.2;ThetaDependant=False</span></code>
and override the global values of these parameters for that specific row.</p>
<p>When filling the table, all parameters (including the custom options) are
checked for validity. When a value is not valid, the cell turns red and a
tooltip (visible when the mouse moves over the cell) explains the error. A
single red cell prevent the processing of the concerned row.</p>
</section>
<section id="groups">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Groups</a><a class="headerlink" href="#groups" title="Permalink to this heading">¶</a></h2>
<p>To avoid entering exactly the same value several times in the table, it is also
possible to create groups of samples. Within a group, a master sample can be
designated. The values of the parameters of the master sample will be used when
processing all rows in the group.</p>
<p>Paramaters can still be overriden manually whithin a group by entering a sample
specific value in the table. The special <cite>DEFAULT</cite> value can be use to override
a master sample parameter with its default value. The priority for the parameter
values is as follow:</p>
<p>sample &gt; master sample &gt; global settings</p>
<p>Example:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Sample</p></th>
<th class="head"><p>Group</p></th>
<th class="head"><p>parameter 1</p></th>
<th class="head"><p>parameter 2</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1(master)</p></td>
<td><p>g1</p></td>
<td><p>v1</p></td>
<td><p>v2</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>g1</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>g1</p></td>
<td></td>
<td><p>v2’</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>g1</p></td>
<td></td>
<td><p>DEFAULT</p></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><p>For the processing of sample 2: <cite>parameter1=v1</cite> and <cite>parameter2=v2</cite></p></li>
<li><p>For the processing of sample 3: <cite>parameter1=v1</cite> and <cite>parameter2=v2’</cite></p></li>
<li><p>For the processing of sample 4: <cite>parameter1=v1</cite> and <cite>parameter2</cite> will use the
algorithm default value</p></li>
</ul>
<p>To group samples, one has to select them (at least one cell per row) and press
Ctrl + G or use the context menu. To set a row as master, one has to select it
(again, one cell is sufficient) and press Ctrl + M or use the context menu.
Grouped samples will appear with a specific label in the table. The master
of a group will have a bold label. There can be only one master row per group,
if a second row is selected as the master row, it will replace the previous one.
One can also add a sample to an existing group (using the context menu) or
ungroup samples by selecting them and pressing Ctrl + Alt + G or using the
context menu.</p>
</section>
<section id="processing">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">Processing</a><a class="headerlink" href="#processing" title="Permalink to this heading">¶</a></h2>
<p>Processing control is made through the menu (<em>Process</em>) or the tool
buttons at the bottom of the table. One can start the processing (of selected or
all row(s)) or abort a running processing.</p>
<p>During processing, the table is in read-only mode. The active row(s) turn
yellow, the processed ones turn green and the row(s) for which the processing
failed turn red. The progress bar is also updated.</p>
<p>At the end of the processing, if any error occurs, a popup lists the concerned
row(s). To get further information about the errors, one has to look into the
Mantid logs.</p>
</section>
<section id="automatic-data-export">
<h2><a class="toc-backref" href="#id7" role="doc-backlink">Automatic data export</a><a class="headerlink" href="#automatic-data-export" title="Permalink to this heading">¶</a></h2>
<p>After the processing, the export of reduced data is automatically triggered. The
configuration of this mechanism is done via the export dialog that can be opened
from the tool bar.</p>
<img alt="../../_images/drill-export.png" class="align-center" src="../../_images/drill-export.png" />
<p>For each acquisition mode, a list of adapated algorithms will be displayed in
that dialog. Some of them are activated by default but the user is free to
select the ones he wants. All checked algorithms will be applied on all output
workspaces of all processed rows. The exported files are saved in the Mantid
default save directory with an extension that is defined by the algorithm (if no
default save directory is provided, there will be no export). If the algorithm
is not adapted to the data, it will be skipped. For further information, the
documentation of each algorithm can be obtained using the help button associated
to it in the dialog.</p>
</section>
<section id="import-and-export-as-rundex-file">
<h2><a class="toc-backref" href="#id8" role="doc-backlink">Import and export as Rundex file</a><a class="headerlink" href="#import-and-export-as-rundex-file" title="Permalink to this heading">¶</a></h2>
<p>Rundex file (*.mrd) is a human readable text file that represents the state of
the interface in JSON format. By using the appropriate tool button or the menu
bar (<em>File</em> -&gt; <em>Save…</em> or <em>Load…</em>) one can export or import a Rundex file.</p>
<p>When saving, the global settings, all the samples and some of the visual setup
are exported in the rundex file (i.e. the collapsed columns, the hidden
columns…). Symmetrically, the load action imports all these data in the
current DrILL session and one will recover the interface in the same state as
it was previously saved.</p>
<p><strong>Category</strong>: <a class="reference external" href="categories/Interfaces.html">Interfaces</a></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="../general/Sample%20Transmission%20Calculator.html" title="Previous Chapter: Sample Transmission Calculator"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Sample Transm...</span>
    </a>
  </li>
  <li>
    <a href="SimpleScanViewer.html" title="Next Chapter: SimpleScanViewer Interface"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">SimpleScanVie... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>