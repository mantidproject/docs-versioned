<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Settings</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Run Summation" href="Sum%20Runs.html" />
    <link rel="prev" title="Runs Tab" href="Runs%20Tab.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.5</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://www.mantidproject.org">Home</a></li>
                <li><a href="https://download.mantidproject.org">Download</a></li>
                <li><a href="https://docs.mantidproject.org">Documentation</a></li>
                <li><a href="https://www.mantidproject.org/contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="../index.html" >Interfaces</a> &#187;</li>
          
            <li class="nav-item nav-item-2"><a href="ISIS%20SANS.html" accesskey="U">ISIS SANS</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">Settings</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="settings">
<span id="isis-sans-settings-tab-ref"></span><h1>Settings<a class="headerlink" href="#settings" title="Permalink to this heading">¶</a></h1>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#general-wavelength-scale-event-slice-sample" id="id10">General, Wavelength, Scale, Event Slice, Sample</a></p>
<ul>
<li><p><a class="reference internal" href="#general" id="id11">General</a></p></li>
<li><p><a class="reference internal" href="#event-slice" id="id12">Event Slice</a></p></li>
<li><p><a class="reference internal" href="#compatibility-mode" id="id13">Compatibility Mode</a></p></li>
<li><p><a class="reference internal" href="#scale-and-sample" id="id14">Scale and Sample</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#mask" id="id15">Mask</a></p>
<ul>
<li><p><a class="reference internal" href="#masking-information" id="id16">Masking information</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#adjustment" id="id17">Adjustment</a></p>
<ul>
<li><p><a class="reference internal" href="#monitor-normalization" id="id18">Monitor normalization</a></p></li>
<li><p><a class="reference internal" href="#transmission-calculation" id="id19">Transmission calculation</a></p>
<ul>
<li><p><a class="reference internal" href="#incident-monitor" id="id20">Incident monitor</a></p></li>
<li><p><a class="reference internal" href="#transmission-targets" id="id21">Transmission targets</a></p></li>
<li><p><a class="reference internal" href="#fit-settings" id="id22">Fit settings</a></p></li>
<li><p><a class="reference internal" href="#adjustment-files" id="id23">Adjustment files</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#q-wavelength-and-detector-limits" id="id24">Q, Wavelength and Detector Limits</a></p>
<ul>
<li><p><a class="reference internal" href="#phi-limit" id="id25">Phi limit</a></p></li>
<li><p><a class="reference internal" href="#radius-limit" id="id26">Radius limit</a></p></li>
<li><p><a class="reference internal" href="#wavelength" id="id27">Wavelength</a></p></li>
<li><p><a class="reference internal" href="#cuts" id="id28">Cuts</a></p></li>
<li><p><a class="reference internal" href="#q-limits" id="id29">Q limits</a></p></li>
<li><p><a class="reference internal" href="#gravity-correction" id="id30">Gravity correction</a></p></li>
<li><p><a class="reference internal" href="#q-resolution" id="id31">Q Resolution</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#state-diagnostic" id="id32">State Diagnostic</a></p></li>
</ul>
</nav>
<a class="reference internal image-reference" href="../../_images/settings_page.png" id="id1"><img alt="../../_images/settings_page.png" class="align-center" id="id1" src="../../_images/settings_page.png" style="width: 800px;" /></a>
<p>The Settings tab and its sub-tabs allow users to control the parameters used
for processing data. These values are initially from the specified user file.</p>
<p><strong>General, Scale, Event Slice, Sample</strong>
This tab includes settings on how to process merged runs, event slices, event
binning and scale and z offset.</p>
<p><a class="reference internal" href="#general-ref"><span class="std std-ref">More Details</span></a></p>
<p><strong>Mask</strong>
The mask tab contains a table of masks specified in the user file.</p>
<p><a class="reference internal" href="#mask-ref"><span class="std std-ref">More Details</span></a></p>
<p><strong>Adjustment</strong>
This tab controls the parameters used when generating adjustment
workspaces. This includes monitor normalization, transmission calculation,
pixel-adjustment files and wavelength-adjustment files.</p>
<p><a class="reference internal" href="#adjustment-ref"><span class="std std-ref">More Details</span></a></p>
<p><strong>Q, Wavelength, Detector Limits</strong>
This tab contains settings for the radius
limit, phi limit, wavelength range and binning, any cuts to apply, Q limits and
binning, extra gravity length and Q resolution.</p>
<p><a class="reference internal" href="#q-wavelength-ref"><span class="std std-ref">More Details</span></a></p>
<p><strong>State Diagnostic</strong>
(Experimental) The tab provides insight into the
state which is being passed to the reduction algorithm. This interface can
be removed in future releases without notice.</p>
<p><a class="reference internal" href="#state-diag-ref"><span class="std std-ref">More Details</span></a></p>
<section id="general-wavelength-scale-event-slice-sample">
<span id="general-ref"></span><h2><a class="toc-backref" href="#id10" role="doc-backlink">General, Wavelength, Scale, Event Slice, Sample</a><a class="headerlink" href="#general-wavelength-scale-event-slice-sample" title="Permalink to this heading">¶</a></h2>
<section id="general">
<h3><a class="toc-backref" href="#id11" role="doc-backlink">General</a><a class="headerlink" href="#general" title="Permalink to this heading">¶</a></h3>
<a class="reference internal image-reference" href="../../_images/settings_page_general.png"><img alt="../../_images/settings_page_general.png" class="align-center" src="../../_images/settings_page_general.png" style="width: 800px;" /></a>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>Reduction mode</strong></p></td>
<td><p>The user can choose to either perform a reduction on the low angle bank (<strong>LAB</strong>),
the high angle bank (<strong>HAB</strong>), both (<strong>Both</strong>) or merged (<strong>Merged</strong>)
When merged reduction are selected, additional further settings are required (see below)</p></td>
</tr>
<tr class="row-even"><td><p><strong>Merge scale</strong></p></td>
<td><p>Sets the scale of a merged reduction. If the <strong>Fit</strong> check-box is enabled, then this scale is
being fitted</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Merge shift</strong></p></td>
<td><p>Sets the shift of a merged reduction. If the <strong>Fit</strong> check-box is enabled, then this shift is
also fitted</p></td>
</tr>
<tr class="row-even"><td><p><strong>Merge fit custom q range</strong></p></td>
<td><p>Describes the Q region which should be used to determine the merge parameters</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Merge custom q range</strong></p></td>
<td><p>Describes the Q region in which the merged data should be used. Outside of this region the
uncombined <strong>HAB</strong> or <strong>LAB</strong> data is used</p></td>
</tr>
</tbody>
</table>
</section>
<section id="event-slice">
<h3><a class="toc-backref" href="#id12" role="doc-backlink">Event Slice</a><a class="headerlink" href="#event-slice" title="Permalink to this heading">¶</a></h3>
<p id="id2">Used for data capture in event-mode, it is possible to perform
time-of-flight slices of the data and reduce these separately. The input can
be:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">start:step:stop</span></code> specifies time slices from a <code class="docutils literal notranslate"><span class="pre">start</span></code> value for
the <code class="docutils literal notranslate"><span class="pre">stop</span></code> value in steps of <code class="docutils literal notranslate"><span class="pre">step</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">start-stop</span></code> which specifies a time slice from the <code class="docutils literal notranslate"><span class="pre">start</span></code> value
to the <code class="docutils literal notranslate"><span class="pre">stop</span></code> value.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&gt;start</span></code> specifies a slice form the <code class="docutils literal notranslate"><span class="pre">start</span></code> value to the end of
the data set.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;stop</span></code> specifies a slice form the start of the data set to
the <code class="docutils literal notranslate"><span class="pre">stop</span></code> value</p></li>
</ul>
<p>In addition it is possible to concatenate these specifications using
comma-separation. An example would be <em>8-10,12:2:16,20-22</em>, which would
use 8, 9, 10, 12, 14, 16, 20, 21, 22.</p>
</section>
<section id="compatibility-mode">
<h3><a class="toc-backref" href="#id13" role="doc-backlink">Compatibility Mode</a><a class="headerlink" href="#compatibility-mode" title="Permalink to this heading">¶</a></h3>
<p id="id3">The previous SANS GUI converted event-mode data to histogram-mode early into
processing. This used the time-of-flight binning parameters specified by the
user or copied the monitor binning.</p>
<p>The new SANS GUI preserves data in event-mode data until the conversion to
momentum transfer. This reduces the processing error in the final results.
However, if a user wishes to compare the results with older version of Mantid
they are advised to enable compatibility mode.</p>
<p>When compatibility mode is enabled, any time-of-flight binning parameters are
taken from the <em>Event binning</em> input. If these are not set, then binning
parameters are taken from the monitor workspace.</p>
</section>
<section id="scale-and-sample">
<h3><a class="toc-backref" href="#id14" role="doc-backlink">Scale and Sample</a><a class="headerlink" href="#scale-and-sample" title="Permalink to this heading">¶</a></h3>
<p id="id4">This grouping allows the user to specify the absolute scale and sample geometry
information. Note that the geometry information is in millimetres.</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>Absolute scale</strong></p></td>
<td><p>The absolute, dimensionless scale factor.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Z offset</strong></p></td>
<td><p>The sample offset.</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="mask">
<span id="mask-ref"></span><h2><a class="toc-backref" href="#id15" role="doc-backlink">Mask</a><a class="headerlink" href="#mask" title="Permalink to this heading">¶</a></h2>
<a class="reference internal image-reference" href="../../_images/settings_page_mask.png"><img alt="../../_images/settings_page_mask.png" class="align-center" src="../../_images/settings_page_mask.png" style="width: 800px;" /></a>
<p>The elements on this tab control the masking step during processing.</p>
<section id="masking-information">
<h3><a class="toc-backref" href="#id16" role="doc-backlink">Masking information</a><a class="headerlink" href="#masking-information" title="Permalink to this heading">¶</a></h3>
<p>The masking table shows detailed information about the masks that
will be applied. If a mask is applied only to a particular detector
then this will be shown in the masking table. Note that data needs to be
specified in order to see the masking information.</p>
<p>Also note any manual changes to the data table or other settings,
requires you to update the row selection by pressing <em>Update Rows</em>.</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>Table</strong></p></td>
<td><p>The masking table which displays all masks which will be applied
to the data set.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Select row</strong></p></td>
<td><p>The masking information is shown for a particular data set in
in the data table. The information for the selected row is
shown.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Update rows</strong></p></td>
<td><p>Press this button if you have manually updated the mask table.
These changes are currently not picked up automatically.</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="adjustment">
<span id="adjustment-ref"></span><h2><a class="toc-backref" href="#id17" role="doc-backlink">Adjustment</a><a class="headerlink" href="#adjustment" title="Permalink to this heading">¶</a></h2>
<a class="reference internal image-reference" href="../../_images/settings_page_adjustment.png"><img alt="../../_images/settings_page_adjustment.png" class="align-center" src="../../_images/settings_page_adjustment.png" style="width: 800px;" /></a>
<p>This tab provides settings which are required for the creation of the
adjustment workspaces. These adjustments include monitor normalization,
transmission calculation and the application of adjustment files.</p>
<section id="monitor-normalization">
<h3><a class="toc-backref" href="#id18" role="doc-backlink">Monitor normalization</a><a class="headerlink" href="#monitor-normalization" title="Permalink to this heading">¶</a></h3>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>Incident monitor</strong></p></td>
<td><p>The incident monitor spectrum number.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Use interpolating rebin</strong></p></td>
<td><p>Check if an interpolating rebin should be used instead
of a normal rebin.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="transmission-calculation">
<h3><a class="toc-backref" href="#id19" role="doc-backlink">Transmission calculation</a><a class="headerlink" href="#transmission-calculation" title="Permalink to this heading">¶</a></h3>
<p>The main inputs for the transmission calculation are concerned with the
incident monitor, the monitors/detectors which measure the transmission
and the fit parameters for the transmission calculation.</p>
<section id="incident-monitor">
<h4><a class="toc-backref" href="#id20" role="doc-backlink">Incident monitor</a><a class="headerlink" href="#incident-monitor" title="Permalink to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>Incident monitor</strong></p></td>
<td><p>The incident monitor spectrum number.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Use interpolating rebin</strong></p></td>
<td><p>Check if an interpolating rebin should be used instead
of a normal rebin.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="transmission-targets">
<h4><a class="toc-backref" href="#id21" role="doc-backlink">Transmission targets</a><a class="headerlink" href="#transmission-targets" title="Permalink to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>Transmission targets</strong></p></td>
<td><p>This combo box allows the user to select the transmission target. <em>Transmission monitor</em> will
take the transmission data from the monitor which has been selected in the
<strong>Transmission monitor</strong> field. <em>Region of interest on bank</em> will take the transmission data
from the fields <strong>Radius</strong>, <strong>ROI files</strong> and <strong>Mask files</strong>.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Transmission monitor</strong></p></td>
<td><p>The monitor which will be used for the transmission calculation.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>M4 shift</strong></p></td>
<td><p>An optional shift for the M4 monitor.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Radius</strong></p></td>
<td><p>This will select all detectors in the specified radius around the beam centre to contribute
to the transmission data.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>ROI files</strong></p></td>
<td><p>A comma-separated list of paths to ROI files. The detectors specified in the ROI files
contribute to the transmission data.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Mask files</strong></p></td>
<td><p>A comma-separated list of paths to Mask files. The detectors specified in the Mask files
are excluded from the transmission data.</p></td>
</tr>
</tbody>
</table>
<p>Additional information:</p>
<p>As mentioned above the transmission target can be a monitor (e.g. M3 or M4) or
a region of interest on the detector bank itself.</p>
<p>If the preferred target is a selection of pixels on the detector bank itself,
then the user can specify a region of interest. The pixels in the region of
interest contribute to the transmission calculation. There are
several ways to specify the region of interest:</p>
<ul class="simple">
<li><p>Radius: A radius in mm with its centre at the beam centre can be specified.
Pixels in this radius are added to the region of interest.</p></li>
<li><p>A list of Region-Of-Interest files (ROI files) can be specified.
The ROI file is equivalent to a mask file created in the Instrument
View Window.</p></li>
</ul>
<p>The combination of both methods can also be specified. This results in the
union of all relevant pixels. In order to avoid certain areas on the detector,
a list of Mask-files can be specified. The Mask file is equivalent to a mask
file created in the Instrument View Window.</p>
<p>Note: This mask file is only used for the transmission calculation.</p>
<p>The most general selection on the detector bank will be a specified radius,
a list of ROI files and a list of Mask files. Note that individual
pixels which are specified by either the radius setting or a ROI file and
at the same time by the Mask file, will not be considered for the
transmission calculation.</p>
<p>The following example/image should help to clarify the selection process:</p>
<a class="reference internal image-reference" href="../../_images/settings_page_trans_calc.png"><img alt="../../_images/settings_page_trans_calc.png" class="align-center" src="../../_images/settings_page_trans_calc.png" style="width: 400px;" /></a>
<p>The radius selection (red) picks pixels 8, 9, 13 and14. The ROI files (red)
select pixels 9, 10, 11, 12, 14, 15, 16 and 17.
This means pixels 8 to 17 are selected.</p>
<p>The Mask file (black) selects pixels 14, 15, 19, 20, 24 and 25.
This means that pixels 14 and 15 are dropped and pixels 8, 9, 10, 11,
12, 13, 16 and 17 are being used in the final transmission calculation.</p>
</section>
<section id="fit-settings">
<h4><a class="toc-backref" href="#id22" role="doc-backlink">Fit settings</a><a class="headerlink" href="#fit-settings" title="Permalink to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td colspan="4"><dl>
<dt><strong>Fit selection</strong>        | If <em>Both</em> is selected, then the Sample and Can will have the same fit settings applied to them.</dt><dd><div class="line-block">
<div class="line">If <em>Separate</em> is selected, then the Sample and Can will have different fit settings applied</div>
<div class="line">to them. In this case a second row with fit options will appear.</div>
</div>
</dd>
</dl>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p><strong>Use fit</strong></p></td>
<td colspan="2"><p>If fitting should be used for the transmission calculation.</p></td>
</tr>
<tr class="row-odd"><td colspan="2"><p><strong>Fit type</strong></p></td>
<td colspan="2"><p>The type of fitting for the transmission calculation
This can be <em>Linear</em>, <em>Logarithmic</em> or <em>Polynomial</em>.</p></td>
</tr>
<tr class="row-even"><td colspan="2"><p><strong>Polynomal order</strong></p></td>
<td colspan="2"><p>If <em>Polynomial</em> has been chosen in the <strong>Fit type</strong> input, then the polynomial order of the
fit can be set here.</p></td>
</tr>
<tr class="row-odd"><td colspan="2"><p><strong>Custom wavelength</strong></p></td>
<td colspan="2"><p>A custom wavelength range for the fit can be specified here.</p></td>
</tr>
<tr class="row-even"><td colspan="2"><p><strong>Show Transmission</strong></p></td>
<td colspan="2"><p>Controls whether the transmission workspaces are output during reduction.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="adjustment-files">
<h4><a class="toc-backref" href="#id23" role="doc-backlink">Adjustment files</a><a class="headerlink" href="#adjustment-files" title="Permalink to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>Pixel adjustment det 1</strong></p></td>
<td><p>File name of the pixel adjustment file for the first detector.
The file to be loaded is a ‘flat cell’ (flood source) calibration file containing the relative
efficiency of individual detector pixels. Note that the numbers in this file include solid
angle corrections for the sample-detector distance at which the flood field was measured.
On SANS2D this flood field data is then rescaled for whatever sample-detector distance
the experimental data was collected at. This file must be in the RKH format and the
first column a spectrum number.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Pixel adjustment det 2</strong></p></td>
<td><p>File name of the pixel adjustment file for the second detector. See more information above.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Wavelength adjustment det 1</strong></p></td>
<td><p>File name of the wavelength adjustment file for the first detector.
The content specifies the detector efficiency ratio vs. wavelength.
These files must be in the RKH format.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Wavelength adjustment det 2</strong></p></td>
<td><p>File name of the wavelength adjustment file for the second detector.
See more information above.</p></td>
</tr>
</tbody>
</table>
</section>
</section>
</section>
<section id="q-wavelength-and-detector-limits">
<span id="q-wavelength-ref"></span><h2><a class="toc-backref" href="#id24" role="doc-backlink">Q, Wavelength and Detector Limits</a><a class="headerlink" href="#q-wavelength-and-detector-limits" title="Permalink to this heading">¶</a></h2>
<a class="reference internal image-reference" href="../../_images/settings_page_q_wavelength.png"><img alt="../../_images/settings_page_q_wavelength.png" class="align-center" src="../../_images/settings_page_q_wavelength.png" style="width: 800px;" /></a>
<section id="phi-limit">
<h3><a class="toc-backref" href="#id25" role="doc-backlink">Phi limit</a><a class="headerlink" href="#phi-limit" title="Permalink to this heading">¶</a></h3>
<p id="id5">This group allows the user to specify an angle (pizza-slice) mask. The angles
are in degree.</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>Start angle</strong></p></td>
<td><p>The starting angle.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Stop angle</strong></p></td>
<td><p>The stop angle.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Use mirror</strong></p></td>
<td><p>If the mirror sector should be used.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="radius-limit">
<h3><a class="toc-backref" href="#id26" role="doc-backlink">Radius limit</a><a class="headerlink" href="#radius-limit" title="Permalink to this heading">¶</a></h3>
<p id="id6">These settings allow for a hollow cylinder mask. The <em>Min</em> entry is the inner
radius and the <em>Max</em> entry is the outer radius of the
hollow cylinder.</p>
</section>
<section id="wavelength">
<h3><a class="toc-backref" href="#id27" role="doc-backlink">Wavelength</a><a class="headerlink" href="#wavelength" title="Permalink to this heading">¶</a></h3>
<p id="id7">The settings provide the binning for the conversion from
time-of-flight units to wavelength units. Note that all units are Angstrom.
Depending on which Step type you have chosen you will be asked to enter either
a Max and Min wavelength value between which to do the reduction or to specify a
set of wavelength ranges to reduce between. The syntax for the latter case is the
same as that used to specify event slices and is</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">start:step:stop</span></code> specifies wavelength slices from a <code class="docutils literal notranslate"><span class="pre">start</span></code> value for the <code class="docutils literal notranslate"><span class="pre">stop</span></code> value
in steps of <cite>step</cite>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">start-stop</span></code> which specifies a wavelength slice from the <code class="docutils literal notranslate"><span class="pre">start</span></code> value to the <code class="docutils literal notranslate"><span class="pre">stop</span></code> value.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&gt;start</span></code> specifies a slice from the <code class="docutils literal notranslate"><span class="pre">start</span></code> value to the end of the data set.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;stop</span></code> specifies a slice from the start of the data set to the <code class="docutils literal notranslate"><span class="pre">stop</span></code> value</p></li>
</ul>
<p>In addition it is possible to concatenate these specifications using comma-separation.
An example would be <code class="docutils literal notranslate"><span class="pre">5-10,12:2:16,20-30</span></code>.</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>Min</strong></p></td>
<td><p>The lower bound of the wavelength bins.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Max</strong></p></td>
<td><p>The upper bound of the wavelength bins.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Step</strong></p></td>
<td><p>The step of the wavelength bins.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Step type</strong></p></td>
<td><p>The step type of the wavelength bins,
i.e. linear, logarithmic range linear or
ranged logarithmic.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Ranges</strong></p></td>
<td><p>A set of wavelength ranges. This option
only appears if a range step type is
selected.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="cuts">
<h3><a class="toc-backref" href="#id28" role="doc-backlink">Cuts</a><a class="headerlink" href="#cuts" title="Permalink to this heading">¶</a></h3>
<p>These allow radius and wavelength cuts to be set. They
are passed to <a class="reference internal" href="../../algorithms/Q1D-v2.html#algm-q1d"><span class="std std-ref">Q1D</span></a> as the RadiusCut and
WaveCut respectively.</p>
</section>
<section id="q-limits">
<h3><a class="toc-backref" href="#id29" role="doc-backlink">Q limits</a><a class="headerlink" href="#q-limits" title="Permalink to this heading">¶</a></h3>
<p id="id8">The entries here allow for the providing the binning settings during the momentum transfer conversion. In the
case of a 1D reduction the user can specify standard bin information. In the case of a 2D reduction the user can only
specify the maximal momentum transfer value, as well as the step size and the step type.</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>1D settings</strong></p></td>
<td><p>The 1D settings will be used if the reduction dimensionality has been set to 1D. The user can
specify the start, stop, step size and step type of the momentum transfer bins.</p></td>
</tr>
<tr class="row-even"><td><p><strong>2D settings</strong></p></td>
<td><p>The 2D settings will be used if the reduction dimensionality has been set to 2D. The user can
specify the stop value, step size and step type of the momentum transfer bins. The start
value is 0. Note that the binning is same for both dimensions.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="gravity-correction">
<h3><a class="toc-backref" href="#id30" role="doc-backlink">Gravity correction</a><a class="headerlink" href="#gravity-correction" title="Permalink to this heading">¶</a></h3>
<p id="id9">Enabling the check-box will enable the gravity correction.
In this case an additional length can be specified.</p>
</section>
<section id="q-resolution">
<h3><a class="toc-backref" href="#id31" role="doc-backlink">Q Resolution</a><a class="headerlink" href="#q-resolution" title="Permalink to this heading">¶</a></h3>
<p>If you want to perform a momentum transfer resolution calculation
then enable the check-box of this group.
For detailed information please refer to <a class="reference internal" href="../../algorithms/TOFSANSResolutionByPixel-v1.html#algm-tofsansresolutionbypixel"><span class="std std-ref">TOFSANSResolutionByPixel</span></a>.</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>Aperture type</strong></p></td>
<td><p>The aperture for the momentum transfer resolution calculation can either be <em>Circular</em> or
<em>Rectangular</em>.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Settings for rectangular aperture</strong></p></td>
<td><p>If the <em>Rectangular</em> aperture has been selected, then fields <em>H1</em> (source height), <em>W1</em> (source
width), <em>H2</em> (sample height) and <em>W2</em> (sample width) will have to be provided.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Settings for circular aperture</strong></p></td>
<td><p>If the <em>Circular</em> aperture has been selected, then fields <em>A1</em> (source diameter) and <em>A2</em>
(sample diameter) will have to be provided.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Collimation length</strong></p></td>
<td><p>The collimation length.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Moderator file</strong></p></td>
<td><p>This file contains the moderator time spread as a function of wavelength.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Delta r</strong></p></td>
<td><p>The virtual ring width on the detector.</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="state-diagnostic">
<span id="state-diag-ref"></span><h2><a class="toc-backref" href="#id32" role="doc-backlink">State Diagnostic</a><a class="headerlink" href="#state-diagnostic" title="Permalink to this heading">¶</a></h2>
<a class="reference internal image-reference" href="../../_images/settings_page_state_diagnostic.png"><img alt="../../_images/settings_page_state_diagnostic.png" class="align-right" src="../../_images/settings_page_state_diagnostic.png" style="width: 800px;" /></a>
<p>This tab only exits for diagnostic purposes and might be removed (or hidden)
when the GUI has
reached maturity. The interface allows instrument scientists and developers
to inspect all settings in one place and check for potential inconsistencies.
The settings are presented in a tree view which reflects the hierarchical
nature of the SANS state implementation of the reduction back-end.</p>
<p>To inspect the reduction settings for a particular data set it is necessary
to press the <em>Update rows</em> button to ensure that the most recent setting
changes have been captured. Then the desired row can be selected from the
drop-down menu. The result will be displayed in the tree view.</p>
<p>Note that the settings are logically grouped by significant stages in the
reduction. On a high level these are:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>adjustment</strong></p></td>
<td colspan="3"><p>This group has four sub-groups: <em>calculate_transmission</em>, <em>normalize_to_monitor</em>,
<em>wavelength_and_pixel_adjustment</em> and <em>wide_angle_correction</em>.
<em>calculate_transmission</em> contains information regarding the transmission calculation, e.g.
the transmission monitor.
<em>normalize_to_monitor</em> contains information regarding the monitor normalization, e.g.
the incident monitor.
<em>wavelength_and_pixel_adjustment</em> contains information required to generate the wavelength- and
pixel-adjustment workspaces, e.g. the adjustment files.
<em>wide_angle_correction</em> contains information if the wide angle correction should be used.</p></td>
</tr>
<tr class="row-even"><td><p><strong>compatibility</strong></p></td>
<td colspan="3"><p>This group contains information for the compatibility mode, e.g. the time-of-flight binning.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>convert_to_q</strong></p></td>
<td colspan="3"><p>This group contains information for the the momentum transfer conversion, e.g. the momentum
transfer binning information.</p></td>
</tr>
<tr class="row-even"><td><p><strong>data</strong></p></td>
<td colspan="3"><p>This group contains information about the data which is to be reduced.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>mask</strong></p></td>
<td colspan="3"><p>This group contains information about masking, e.g. the mask files</p></td>
</tr>
<tr class="row-even"><td><p><strong>move</strong></p></td>
<td colspan="3"><p>This group contains information about the position of the instrument. This is for example used
when a data set is being loaded.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>reduction</strong></p></td>
<td colspan="3"><p>This group contains general reduction information, e.g. the reduction dimensionality.</p></td>
</tr>
<tr class="row-even"><td><p><strong>save</strong></p></td>
<td colspan="3"><p>This group contains information about how the data should be saved, e.g. the file formats.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>scale</strong></p></td>
<td colspan="3"><p>This group contains information about the absolute scaling and the volume scaling of the data
set. This means it contains the information for the sample geometry.</p></td>
</tr>
<tr class="row-even"><td><p><strong>slice</strong></p></td>
<td colspan="3"><p>This group contains information about event slicing.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>wavelength</strong></p></td>
<td colspan="3"><p>This group contains information about the wavelength conversion.</p></td>
</tr>
</tbody>
</table>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="Runs%20Tab.html" title="Previous Chapter: Runs Tab"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Runs Tab</span>
    </a>
  </li>
  <li>
    <a href="Sum%20Runs.html" title="Next Chapter: Run Summation"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Run Summation &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>