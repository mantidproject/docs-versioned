<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Solutions To Exercises</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Python In Mantid" href="../python_in_mantid/index.html" />
    <link rel="prev" title="Basic Python Exercises" href="basic_python_exercises_5.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.5</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://www.mantidproject.org">Home</a></li>
                <li><a href="https://download.mantidproject.org">Download</a></li>
                <li><a href="https://docs.mantidproject.org">Documentation</a></li>
                <li><a href="https://www.mantidproject.org/contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="../index.html" >Training</a> &#187;</li>
          
            <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">Introduction to Python</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">Solutions To Exercises</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="solutions-to-exercises">
<span id="id1"></span><h1>Solutions To Exercises<a class="headerlink" href="#solutions-to-exercises" title="Permalink to this heading">¶</a></h1>
<section id="exercise-1">
<h2>Exercise 1<a class="headerlink" href="#exercise-1" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>Write a program that prints out the square of the first 20 integers
in a block such that the block is a rectangle of size 4x5. (Hint: One
method uses the <code class="docutils literal notranslate"><span class="pre">%</span></code> (modulo) operator to test if a number is a
multiple of another number. The answer is the remainder of the
division of the lhs into whole parts, e.g. 4 % 1 = 0, 4 % 2 = 0, 4 %
3 = 1, 4 % 4 = 0)</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Write a program that prints out the square of the first</span>
<span class="c1"># 20 integers a block such that the block has a dimension of 4x5.</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">21</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="o">*</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">center</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span><span class="n">end</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="p">)</span> <span class="c1"># center is a function for strings that centers the contents to the given width</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">4</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">()</span>

<span class="c1"># ------------ Produces -------------</span>
<span class="c1"># 1   4   9   16</span>
<span class="c1"># 25  36  49  64</span>
<span class="c1"># 81 100 121 144</span>
<span class="c1">#169 196 225 256</span>
<span class="c1">#289 324 361 400</span>
</pre></div>
</div>
</section>
<section id="exercise-2">
<h2>Exercise 2<a class="headerlink" href="#exercise-2" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>Write a program that prints out the first 25 Fibonacci numbers. (The
Fibonacci sequence starts as with <code class="docutils literal notranslate"><span class="pre">0,1</span></code> and next number is the sum
of the two previous numbers)</p>
<ul>
<li><p>Extend the program to also print the ratio of successive numbers
of the sequence.</p></li>
</ul>
</li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># prev_2 - One before previous number</span>
<span class="c1"># prev_1 - Previous number</span>
<span class="n">prev_2</span><span class="p">,</span> <span class="n">prev_1</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span>

<span class="c1"># Already have first 2 terms above</span>
<span class="nb">print</span><span class="p">(</span><span class="n">prev_2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">prev_1</span><span class="p">)</span>

<span class="c1"># Now the next 23 terms (range(0,23) will run the loop 23 times)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">23</span><span class="p">):</span>
    <span class="n">current</span> <span class="o">=</span> <span class="n">prev_2</span> <span class="o">+</span> <span class="n">prev_1</span>
    <span class="c1"># Ratio to previous</span>
    <span class="n">ratio</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">current</span><span class="p">)</span><span class="o">/</span><span class="n">prev_1</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">current</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; ratio to previous= &quot;</span> <span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">ratio</span><span class="p">))</span>
    <span class="c1"># Move the previous markers along one for the next time around</span>
    <span class="n">prev_2</span> <span class="o">=</span> <span class="n">prev_1</span>
    <span class="n">prev_1</span> <span class="o">=</span> <span class="n">current</span>
</pre></div>
</div>
</section>
<section id="exercise-3">
<h2>Exercise 3<a class="headerlink" href="#exercise-3" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>Starting with your solution to exercise 2, rewrite your code so that
you have a function called <code class="docutils literal notranslate"><span class="pre">fib</span></code> that accepts a number. The
function should compute a fibonacci sequence containing this many
elements and return them as a list.</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Write a program that builds a list of the first 20 Fibonacci numbers, then</span>
<span class="c1">## Use the list to print out the value of the ratio of successive numbers of the sequence,</span>
<span class="c1">##   printing out the final value.</span>
<span class="c1">## Extend the program so that the Fibonacci list is calculated in a function that takes the</span>
<span class="c1">##   number of required values as a parameter and returns the list.</span>

<span class="c1"># Function to calculate the first n fibonacci numbers</span>
<span class="c1"># and return them as a list</span>
<span class="k">def</span> <span class="nf">fib</span><span class="p">(</span><span class="n">nfibs</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">nfibs</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">[]</span>
    <span class="k">elif</span> <span class="n">nfibs</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">pass</span>
    <span class="c1"># First two numbers</span>
    <span class="n">fibs</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">nfibs</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">fibs</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">nfibs</span><span class="p">):</span>
        <span class="n">fibs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">fibs</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">fibs</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">fibs</span>

<span class="c1">#### fib ends here ####</span>

<span class="c1"># Print out successive ratio remembering that the first number is a zero</span>
<span class="n">nfibs</span> <span class="o">=</span> <span class="mi">20</span>
<span class="n">fib_nums</span> <span class="o">=</span> <span class="n">fib</span><span class="p">(</span><span class="n">nfibs</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">nfibs</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">numerator</span> <span class="o">=</span> <span class="n">fib_nums</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="n">denominator</span> <span class="o">=</span> <span class="n">fib_nums</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">ratio</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">numerator</span><span class="p">)</span><span class="o">/</span><span class="n">denominator</span>
    <span class="k">except</span> <span class="ne">ZeroDivisionError</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Warning: Invalid ratio: &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">numerator</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">denominator</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Ratio &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">numerator</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">denominator</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;: &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">ratio</span><span class="p">))</span>

<span class="c1">##### Produces #####</span>
<span class="c1">#Warning: Invalid ratio: 1/0</span>
<span class="c1">#Ratio 1/1:  1.0</span>
<span class="c1">#Ratio 2/1:  2.0</span>
<span class="c1">#Ratio 3/2:  1.5</span>
<span class="c1">#Ratio 5/3:  1.66666666667</span>
<span class="c1">#Ratio 8/5:  1.6</span>
<span class="c1">#Ratio 13/8:  1.625</span>
<span class="c1">#Ratio 21/13:  1.61538461538</span>
<span class="c1">#Ratio 34/21:  1.61904761905</span>
<span class="c1">#Ratio 55/34:  1.61764705882</span>
<span class="c1">#Ratio 89/55:  1.61818181818</span>
<span class="c1">#Ratio 144/89:  1.61797752809</span>
<span class="c1">#Ratio 233/144:  1.61805555556</span>
<span class="c1">#Ratio 377/233:  1.61802575107</span>
<span class="c1">#Ratio 610/377:  1.61803713528</span>
<span class="c1">#Ratio 987/610:  1.61803278689</span>
<span class="c1">#Ratio 1597/987:  1.61803444782</span>
<span class="c1">#Ratio 2584/1597:  1.6180338134</span>
<span class="c1">#Ratio 4181/2584:  1.61803405573</span>
</pre></div>
</div>
</section>
<section id="exercise-4">
<h2>Exercise 4<a class="headerlink" href="#exercise-4" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>Write a program that creates a dictionary and initializes it with 5
names/ID pairs.</p>
<ul>
<li><p>Create a function that prints out the dictionary as a 2 columns:
the first being the key and the second the value</p></li>
<li><p>Update the dictionary with another 5 name/values and reprint the
table, making sure you understand the ordering within the map</p></li>
</ul>
</li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Write a program that creates a dictionary and initializes it with 5 names/ID pairs.</span>
<span class="c1">## Create a function that prints out the dictionary in a nicely formatted table;</span>
<span class="c1">## Update the dictionary with another 5 name/values and reprint the table,</span>
<span class="c1">##   making sure you understand the ordering within the map.</span>

<span class="k">def</span> <span class="nf">formatLine</span><span class="p">(</span><span class="n">cola</span><span class="p">,</span> <span class="n">colb</span><span class="p">,</span> <span class="n">width</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">cola</span><span class="o">.</span><span class="n">center</span><span class="p">(</span><span class="n">width</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;|&#39;</span> <span class="o">+</span> <span class="n">colb</span><span class="o">.</span><span class="n">center</span><span class="p">(</span><span class="n">width</span><span class="p">)</span>

<span class="c1"># A simple two cloumn print out</span>
<span class="k">def</span> <span class="nf">outputStore</span><span class="p">(</span><span class="n">store</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Phonebook contains </span><span class="si">{}</span><span class="s1"> entries:&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">store</span><span class="p">)))</span>

    <span class="c1"># Do a quick sweep to find out the longest name</span>
    <span class="n">col_width</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">store</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">col_width</span><span class="p">:</span>
            <span class="n">col_width</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
    <span class="n">col_width</span> <span class="o">+=</span> <span class="mi">5</span>

    <span class="c1"># Header</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="n">col_width</span><span class="o">*</span><span class="mi">2</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">formatLine</span><span class="p">(</span><span class="s1">&#39;Name&#39;</span><span class="p">,</span> <span class="s1">&#39;Ext.&#39;</span><span class="p">,</span> <span class="n">col_width</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="n">col_width</span><span class="o">*</span><span class="mi">2</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">k</span> <span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">store</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">formatLine</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">),</span> <span class="n">col_width</span><span class="p">))</span>

<span class="n">phone_book</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Martyn Gigg&#39;</span> <span class="p">:</span> <span class="mi">1234</span><span class="p">,</span> <span class="s1">&#39;Joe Bloggs&#39;</span> <span class="p">:</span> <span class="mi">1233</span><span class="p">,</span> <span class="s1">&#39;Guido Van Rossum&#39;</span> <span class="p">:</span> <span class="mi">4321</span><span class="p">,</span> <span class="s1">&#39;Bob&#39;</span> <span class="p">:</span> <span class="mi">2314</span><span class="p">,</span> <span class="s1">&#39;Linus Torvalds&#39;</span> <span class="p">:</span> <span class="mi">4132</span> <span class="p">}</span>
<span class="n">outputStore</span><span class="p">(</span><span class="n">phone_book</span><span class="p">)</span>

<span class="c1"># Update Dictionary (replacing one person&#39;s phone number</span>
<span class="n">new_entries</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Bjarne Strousoup&#39;</span> <span class="p">:</span> <span class="mi">9876</span><span class="p">,</span> <span class="s1">&#39;Bill Gates&#39;</span> <span class="p">:</span> <span class="mi">9898</span><span class="p">,</span> <span class="s1">&#39;Steve Jobs&#39;</span> <span class="p">:</span> <span class="mi">7898</span><span class="p">,</span> \
              <span class="s1">&#39;Bob&#39;</span> <span class="p">:</span> <span class="mi">9871</span><span class="p">,</span> <span class="s1">&#39;Dave&#39;</span> <span class="p">:</span> <span class="mi">7098</span> <span class="p">}</span>

<span class="n">phone_book</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">new_entries</span><span class="p">)</span>
<span class="n">outputStore</span><span class="p">(</span><span class="n">phone_book</span><span class="p">)</span>

<span class="c1">#------------- Produces --------------------</span>

<span class="c1">#Phonebook contains 5 entries:</span>
<span class="c1">#------------------------------------------</span>
<span class="c1">#         Name        |         Ext.</span>
<span class="c1">#------------------------------------------</span>
<span class="c1">#         Bob         |         2314</span>
<span class="c1">#      Joe Bloggs     |         1233</span>
<span class="c1">#    Linus Torvalds   |         4132</span>
<span class="c1">#   Guido Van Rossum  |         4321</span>
<span class="c1">#     Martyn Gigg     |         1234</span>
<span class="c1">#Phonebook contains 9 entries:</span>
<span class="c1">#------------------------------------------</span>
<span class="c1">#         Name        |         Ext.</span>
<span class="c1">#------------------------------------------</span>
<span class="c1">#   Guido Van Rossum  |         4321</span>
<span class="c1">#     Martyn Gigg     |         1234</span>
<span class="c1">#      Steve Jobs     |         7898</span>
<span class="c1">#   Bjarne Strousoup  |         9876</span>
<span class="c1">#      Joe Bloggs     |         1233</span>
<span class="c1">#    Linus Torvalds   |         4132</span>
<span class="c1">#         Dave        |         7098</span>
<span class="c1">#      Bill Gates     |         9898</span>
<span class="c1">#         Bob         |         9871</span>
</pre></div>
</div>
</section>
<section id="exercise-5">
<h2>Exercise 5<a class="headerlink" href="#exercise-5" title="Permalink to this heading">¶</a></h2>
<ol class="arabic simple">
<li><p>Build a list containing the 5 filenames of the text files that are
going to be used. (Hint: Can be done by hand or using the
os.listdir(‘dirpath’) function in the os module)</p></li>
<li><p>Add a bogus file name that doesn’t exist to the list (so that we have
to do some error handling)</p></li>
<li><p>Loop over the list and for each file (Remember here that we have a
non existent file in the list and calling open on this will result in
an IOError exception that needs to be dealt with)</p>
<ol class="arabic simple">
<li><p>Open the file;</p></li>
<li><p>Loop over each line;</p></li>
<li><p>Split the line up into sections (Hint: The string has a
<code class="docutils literal notranslate"><span class="pre">.split()</span></code> function that splits the string on whitespace and
gives back a list with each section as an element of the list)</p></li>
<li><p>Convert the second column value into an float</p></li>
<li><p>Keep track of the values for each line and compute an average for
the file.</p></li>
</ol>
</li>
<li><p>Finally, print out a list of file,average-value pairs</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">## Exercise 5</span>
<span class="c1">#   1.  Build a list containing the 5 filenames of the text files that are going to be used.</span>
<span class="c1">#       (Hint: Can be done by hand or using the os.listdir() function in the os module)</span>
<span class="c1">#   2. Add a bogus file name that doesn&#39;t exist to the list (so that we have to do some error handling)</span>
<span class="c1">#   3. Loop over the list and for each file (Remember here that we have a non existent file in the list and calling open</span>
<span class="c1">#      on this will result in an IOError exception that needs to be dealt with)</span>
<span class="c1">#         1. Open the file;</span>
<span class="c1">#         2. Loop over each line;</span>
<span class="c1">#         3. Split the line up into sections (Hint: The string has a .split() function that splits the string on</span>
<span class="c1">#            whitespace and gives back a list with each section as an element of the list)</span>
<span class="c1">#         4. Convert the second column value into an integer</span>
<span class="c1">#         5. Keep track of the values for each line and compute an average for the file.</span>
<span class="c1">#   4. Finally, print out a list of file,average-value pairs</span>
<span class="kn">import</span> <span class="nn">os</span>

<span class="n">file_dir</span> <span class="o">=</span> <span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">MantidInstall</span><span class="se">\\</span><span class="s2">data</span><span class="se">\\</span><span class="s2">&quot;</span>
<span class="n">file_names</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">file_dir</span><span class="p">)</span>
<span class="n">file_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;nonexistant.txt&#39;</span><span class="p">)</span>
<span class="n">average_store</span> <span class="o">=</span> <span class="p">{}</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Computing average for log files in directory &quot;&#39;</span> <span class="o">+</span> <span class="n">file_dir</span> <span class="o">+</span> <span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">file_names</span><span class="p">:</span>
    <span class="c1"># Skip all no text files</span>
    <span class="k">if</span> <span class="n">name</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;.txt&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
        <span class="k">continue</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">file_handle</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">file_dir</span><span class="p">,</span><span class="n">name</span><span class="p">),</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">IOError</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">Error: No such file: &quot;&#39;</span> <span class="o">+</span> <span class="n">name</span> <span class="o">+</span> <span class="s1">&#39;&quot;. Skipping file&#39;</span><span class="p">)</span>
        <span class="k">continue</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">Reading file&#39;</span><span class="p">,</span><span class="n">name</span><span class="p">)</span>
    <span class="c1"># At this point we have an open file</span>
    <span class="n">average</span> <span class="o">=</span> <span class="mf">0.0</span>
    <span class="n">nvalues</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">line_counter</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">file_handle</span><span class="p">:</span>
        <span class="n">columns</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">columns</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">average</span> <span class="o">+=</span> <span class="nb">float</span><span class="p">(</span><span class="n">columns</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
            <span class="n">nvalues</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">Warning: Unexpected file format encountered in file </span><span class="si">{0}</span><span class="s1">  on line </span><span class="si">{1}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="n">line_counter</span><span class="p">))</span>
        <span class="n">line_counter</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="n">average</span> <span class="o">/=</span> <span class="n">nvalues</span>
    <span class="n">average_store</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">average</span>
    <span class="n">file_handle</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c1"># Print out file averages</span>
<span class="n">column_width</span> <span class="o">=</span> <span class="mi">30</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="n">column_width</span><span class="o">*</span><span class="mi">2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;File&#39;</span><span class="o">.</span><span class="n">center</span><span class="p">(</span><span class="n">column_width</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;|&#39;</span> <span class="o">+</span> <span class="s1">&#39;Average&#39;</span><span class="o">.</span><span class="n">center</span><span class="p">(</span><span class="n">column_width</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="n">column_width</span><span class="o">*</span><span class="mi">2</span><span class="p">)</span>
<span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">average_store</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">key</span><span class="o">.</span><span class="n">center</span><span class="p">(</span><span class="n">column_width</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;|&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="o">.</span><span class="n">center</span><span class="p">(</span><span class="n">column_width</span><span class="p">))</span>
</pre></div>
</div>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="basic_python_exercises_5.html" title="Previous Chapter: Basic Python Exercises"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Basic Python ...</span>
    </a>
  </li>
  <li>
    <a href="../python_in_mantid/index.html" title="Next Chapter: Python In Mantid"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Python In Mantid &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>