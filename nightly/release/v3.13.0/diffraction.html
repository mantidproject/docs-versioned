<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Diffraction Changes</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="MuSR Changes" href="muon.html" />
    <link rel="prev" title="UI &amp; Usability Changes" href="ui.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.5</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://www.mantidproject.org">Home</a></li>
                <li><a href="https://download.mantidproject.org">Download</a></li>
                <li><a href="https://docs.mantidproject.org">Documentation</a></li>
                <li><a href="https://www.mantidproject.org/contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="../index.html" >Release Notes</a> &#187;</li>
          
            <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">Mantid 3.13.0 Release Notes</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">Diffraction Changes</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="diffraction-changes">
<h1>Diffraction Changes<a class="headerlink" href="#diffraction-changes" title="Permalink to this heading">¶</a></h1>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#powder-diffraction" id="id6">Powder Diffraction</a></p>
<ul>
<li><p><a class="reference internal" href="#new" id="id7">New</a></p></li>
<li><p><a class="reference internal" href="#improvements" id="id8">Improvements</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#engineering-diffraction" id="id9">Engineering Diffraction</a></p>
<ul>
<li><p><a class="reference internal" href="#id1" id="id10">Improvements</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#single-crystal-diffraction" id="id11">Single Crystal Diffraction</a></p>
<ul>
<li><p><a class="reference internal" href="#id2" id="id12">New</a></p></li>
<li><p><a class="reference internal" href="#id3" id="id13">Improvements</a></p></li>
</ul>
</li>
</ul>
</nav>
<p><a class="reference internal" href="index.html#v3-13-0"><span class="std std-ref">Release 3.13.0</span></a></p>
<section id="powder-diffraction">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">Powder Diffraction</a><a class="headerlink" href="#powder-diffraction" title="Permalink to this heading">¶</a></h2>
<section id="new">
<h3><a class="toc-backref" href="#id7" role="doc-backlink">New</a><a class="headerlink" href="#new" title="Permalink to this heading">¶</a></h3>
<figure class="align-center" id="id4">
<img alt="../../_images/D2B_calib.png" src="../../_images/D2B_calib.png" />
<figcaption>
<p><span class="caption-text">D2B calibration constants generated from <strong>PowderDiffILLDetEffCorr</strong>.</span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<ul class="simple">
<li><p><a class="reference internal" href="../../algorithms/LoadILLDiffraction-v1.html#algm-loadilldiffraction"><span class="std std-ref">LoadILLDiffraction</span></a> is extended to apply vertical and horizontal tube alignment for D2B, based on the IPF.</p></li>
<li><p><a class="reference internal" href="../../algorithms/LoadILLDiffraction-v1.html#algm-loadilldiffraction"><span class="std std-ref">LoadILLDiffraction</span></a> is modified to comply with the U-shape convention for tube numbering for D2B.</p></li>
<li><p><strong>PowderDiffILLDetEffCorr</strong> is extended to compute the detector efficiencies also for the 2-dimensional scanning diffractometer D2B at the ILL.</p></li>
<li><p><strong>PowderDiffILLDetEffCorr</strong> is extended to provide automatic masking of the pixels with spurious calibration constants.</p></li>
<li><p><strong>PowderDiffILLDetEffCorr</strong> will now ignore the last scan point data, if some of the input files have 26 points, instead of 25.</p></li>
<li><p><strong>PowderDiffILLDetScanReduction</strong> is extended to provide initial masking of the top and bottom parts of the tubes, and final masking of the 2D outputs.</p></li>
<li><p><a class="reference internal" href="../../algorithms/WANDPowderReduction-v1.html#algm-wandpowderreduction"><span class="std std-ref">WANDPowderReduction</span></a> performs powder diffraction data reduction for WAND² with calibration, monitor normalisation and background subtraction.</p></li>
<li><p>New NOMAD instrument geometry for 2018 run cycle</p></li>
<li><p>New POWGEN instrument geometry for 2018 run cycle</p></li>
<li><p>New SNAP instrument geometry for 2018 run cycle with configuration for live data</p></li>
</ul>
</section>
<section id="improvements">
<h3><a class="toc-backref" href="#id8" role="doc-backlink">Improvements</a><a class="headerlink" href="#improvements" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Changing settings while running methods on the PEARL object no
longer updates the default settings. Instead, initial settings are
taken as the default, and any changes are reverted back to the
default once the line they were made on has finished executing</p></li>
<li><p>Focusing in texture-mode (160 banks) was enabled for GEM. The output
is saved to several formats:</p>
<ul>
<li><p>The three-column <code class="docutils literal notranslate"><span class="pre">.gem</span></code> format</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">.maud</span></code> calibration file format, for conversion to d-spacing (uses a new algorithm
<a class="reference internal" href="../../algorithms/SaveGEMMAUDParamFile-v1.html#algm-savegemmaudparamfile"><span class="std std-ref">SaveGEMMAUDParamFile</span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="../../algorithms/PDCalibration-v1.html#algm-pdcalibration"><span class="std std-ref">PDCalibration</span></a> has major upgrades including making use of <a class="reference internal" href="../../algorithms/FitPeaks-v1.html#algm-fitpeaks"><span class="std std-ref">FitPeaks</span></a> for the individual peak fitting</p></li>
<li><p><a class="reference internal" href="../../algorithms/StripPeaks-v1.html#algm-strippeaks"><span class="std std-ref">StripPeaks</span></a> has been adjusted to allow for removing peaks that have only 3 bins across them (decreased from 5 bins)</p></li>
<li><p><a class="reference internal" href="../../algorithms/AlignAndFocusPowder-v1.html#algm-alignandfocuspowder"><span class="std std-ref">AlignAndFocusPowder</span></a> had a bug when binning in time-of-flight without using a property manager to specify the time-of-flight range. In other words: characterization files are no longer necessary.</p></li>
</ul>
</section>
</section>
<section id="engineering-diffraction">
<h2><a class="toc-backref" href="#id9" role="doc-backlink">Engineering Diffraction</a><a class="headerlink" href="#engineering-diffraction" title="Permalink to this heading">¶</a></h2>
<section id="id1">
<h3><a class="toc-backref" href="#id10" role="doc-backlink">Improvements</a><a class="headerlink" href="#id1" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Improvements to the GSAS tab:</p>
<ul>
<li><p>GSASIIRefineFitPeaks is now run asynchronously in the GUI, so the
tab no longer locks when a refinement is run</p></li>
<li><p>A <strong>Refine All</strong> button was added to run refinement on every run
loaded into the tab</p></li>
</ul>
</li>
<li><p><a class="reference internal" href="../../algorithms/GSASIIRefineFitPeaks-v1.html#algm-gsasiirefinefitpeaks"><span class="std std-ref">GSASIIRefineFitPeaks</span></a> now supports Pawley refinement as well as Rietveld</p></li>
<li><p>HDF5 is now the standard format for saving data from the GUI:</p>
<ul>
<li><p>Single peak fitting output is now saved as HDF5 instead of CSV,
using <a class="reference internal" href="../../algorithms/EnggSaveSinglePeakFitResultsToHDF5-v1.html#algm-enggsavesinglepeakfitresultstohdf5"><span class="std std-ref">EnggSaveSinglePeakFitResultsToHDF5</span></a>. The algorithm
previously used for saving to CSV, <strong>SaveDiffFittingAscii</strong>, has
been deprecated</p></li>
<li><p>Fit results and parameters are saved to HDF5 from the <strong>GSAS
Refinement</strong> tab using <a class="reference internal" href="../../algorithms/EnggSaveGSASIIFitResultsToHDF5-v1.html#algm-enggsavegsasiifitresultstohdf5"><span class="std std-ref">EnggSaveGSASIIFitResultsToHDF5</span></a></p></li>
<li><p>After focusing, workspace sample logs are saved to HDF5 using
<a class="reference internal" href="../../algorithms/ExportSampleLogsToHDF5-v1.html#algm-exportsamplelogstohdf5"><span class="std std-ref">ExportSampleLogsToHDF5</span></a></p></li>
</ul>
</li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">.nxs</span></code> file from the Focus tab is now saved in the Focus directory with all the other focus output</p></li>
</ul>
</section>
</section>
<section id="single-crystal-diffraction">
<h2><a class="toc-backref" href="#id11" role="doc-backlink">Single Crystal Diffraction</a><a class="headerlink" href="#single-crystal-diffraction" title="Permalink to this heading">¶</a></h2>
<section id="id2">
<h3><a class="toc-backref" href="#id12" role="doc-backlink">New</a><a class="headerlink" href="#id2" title="Permalink to this heading">¶</a></h3>
<figure class="align-center" id="id5">
<img alt="../../_images/LoadWANDSCD.png" src="../../_images/LoadWANDSCD.png" />
<figcaption>
<p><span class="caption-text">Integrated output from LoadWANDSCD <a class="reference internal" href="../../algorithms/LoadWANDSCD-v1.html#algm-loadwandscd-v1"><span class="std std-ref">LoadDNSSCD</span></a></span><a class="headerlink" href="#id5" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<ul class="simple">
<li><p>New algorithm <a class="reference internal" href="../../algorithms/LoadDNSSCD-v1.html#algm-loaddnsscd"><span class="std std-ref">LoadDNSSCD</span></a> to load multiple single crystal diffraction data files from the DNS instrument into MDEventWorkspace.</p></li>
<li><p>New algorithms <a class="reference internal" href="../../algorithms/LoadWANDSCD-v1.html#algm-loadwandscd"><span class="std std-ref">LoadWANDSCD</span></a> and <a class="reference internal" href="../../algorithms/ConvertWANDSCDtoQ-v1.html#algm-convertwandscdtoq"><span class="std std-ref">ConvertWANDSCDtoQ</span></a> to load single crystal HB2C data and convert it to either Q-sample or HKL space.</p></li>
<li><p>New algorithm <a class="reference internal" href="../../algorithms/IntegratePeaksProfileFitting-v1.html#algm-integratepeaksprofilefitting"><span class="std std-ref">IntegratePeaksProfileFitting</span></a> to integrate peaks using 3D profile fitting in reciprocal space.</p></li>
<li><p>New algorithm <a class="reference internal" href="../../algorithms/FindSatellitePeaks-v1.html#algm-findsatellitepeaks"><span class="std std-ref">FindSatellitePeaks</span></a> to predict the location of fractional satellite peaks using a set of nuclear peaks and a set of seed satellite peaks.</p></li>
<li><p>New algorithm <a class="reference internal" href="../../algorithms/IndexSatellitePeaks-v1.html#algm-indexsatellitepeaks"><span class="std std-ref">IndexSatellitePeaks</span></a> to index satellite peaks found using the <a class="reference internal" href="../../algorithms/FindSatellitePeaks-v1.html#algm-findsatellitepeaks"><span class="std std-ref">FindSatellitePeaks</span></a> algorithm.</p></li>
<li><p><a class="reference internal" href="../../algorithms/SaveLauenorm-v1.html#algm-savelauenorm"><span class="std std-ref">SaveLauenorm</span></a> now has input options for crystal system and reflection condition for lscale output instead of trying to determine from lattice parameters.</p></li>
<li><p>New TOPAZ instrument geometry for 2018 run cycle</p></li>
</ul>
</section>
<section id="id3">
<h3><a class="toc-backref" href="#id13" role="doc-backlink">Improvements</a><a class="headerlink" href="#id3" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="../../algorithms/CreatePeaksWorkspace-v1.html#algm-createpeaksworkspace"><span class="std std-ref">CreatePeaksWorkspace</span></a> now accepts MD workspaces as input.</p></li>
<li><p>PeaksWorkspace has column added for the unique peak number so peaks can be found after sorting or filtering.</p></li>
<li><p><a class="reference internal" href="../../algorithms/StatisticsOfPeaksWorkspace-v1.html#algm-statisticsofpeaksworkspace"><span class="std std-ref">StatisticsOfPeaksWorkspace</span></a> has option to use a weighted Z score for determining which peaks are outliers and has a new output workspace for plotting intensities of equivalent peaks.</p></li>
</ul>
</section>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="ui.html" title="Previous Chapter: UI & Usability Changes"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; UI & Usabilit...</span>
    </a>
  </li>
  <li>
    <a href="muon.html" title="Next Chapter: MuSR Changes"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">MuSR Changes &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>