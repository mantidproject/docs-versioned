<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Framework Changes</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Indirect Geometry Changes" href="indirect_geometry.html" />
    <link rel="prev" title="Direct Geometry Changes" href="direct_geometry.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.5</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://docs.mantidproject.org/nightly/">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="../index.html" >Release Notes</a> &#187;</li>
          
            <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">Mantid 6.0.0 Release Notes</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">Framework Changes</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="framework-changes">
<h1>Framework Changes<a class="headerlink" href="#framework-changes" title="Permalink to this heading">¶</a></h1>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#installation" id="id1">Installation</a></p></li>
<li><p><a class="reference internal" href="#concepts" id="id2">Concepts</a></p></li>
<li><p><a class="reference internal" href="#algorithms" id="id3">Algorithms</a></p></li>
<li><p><a class="reference internal" href="#fitting" id="id4">Fitting</a></p></li>
<li><p><a class="reference internal" href="#python" id="id5">Python</a></p></li>
</ul>
</nav>
<figure class="align-right">
<a class="screenshot reference internal image-reference" href="../../_images/mantid_workbenchnightly.png"><img alt="../../_images/mantid_workbenchnightly.png" class="screenshot" src="../../_images/mantid_workbenchnightly.png" style="width: 200px;" /></a>
</figure>
<section id="installation">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">Installation</a><a class="headerlink" href="#installation" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p><strong>The macOS bundle is now suffixed with</strong> <code class="docutils literal notranslate"><span class="pre">Nightly</span></code> <strong>if it comes from a nightly development build and so can be installed alongside a full release build.</strong></p></li>
</ul>
</section>
<section id="concepts">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Concepts</a><a class="headerlink" href="#concepts" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>Sphinx documentation now uses MathJax to render equations</p></li>
<li><p>Time-dependent values for individual instrument parameters are now allowed</p></li>
<li><p>Added a <code class="docutils literal notranslate"><span class="pre">PythonStdOutChannel</span></code> and the ability to change the <a class="reference internal" href="../../concepts/PropertiesFile.html#properties-file"><span class="std std-ref">logging channel</span></a> without restarting mantid framework</p></li>
<li><p>Added packing fraction to <a class="reference internal" href="../../concepts/Materials.html#materials"><span class="std std-ref">Material</span></a> for separate and effective number density</p></li>
<li><p>Bugfix <a class="reference internal" href="../../algorithms/DownloadInstrument-v1.html#algm-downloadinstrument"><span class="std std-ref">DownloadInstrument</span></a> to try unauthenticated connections if authenticated failes. Also added the ability to allow for setting the github api token in the <a class="reference internal" href="../../concepts/PropertiesFile.html#properties-file"><span class="std std-ref">properties file</span></a></p></li>
</ul>
</section>
<section id="algorithms">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Algorithms</a><a class="headerlink" href="#algorithms" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="../../algorithms/SetSample-v1.html#algm-setsample"><span class="std std-ref">SetSample</span></a> and <a class="reference internal" href="../../algorithms/SetSampleMaterial-v1.html#algm-setsamplematerial"><span class="std std-ref">SetSampleMaterial</span></a> allow setting the packing fraction and effective number density</p></li>
<li><p>The calculation of distance is now correct for tracks passing through objects that have multiple intercepting surfaces, e.g. hollow cylinder. This affects algorithms such as <a class="reference internal" href="../../algorithms/AbsorptionCorrection-v1.html#algm-absorptioncorrection"><span class="std std-ref">AbsorptionCorrection</span></a>.</p></li>
<li><p><a class="reference internal" href="../../algorithms/AlignComponents-v1.html#algm-aligncomponents"><span class="std std-ref">AlignComponents</span></a> now minimizes a set of peak-center deviations in d-spacing, instead of the geometrical DIFC parameters.</p></li>
<li><p><a class="reference internal" href="../../algorithms/CropWorkspaceRagged-v1.html#algm-cropworkspaceragged"><span class="std std-ref">CropWorkspaceRagged</span></a> now produces a ragged workspace and can now be used on large data sets.</p></li>
<li><p><a class="reference internal" href="../../algorithms/CreateGroupingWorkspace-v1.html#algm-creategroupingworkspace"><span class="std std-ref">CreateGroupingWorkspace</span></a> now has the ability to specify a <code class="docutils literal notranslate"><span class="pre">CustomGroupingString</span></code>.</p></li>
<li><p><a class="reference internal" href="../../algorithms/LoadLamp-v1.html#algm-loadlamp"><span class="std std-ref">LoadLamp</span></a> is corrected to load sample logs with python3.</p></li>
<li><p><a class="reference internal" href="../../algorithms/CalculateEfficiency-v2.html#algm-calculateefficiency"><span class="std std-ref">CalculateEfficiency</span></a> has a new property <code class="docutils literal notranslate"><span class="pre">MergeGroups</span></code> that merges and averages the input group
Masked spectra will be filled with data (if available) from other entries of the input group instead of processing them
entry-by-entry. The algorithm now also overwrites the <code class="docutils literal notranslate"><span class="pre">processGroups</span></code> method. These features aide the calculation of sensitivity maps.</p></li>
</ul>
</section>
<section id="fitting">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Fitting</a><a class="headerlink" href="#fitting" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>Added button to clear all custom setups in <code class="docutils literal notranslate"><span class="pre">Setup</span> <span class="pre">&gt;</span> <span class="pre">Manage</span> <span class="pre">Setups</span></code> menu</p></li>
<li><p>Corrected a bug in the calculation of uncertainty bands on the calculated fit curve. This correction showed agreement with the python fitting package <code class="docutils literal notranslate"><span class="pre">kmpfit</span></code>.</p></li>
</ul>
</section>
<section id="python">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Python</a><a class="headerlink" href="#python" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>Created a new module <a class="reference internal" href="../../api/python/mantid/utils/index.html#mantid-utils"><span class="std std-ref">mantid.utils</span></a> to allow for code sharing between algorithms.</p></li>
<li><p><a class="reference internal" href="../../api/python/mantid/api/IMDWorkspace.html#mantid.api.IMDWorkspace.getNumNonIntegratedDims" title="mantid.api.IMDWorkspace.getNumNonIntegratedDims"><code class="xref py py-meth docutils literal notranslate"><span class="pre">mantid.api.IMDWorkspace.getNumNonIntegratedDims()</span></code></a> returns the number of non-integrated dimensions present.</p></li>
<li><p>The reliability of Mantid downloading Instrument data from the GitHub API has been improved. Mantid tries an initial authenticated call and falls back on an anonymous call. The anonymous call wasn’t working properly and this has been fixed.</p></li>
<li><p>Give warning when instrument in Facilities.xml has errors</p></li>
<li><p>Error log messages (e.g. <code class="docutils literal notranslate"><span class="pre">dx=</span> <span class="pre">0.25</span> <span class="pre">0.251</span> <span class="pre">12</span></code>) from an EqualBinChecker are now no longer produced when editing python scripts, if a workspace is present with unequal bin sizes</p></li>
<li><p>Warning log messages from the InstrumentValidator are no longer produced when editing some python scripts.</p></li>
<li><p>Setting the same axis to multiple workspaces clones the axis, avoiding a possible crash.</p></li>
</ul>
<p><a class="reference internal" href="index.html#v6-0-0"><span class="std std-ref">Release 6.0.0</span></a></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="direct_geometry.html" title="Previous Chapter: Direct Geometry Changes"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Direct Geomet...</span>
    </a>
  </li>
  <li>
    <a href="indirect_geometry.html" title="Next Chapter: Indirect Geometry Changes"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Indirect Geom... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>