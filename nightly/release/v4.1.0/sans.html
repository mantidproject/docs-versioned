<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>SANS Changes</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Mantid 4.2.0 Release Notes" href="../v4.2.0/index.html" />
    <link rel="prev" title="Reflectometry Changes" href="reflectometry.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.5</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://docs.mantidproject.org/nightly/">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="../index.html" >Release Notes</a> &#187;</li>
          
            <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">Mantid 4.1.0 Release Notes</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">SANS Changes</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="sans-changes">
<h1>SANS Changes<a class="headerlink" href="#sans-changes" title="Permalink to this heading">¶</a></h1>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#isis-sans-interface" id="id2">ISIS SANS Interface</a></p>
<ul>
<li><p><a class="reference internal" href="#new" id="id3">New</a></p></li>
<li><p><a class="reference internal" href="#improvements" id="id4">Improvements</a></p></li>
<li><p><a class="reference internal" href="#bug-fixes" id="id5">Bug Fixes</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#algorithms" id="id6">Algorithms</a></p>
<ul>
<li><p><a class="reference internal" href="#id1" id="id7">New</a></p></li>
<li><p><a class="reference internal" href="#improved" id="id8">Improved</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="isis-sans-interface">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">ISIS SANS Interface</a><a class="headerlink" href="#isis-sans-interface" title="Permalink to this heading">¶</a></h2>
<section id="new">
<h3><a class="toc-backref" href="#id3" role="doc-backlink">New</a><a class="headerlink" href="#new" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Non-compatibility reduction mode has been reactivated. In non-compatibility mode, workspaces are kept as event slices for longer for a quicker reduction. To use non-compatibility mode, uncheck <strong>Compatibility mode</strong> in the settings tab.</p></li>
<li><p>Reductions can be optimised for event slices. To use this mode, check <strong>Event slice optimization</strong> and uncheck <strong>Compatibility mode</strong> in the settings tab.</p></li>
</ul>
</section>
<section id="improvements">
<h3><a class="toc-backref" href="#id4" role="doc-backlink">Improvements</a><a class="headerlink" href="#improvements" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Increased font size in run table.</p></li>
<li><p>For ZOOM, SHIFT user file command now moves monitor 5.</p></li>
<li><p>canSAS output mode will be disabled if 2D reduction mode is selected to avoid accidental errors with data dimension.</p></li>
<li><p><strong>Load Batch File</strong> opens to the directory of your last selected batch file. <strong>Load User File</strong> opens to the directory of your last selected user file.</p></li>
<li><p>Batch files created by exporting the runs table have the same order of keys as in the table.</p></li>
<li><p>Batch files no longer require an output name to load. When processing, an auto-generated name is used instead.</p></li>
<li><p>When the main save directory is changed, the add runs save directory is also updated. Add runs save directory can be still changed independently of the main save directory.</p></li>
<li><p>File type buttons are disabled when memory mode is selected to make it clearer that SANS will not save to file.</p></li>
<li><p>The path to the user file used to reduce the data is now added to the workspace sample logs. This user file path is added to canSAS file metadata.</p></li>
<li><p>The <strong>diagnostic</strong> page icon has been changed from a question mark to a stethoscope, to distinguish it from the <strong>Help</strong> page icon. The <strong>Export Table</strong> button now has an icon. There have been minor icon changes elsewhere on the interface.</p></li>
<li><p>Sample thickness, height, and width can be read from a batch file. These parameters are also included in the batch file generated from exporting the table.</p></li>
<li><p>The beam centre HAB/LAB update checkboxes are automatically deselected if you select LAB/HAB as the reduction mode, respectively.</p></li>
<li><p>The run numbers for sample transmission, sample direct, can scatter, and can direct workspaces are now added to NXCanSAS and CanSAS files.</p></li>
</ul>
</section>
<section id="bug-fixes">
<h3><a class="toc-backref" href="#id5" role="doc-backlink">Bug Fixes</a><a class="headerlink" href="#bug-fixes" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Fixed the error seen when saving to file with event slice data. Event slice output files now contain transmission workspaces.</p></li>
<li><p>Exporting table as a batch file is fixed for Mantid Workbench.</p></li>
<li><p>The warning message raised when you have supplied a transmission run without a direct run has been suppressed when data is still being input. The warning will still be raised if you load or process the data.</p></li>
<li><p>The algorithm <a class="reference internal" href="../../algorithms/Load-v1.html#algm-load"><span class="std std-ref">Load</span></a> can now load NXcanSAS files.</p></li>
<li><p>You can now process in <strong>memory</strong> mode with no file type buttons selected. A warning box will open if you process with no file types while in <strong>file</strong> or <strong>both</strong> mode, and processing will not continue.</p></li>
<li><p>A bug in which the final column in a batch file was sometimes ignored if empty, and therefore impossible to load, has been fixed.</p></li>
<li><p>The differences between non-compatibility and compatibility modes has been minimised. Compatibility mode can now be turned off in the settings tab. When off, workspaces stay as EventWorkspaces until the penultimate stage of <strong>SANSReductionCore</strong>. Bin masking is not performed until workspace has been converted to a histogram.</p></li>
<li><p>When adding files, bad proton charges in run logs are identified and automatically corrected.</p></li>
<li><p>A bug in which a row was added if the only row is the table was erased, has been fixed.</p></li>
<li><p>An issue where adding runs in overlay mode where one or more runs had a bad proton charge led to incorrect data has been fixed. The erroneous proton charge is replaced with an estimated result. Note that currently only the proton charge log is corrected so many of the other logs particularly when filtered by period are still corrupted in the resulting added file.</p></li>
<li><p>A bug with the centre of mass beam centre calculation that prevented it running has been fixed.</p></li>
<li><p>A bug preventing the beam centre finder from plotting workspaces in the workbench has been fixed.</p></li>
</ul>
</section>
</section>
<section id="algorithms">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">Algorithms</a><a class="headerlink" href="#algorithms" title="Permalink to this heading">¶</a></h2>
<section id="id1">
<h3><a class="toc-backref" href="#id7" role="doc-backlink">New</a><a class="headerlink" href="#id1" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>New algorithm <a class="reference internal" href="../../algorithms/EQSANSCorrectFrame-v1.html#algm-eqsanscorrectframe"><span class="std std-ref">EQSANSCorrectFrame</span></a></p></li>
<li><p>New IDF for <code class="docutils literal notranslate"><span class="pre">EQ-SANS</span></code></p></li>
<li><p>New algorithm <a class="reference internal" href="../../algorithms/LoadHFIRSANS-v1.html#algm-loadhfirsans"><span class="std std-ref">LoadHFIRSANS</span></a> and speed improvements to <a class="reference internal" href="../../algorithms/LoadSpice2D-v1.html#algm-loadspice2d"><span class="std std-ref">LoadSpice2D</span></a></p></li>
<li><p>New version of algorithm <a class="reference internal" href="../../algorithms/CalculateEfficiency-v2.html#algm-calculateefficiency-v2"><span class="std std-ref">CalculateEfficiency</span></a></p></li>
<li><p>New algorithm <a class="reference internal" href="../../algorithms/SANSILLAutoProcess-v1.html#algm-sansillautoprocess"><span class="std std-ref">SANSILLAutoProcess</span></a> will perform the full SANS treatment for ILL instruments.</p></li>
</ul>
</section>
<section id="improved">
<h3><a class="toc-backref" href="#id8" role="doc-backlink">Improved</a><a class="headerlink" href="#improved" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Added support for <code class="docutils literal notranslate"><span class="pre">BIOSANS</span></code>, <code class="docutils literal notranslate"><span class="pre">EQSANS</span></code>, and <code class="docutils literal notranslate"><span class="pre">GPSANS</span></code> to <a class="reference internal" href="../../algorithms/MaskBTP-v1.html#algm-maskbtp"><span class="std std-ref">MaskBTP</span></a>. This includes an additional parameter <code class="docutils literal notranslate"><span class="pre">Components</span></code> to mask a particular list of instrument components.</p></li>
</ul>
<p><a class="reference internal" href="index.html#v4-1-0"><span class="std std-ref">Release 4.1.0</span></a></p>
</section>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="reflectometry.html" title="Previous Chapter: Reflectometry Changes"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Reflectometry Changes</span>
    </a>
  </li>
  <li>
    <a href="../v4.2.0/index.html" title="Next Chapter: Mantid 4.2.0 Release Notes"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Mantid 4.2.0 ... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>