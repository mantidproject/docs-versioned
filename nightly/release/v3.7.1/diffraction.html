<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Diffraction Changes</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Muon Analysis" href="muon.html" />
    <link rel="prev" title="SANS Changes" href="sans.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.5</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://docs.mantidproject.org/nightly/">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="../index.html" >Release Notes</a> &#187;</li>
          
            <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">Mantid 3.7.1 Release Notes</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">Diffraction Changes</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="diffraction-changes">
<h1>Diffraction Changes<a class="headerlink" href="#diffraction-changes" title="Permalink to this heading">¶</a></h1>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#documentation" id="id3">Documentation</a></p></li>
<li><p><a class="reference internal" href="#powder-diffraction" id="id4">Powder Diffraction</a></p>
<ul>
<li><p><a class="reference internal" href="#powder-diffraction-scripts" id="id5">Powder Diffraction Scripts</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#single-crystal-improvements" id="id6">Single Crystal Improvements</a></p></li>
<li><p><a class="reference internal" href="#engineering-diffraction" id="id7">Engineering Diffraction</a></p>
<ul>
<li><p><a class="reference internal" href="#graphical-user-interface" id="id8">Graphical user interface</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#imaging" id="id9">Imaging</a></p>
<ul>
<li><p><a class="reference internal" href="#improvements-in-the-tomographic-reconstruction-graphical-user-interface" id="id10">Improvements in the tomographic reconstruction graphical user interface</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="documentation">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Documentation</a><a class="headerlink" href="#documentation" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>The documentation for all calibration approaches, including Powder diffraction, single crystal and engineering calibrations has been pulled together, and expanded <a class="reference internal" href="../../concepts/Calibration.html#calibration-intro"><span class="std std-ref">here</span></a>.</p></li>
</ul>
</section>
<section id="powder-diffraction">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Powder Diffraction</a><a class="headerlink" href="#powder-diffraction" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="../../algorithms/PDFFourierTransform-v2.html#algm-pdffouriertransform"><span class="std std-ref">PDFFourierTransform</span></a> has been corrected in its calculation of errors.</p></li>
<li><p>New algorithm: <a class="reference internal" href="../../algorithms/PDToGUDRUN-v1.html#algm-pdtogudrun"><span class="std std-ref">PDToGUDRUN</span></a> loads and processes data for use in <a class="reference external" href="http://www.isis.stfc.ac.uk/instruments/sandals/data-analysis/gudrun8864.html">GUDRUN</a>.</p></li>
</ul>
<section id="powder-diffraction-scripts">
<h3><a class="toc-backref" href="#id5" role="doc-backlink">Powder Diffraction Scripts</a><a class="headerlink" href="#powder-diffraction-scripts" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Pearl powder diffraction has been integrated and can be found
<cite>scripts/PearlPowderISIS</cite>. The routines/script has been differentiated from
the long list of directories of calibration and raw files. The calibration
directories can be found in a file by the name of pearl_calib_factory.py,
whereas the raw directories can be found in a file by the name of
pearl_cycle_factory.py.</p></li>
<li><p>PowderISIS script has been renamed to CryPowderISIS and can be found within
the following folder <cite>scripts/CryPowderISIS</cite></p></li>
<li><p><a class="reference external" href="http://docs.mantidproject.org/v3.7.1/api/python/techniques/PearlPowderDiffractionISIS-v1.html">Pearl Powder Diffraction Script</a>
documentation has been implemented and
PowderISIS script documentation has been renamed to
<a class="reference external" href="http://docs.mantidproject.org/v3.7.1/api/python/techniques/CryPowderDiffractionISIS-v1.html">Crystallography Powder Diffraction Script</a></p></li>
</ul>
</section>
</section>
<section id="single-crystal-improvements">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">Single Crystal Improvements</a><a class="headerlink" href="#single-crystal-improvements" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="../../algorithms/SCDCalibratePanels-v2.html#algm-scdcalibratepanels"><span class="std std-ref">SCDCalibratePanels</span></a> has parameter errors reduced,
an option for simplex minimization, and 3 new workspaces which can plot calculated
vs theoretical columns, rows, and TOF for each bank. Calibration is now as good
as ISAW’s for Mandi data.</p></li>
<li><p>5 detectors added to the MANDI instrument geometry</p></li>
<li><p><a class="reference internal" href="../../algorithms/LoadCIF-v1.html#algm-loadcif"><span class="std std-ref">LoadCIF</span></a> can now also load structures where only anisotropic displacement parameters are given,
which are converted to equivalent isotropic parameters.</p></li>
<li><p><a class="reference internal" href="../../algorithms/SaveHKL-v1.html#algm-savehkl"><span class="std std-ref">SaveHKL</span></a> has option to write the same output as anvred3.py including direction cosines.</p></li>
<li><p><a class="reference internal" href="../../algorithms/LoadHKL-v1.html#algm-loadhkl"><span class="std std-ref">LoadHKL</span></a> reads hkl output that includes direction cosines.</p></li>
<li><p><a class="reference internal" href="../../algorithms/SaveIsawPeaks-v1.html#algm-saveisawpeaks"><span class="std std-ref">SaveIsawPeaks</span></a> has DetCal information sorted by detector numbers</p></li>
<li><p><a class="reference internal" href="../../algorithms/StatisticsOfPeaksWorkspace-v1.html#algm-statisticsofpeaksworkspace"><span class="std std-ref">StatisticsOfPeaksWorkspace</span></a> has resolution shells in units of d-Spacing.</p></li>
<li><p>SpaceGroup now has a method to check whether a specified unit cell is compatible with the symmetry operations of the group.</p></li>
</ul>
</section>
<section id="engineering-diffraction">
<h2><a class="toc-backref" href="#id7" role="doc-backlink">Engineering Diffraction</a><a class="headerlink" href="#engineering-diffraction" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>The new algorithm <a class="reference internal" href="../../algorithms/GSASIIRefineFitPeaks-v1.html#algm-gsasiirefinefitpeaks"><span class="std std-ref">GSASIIRefineFitPeaks</span></a>
can be used to call the GSAS-II software repeatedly to refine lattice
parameters (whole pattern refinement) and/or fit peaks.</p></li>
<li><p>New algorithm added:
<a class="reference internal" href="../../algorithms/EnggFitTOFFromPeaks-v1.html#algm-enggfittoffrompeaks"><span class="std std-ref">EnggFitDIFCFromPeaks</span></a>, which forks
from the old
<a class="reference internal" href="../../algorithms/EnggFitPeaks-v1.html#algm-enggfitpeaks"><span class="std std-ref">EnggFitPeaks</span></a>. <a class="reference internal" href="../../algorithms/EnggFitPeaks-v1.html#algm-enggfitpeaks"><span class="std std-ref">EnggFitPeaks</span></a>
modified to fit peaks but not calibration parameters.</p></li>
<li><p>An option to set the initial rebin width has been added to
<a class="reference internal" href="../../algorithms/EnggCalibrateFull-v1.html#algm-enggcalibratefull"><span class="std std-ref">EnggCalibrateFull</span></a></p></li>
<li><p><a class="reference internal" href="../../algorithms/EnggFocus-v1.html#algm-enggfocus"><span class="std std-ref">EnggFocus</span></a> now has an option to mask out
several ranges in ToF (instrument pulses), with default values set
for ENGIN-X, and an option to normalize by proton charge (enabled by
default).</p></li>
<li><p>Phase information files for ENGIN-X are now distributed together
with the ENGIN-X scripts.</p></li>
<li><p>New algorithm <a class="reference internal" href="../../algorithms/SaveNexusPD-v1.html#algm-savenexuspd"><span class="std std-ref">SaveNexusPD</span></a> which creates a nexus file for use in GUDRUN and will hopefully be supported by Rietveld packages in the future.</p></li>
</ul>
<section id="graphical-user-interface">
<h3><a class="toc-backref" href="#id8" role="doc-backlink">Graphical user interface</a><a class="headerlink" href="#graphical-user-interface" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Vanadium Curves and Ceria Peaks graphs are plotted once basic and cropped
calibration process has been carried out</p></li>
<li><p>Customise Bank Name text-field will set the workspace and .his file name
according to this Bank Name provided by the user for Cropped Calibration</p></li>
<li><p>The Fitting tab provides a graphical interface which fits an expected
diffraction pattern and visualises them.
The pastern is specified by providing a list of dSpacing values where Bragg
peaks are expected. The algorithm <a class="reference internal" href="../../algorithms/EnggFitPeaks-v1.html#algm-enggfitpeaks"><span class="std std-ref">EnggFitPeaks</span></a>
used in the background fit peaks in those areas using a peak fitting function.</p></li>
<li><p>Fitting tab will automatically select and import all the focused bank files
found within working directory and user can also select file now by providing
a run-number.</p></li>
<li><p>Improvements to the Preview section for Fitting tab, the zoom-in or zoom-out
feature on to the data plot is enabled. As well as option to select peak, add
peak or save peaks from the data plot is now supported.</p></li>
<li><p>Preview under Fitting tab, you can now view the plot in <cite>dSpacing</cite> instead
<cite>ToF</cite>, which enables you to rerun the fitting process after selecting peaks
from the interface.</p></li>
<li><p>The output calibration files will be written with the extension
“.prm” by default. Together with an “all-banks” calibration (GSAS
instrument parameters) file, an individual file for every focused
bank will be written.</p></li>
<li><p>Improvements to Fitting tab, Single peak fitting for consecutive run
number’s focused files has now been enabled. The tab will automatically load
the consecutive run numbers to the list widget from the range provided by the
user, bank combo-box will update upon selection of run number.</p></li>
<li><p>Further improvements to Fitting tab, if for some reason the fitting
fails, the focused workspace should still be plotted. This will
enable user to select valid peaks and run Fit accordingly. User also
now have an option to plot single peak fitting in separate workspace
by using <em>Plot To Separate Window</em> button. Peak list can now also be
cleared using the <em>Clear</em> button.</p></li>
</ul>
</section>
</section>
<section id="imaging">
<h2><a class="toc-backref" href="#id9" role="doc-backlink">Imaging</a><a class="headerlink" href="#imaging" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>The new algorithm <a class="reference external" href="http://docs.mantidproject.org/v3.7.1/algorithms/ImggAggregateWavelengths-v1.html">ImggAggregateWavelengths</a>
aggregates stacks of images from wavelength dependent data.</p></li>
<li><p>The algorithm <a class="reference external" href="http://docs.mantidproject.org/v3.7.1/algorithms/ImggTomographicReconstruction-v1.html">ImggTomographicReconstruction</a>
has been introduced. This is a
first experimental version that implements the Filtered
Back-Projection (FBP) reconstruction method using the FBP
implementation of the <a class="reference external" href="http://www.aps.anl.gov/tomopy/">TomoPy package</a>.</p></li>
<li><p>Images loaded as Mantid workspaces can now be saved into FITS files
using the algorithm <a class="reference internal" href="../../algorithms/SaveFITS-v1.html#algm-savefits"><span class="std std-ref">SaveFITS</span></a>.</p></li>
</ul>
<section id="improvements-in-the-tomographic-reconstruction-graphical-user-interface">
<h3><a class="toc-backref" href="#id10" role="doc-backlink">Improvements in the tomographic reconstruction graphical user interface</a><a class="headerlink" href="#improvements-in-the-tomographic-reconstruction-graphical-user-interface" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>New capabilities added when visualizing stacks of images:</p>
<ul>
<li><p>Handle the rotation of all the images in the stack</p></li>
<li><p>“Play” the stack or sequence of images as a movie</p></li>
<li><p>Visualize sample, flat, and dark images separately</p></li>
<li><p>Multiple color map alternatives and control of the color bar</p></li>
</ul>
</li>
<li><p>Previously existing parameters to set up local and remote paths have
been moved into a new section of the interface. New options have
been introduced for better flexibility. These are updated for the
current infrastructure and are remembered between sessions.</p></li>
<li><p>Normalization by flat and dark images can be disabled explicitly and
separately, which is now supported in the underlying reconstruction
scripts.</p></li>
<li><p>The energy bands tab can now produce multiple output bands in one
pass, and supports different aggregation methods via the new
algorithm <a class="reference external" href="http://docs.mantidproject.org/v3.7.1/algorithms/ImggAggregateWavelengths-v1.html">ImggAggregateWavelengths</a>.</p></li>
</ul>
<p>Full list of <a class="reference external" href="http://github.com/mantidproject/mantid/pulls?q=is%3Apr+milestone%3A%22Release+3.7%22+is%3Amerged+label%3A%22Component%3A+Diffraction%22">diffraction</a>
and
<a class="reference external" href="http://github.com/mantidproject/mantid/pulls?q=is%3Apr+milestone%3A%22Release+3.7%22+is%3Amerged+label%3A%22Component%3A+Imaging%22">imaging</a> changes on GitHub.</p>
</section>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="sans.html" title="Previous Chapter: SANS Changes"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; SANS Changes</span>
    </a>
  </li>
  <li>
    <a href="muon.html" title="Next Chapter: Muon Analysis"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Muon Analysis &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>