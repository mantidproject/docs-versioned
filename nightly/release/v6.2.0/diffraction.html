<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Diffraction Changes</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Direct Geometry Changes" href="direct_geometry.html" />
    <link rel="prev" title="Mantid 6.2.0 Release Notes" href="index.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.5</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://www.mantidproject.org">Home</a></li>
                <li><a href="https://download.mantidproject.org">Download</a></li>
                <li><a href="https://docs.mantidproject.org">Documentation</a></li>
                <li><a href="https://www.mantidproject.org/contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="../index.html" >Release Notes</a> &#187;</li>
          
            <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">Mantid 6.2.0 Release Notes</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">Diffraction Changes</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="diffraction-changes">
<h1>Diffraction Changes<a class="headerlink" href="#diffraction-changes" title="Permalink to this heading">¶</a></h1>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#powder-diffraction" id="id8">Powder Diffraction</a></p>
<ul>
<li><p><a class="reference internal" href="#new-features" id="id9">New features</a></p></li>
<li><p><a class="reference internal" href="#improvements" id="id10">Improvements</a></p></li>
<li><p><a class="reference internal" href="#bugfixes" id="id11">Bugfixes</a></p></li>
<li><p><a class="reference internal" href="#deprecation" id="id12">Deprecation</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#engineering-diffraction" id="id13">Engineering Diffraction</a></p>
<ul>
<li><p><a class="reference internal" href="#id1" id="id14">New features</a></p></li>
<li><p><a class="reference internal" href="#id2" id="id15">Improvements</a></p></li>
<li><p><a class="reference internal" href="#id3" id="id16">Bugfixes</a></p></li>
<li><p><a class="reference internal" href="#id4" id="id17">Deprecation</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#single-crystal-diffraction" id="id18">Single Crystal Diffraction</a></p>
<ul>
<li><p><a class="reference internal" href="#id5" id="id19">New features</a></p></li>
<li><p><a class="reference internal" href="#id6" id="id20">Improvements</a></p></li>
<li><p><a class="reference internal" href="#id7" id="id21">Bugfixes</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="powder-diffraction">
<h2><a class="toc-backref" href="#id8" role="doc-backlink">Powder Diffraction</a><a class="headerlink" href="#powder-diffraction" title="Permalink to this heading">¶</a></h2>
<section id="new-features">
<h3><a class="toc-backref" href="#id9" role="doc-backlink">New features</a><a class="headerlink" href="#new-features" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>New algorithm <a class="reference internal" href="../../algorithms/CalculatePlaczek-v1.html#algm-calculateplaczek"><span class="std std-ref">CalculatePlaczek</span></a> to compute both first and second Placzek correction factors.</p></li>
<li><p>New algorithm <a class="reference internal" href="../../algorithms/CalculatePlaczekSelfScattering-v2.html#algm-calculateplaczekselfscattering-v2"><span class="std std-ref">CalculatePlaczekSelfScattering2</span></a> utilizes <a class="reference internal" href="../../algorithms/CalculatePlaczek-v1.html#algm-calculateplaczek"><span class="std std-ref">CalculatePlaczek</span></a> to compute first order correction.</p></li>
<li><p>New algorithm <a class="reference internal" href="../../algorithms/CombineDiffCal-v1.html#algm-combinediffcal"><span class="std std-ref">CombineDiffCal</span></a> to calibrate groups of pixels after cross correlation so that diffraction peaks can be adjusted to the correct positions.</p></li>
<li><p>New algorithm <a class="reference internal" href="../../algorithms/MultipleScatteringCorrection-v1.html#algm-multiplescatteringcorrection"><span class="std std-ref">MultipleScatteringCorrection</span></a> to compute the multiple scattering correction factor for a sample using numerical integration.</p></li>
<li><p>New algorithm <a class="reference internal" href="../../algorithms/NOMADMedianDetectorTest-v1.html#algm-nomadmediandetectortest"><span class="std std-ref">NOMADMedianDetectorTest</span></a> to mask pixels showing deficient or excessive total counts.</p></li>
<li><p>New algorithm <a class="reference internal" href="../../algorithms/SetSampleFromLogs-v1.html#algm-setsamplefromlogs"><span class="std std-ref">SetSampleFromLogs</span></a> inspects the sample environment logs for sample material and geometry information.</p></li>
<li><p>New script for doing calibration by groups, <a class="reference internal" href="../../concepts/calibration/PowderDiffractionCalibration.html#calibration-tofpd-group-calibration-ref"><span class="std std-ref">PowderDiffractionCalibration</span></a>.</p></li>
</ul>
</section>
<section id="improvements">
<h3><a class="toc-backref" href="#id10" role="doc-backlink">Improvements</a><a class="headerlink" href="#improvements" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="../../algorithms/AlignAndFocusPowder-v1.html#algm-alignandfocuspowder-v1"><span class="std std-ref">AlignAndFocusPowder</span></a> permits masking of discrete wavelength ranges to zero, for resonance filtering.</p></li>
<li><p>Improved performance of <a class="reference internal" href="../../algorithms/ApplyDiffCal-v1.html#algm-applydiffcal"><span class="std std-ref">ApplyDiffCal</span></a> on large instruments e.g. WISH. This in turn improves the performance of <a class="reference internal" href="../../algorithms/AlignAndFocusPowder-v1.html#algm-alignandfocuspowder"><span class="std std-ref">AlignAndFocusPowder</span></a>.</p></li>
<li><p><a class="reference internal" href="../../algorithms/ConvertDiffCal-v1.html#algm-convertdiffcal-v1"><span class="std std-ref">ConvertDiffCal</span></a> now optionally updates a previous calibration when converting offsets.</p></li>
<li><p><a class="reference internal" href="../../algorithms/LoadILLDiffraction-v1.html#algm-loadilldiffraction"><span class="std std-ref">LoadILLDiffraction</span></a> now adds input run number also to a metadata field <cite>run_list</cite>, intended to contain a full list of numbers, handled by <a class="reference internal" href="../../algorithms/MergeRuns-v1.html#algm-mergeruns"><span class="std std-ref">MergeRuns</span></a>.</p></li>
<li><p><a class="reference internal" href="../../algorithms/LoadILLPolarizedDiffraction-v1.html#algm-loadillpolarizeddiffraction"><span class="std std-ref">LoadILLPolarizedDiffraction</span></a> now sorts the polarization orientations and enforces spin-flip, then non-spin-flip order.</p></li>
<li><p><a class="reference internal" href="../../algorithms/LoadWANDSCD-v1.html#algm-loadwandscd-v1"><span class="std std-ref">LoadWANDSCD</span></a> has a new option to perform normalization in the same loading process.</p></li>
<li><p><a class="reference internal" href="../../algorithms/PDCalibration-v1.html#algm-pdcalibration-v1"><span class="std std-ref">PDCalibration</span></a> has a new option to use the <a class="reference internal" href="../../fitting/fitfunctions/IkedaCarpenterPV.html#func-ikedacarpenterpv"><span class="std std-ref">IkedaCarpenterPV</span></a> peak function.</p></li>
<li><p><a class="reference internal" href="../../algorithms/PolDiffILLReduction-v1.html#algm-poldiffillreduction"><span class="std std-ref">PolDiffILLReduction</span></a> received a number of improvements</p>
<ul>
<li><p>Changes names of input workspaces to contain polarization information.</p></li>
<li><p>Transmission can be provided as a number or a workspace group.</p></li>
<li><p>New data averaging option depending on measurement 2theta.</p></li>
<li><p>Option to display all measured points on a scatter plot.</p></li>
<li><p>New option for self-attenuation treatment using measured transmission.</p></li>
</ul>
</li>
<li><p>Several improvements have been made to the group calibration routine including</p>
<ul>
<li><p>More input control parameters, including peak function type for estimating offset after cross correlation and an option to turn on or off the smoothing of data for cross correlation purpose.</p></li>
<li><p>The workflow of group calibration script is also polished to make it smoother. Accordingly, unit tests have been updated.</p></li>
<li><p>Groups are now allowed with dedicated control parameters.</p></li>
<li><p>Documentation has been added as a guidance for general users.</p></li>
<li><p>Making it more generic.</p></li>
</ul>
</li>
<li><p><a class="reference internal" href="../../algorithms/SNAPReduce-v1.html#algm-snapreduce-v1"><span class="std std-ref">SNAPReduce</span></a> permits saving selected property names and values to file, to aid autoreduction.</p></li>
<li><p>Add a custom ttmode to the PEARL powder diffraction scripts for running with a custom grouping file.</p></li>
<li><p>Added a 3mf format file describing the PEARL sample and environment shapes for the P-E press. Also fixed a couple of minor issues in the 3mf file format loader used in <a class="reference internal" href="../../algorithms/LoadSampleEnvironment-v1.html#algm-loadsampleenvironment"><span class="std std-ref">LoadSampleEnvironment</span></a>.</p></li>
</ul>
</section>
<section id="bugfixes">
<h3><a class="toc-backref" href="#id11" role="doc-backlink">Bugfixes</a><a class="headerlink" href="#bugfixes" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Fixed a bug when filtering events in <a class="reference internal" href="../../algorithms/AlignAndFocusPowder-v1.html#algm-alignandfocuspowder-v1"><span class="std std-ref">AlignAndFocusPowder</span></a> based on time-of-flight. The code now allows setting the minimum time-of-flight to zero (inclusive).</p></li>
<li><p>Corrected the equation for pseudo-voigt FWHM and mixing parameter in peak profile function <a class="reference internal" href="../../fitting/fitfunctions/Bk2BkExpConvPV.html#func-bk2bkexpconvpv"><span class="std std-ref">Bk2BkExpConvPV</span></a>.</p></li>
<li><p>Fixed the issue with the calibration diagnostics script when dealing with instruments of which the detector ID does not start from 0.</p></li>
<li><p>Fixed the issue with <a class="reference internal" href="../../algorithms/SNSPowderReduction-v1.html#algm-snspowderreduction"><span class="std std-ref">SNSPowderReduction</span></a> - when an invalid height unit is encountered while reading sample log the geometry is ignored and it relies purely on user input.</p></li>
<li><p>Fixed a bug when converting TOF to d-spacing using diffractometer constants with non-zero DIFA when a parabolic model is selected.</p></li>
</ul>
</section>
<section id="deprecation">
<h3><a class="toc-backref" href="#id12" role="doc-backlink">Deprecation</a><a class="headerlink" href="#deprecation" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Existing <cite>CalibrateRectangularDetectors</cite> is deprecated.</p></li>
<li><p>Existing <cite>GetDetOffsetsMultiPeaks</cite> is deprecated.</p></li>
</ul>
</section>
</section>
<section id="engineering-diffraction">
<h2><a class="toc-backref" href="#id13" role="doc-backlink">Engineering Diffraction</a><a class="headerlink" href="#engineering-diffraction" title="Permalink to this heading">¶</a></h2>
<section id="id1">
<h3><a class="toc-backref" href="#id14" role="doc-backlink">New features</a><a class="headerlink" href="#id1" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>New setting for default peak function to fit in the <a class="reference internal" href="../../interfaces/diffraction/Engineering%20Diffraction.html#engineering-diffraction-ref"><span class="std std-ref">Engineering Diffraction interface</span></a> (initial default is <a class="reference internal" href="../../fitting/fitfunctions/BackToBackExponential.html#func-backtobackexponential"><span class="std std-ref">BackToBackExponential</span></a>).</p></li>
<li><p>Added serial fit capability to <a class="reference internal" href="../../interfaces/diffraction/Engineering%20Diffraction.html#ui-engineering-fitting"><span class="std std-ref">Fitting tab</span></a> in <a class="reference internal" href="../../interfaces/diffraction/Engineering%20Diffraction.html#engineering-diffraction-ref"><span class="std std-ref">Engineering Diffraction interface</span></a> - this fits all loaded workspaces with same initial parameters.</p></li>
<li><p>Added GSAS coefficients for parameters of peak profile function <a class="reference internal" href="../../fitting/fitfunctions/Bk2BkExpConvPV.html#func-bk2bkexpconvpv"><span class="std std-ref">Bk2BkExpConvPV</span></a> for ENGIN-X.</p></li>
<li><p>Automatically subtracts background from runs on loading in <a class="reference internal" href="../../interfaces/diffraction/Engineering%20Diffraction.html#engineering-diffraction-ref"><span class="std std-ref">Engineering Diffraction interface</span></a>.</p></li>
<li><p>The most recently created or loaded Calibration is now selected by default in the load path when the interface is opened.</p></li>
<li><p>The last used RB number is now saved for the next session.</p></li>
<li><p>The generation of the files required for Vanadium normalization is now done on the <a class="reference internal" href="../../interfaces/diffraction/Engineering%20Diffraction.html#ui-engineering-focus"><span class="std std-ref">Focus tab</span></a> of the <a class="reference internal" href="../../interfaces/diffraction/Engineering%20Diffraction.html#engineering-diffraction-ref"><span class="std std-ref">Engineering Diffraction interface</span></a>. This means the Vanadium data can be updated without
having to rerun the Ceria calibration. As part of this change the setting <code class="docutils literal notranslate"><span class="pre">Force</span> <span class="pre">Vanadium</span> <span class="pre">Recalculation</span></code> has been removed and the Vanadium run number input has been
moved from the <a class="reference internal" href="../../interfaces/diffraction/Engineering%20Diffraction.html#ui-engineering-calibration"><span class="std std-ref">Calibration tab</span></a> to the <a class="reference internal" href="../../interfaces/diffraction/Engineering%20Diffraction.html#ui-engineering-focus"><span class="std std-ref">Focus tab</span></a>. The Vanadium run number is also no longer written to the prm generated on the Calibration tab <cite>(Note: this is a breaking
change and means .prm files generated from the EngDiff UI with older versions of Mantid won’t load successfully)</cite>.</p></li>
</ul>
</section>
<section id="id2">
<h3><a class="toc-backref" href="#id15" role="doc-backlink">Improvements</a><a class="headerlink" href="#id2" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p><strong>The usability of the file finder on the</strong> <a class="reference internal" href="../../interfaces/diffraction/Engineering%20Diffraction.html#ui-engineering-fitting"><span class="std std-ref">Fitting tab</span></a> <strong>has been improved by the addition of file filters based on unit and/or bank.</strong></p></li>
</ul>
<a class="reference internal image-reference" href="../../_images/EngDiff_Fit_Browse_Filters.png"><img alt="../../_images/EngDiff_Fit_Browse_Filters.png" class="align-center" src="../../_images/EngDiff_Fit_Browse_Filters.png" style="height: 400px;" /></a>
<ul class="simple">
<li><p>The workflows for Calibration and Focusing in the <a class="reference internal" href="../../interfaces/diffraction/Engineering%20Diffraction.html#engineering-diffraction-ref"><span class="std std-ref">Engineering Diffraction interface</span></a> and EnginX scripts have been replaced to make use of faster, better tested C++ algorithms (<a class="reference internal" href="../../algorithms/PDCalibration-v1.html#algm-pdcalibration"><span class="std std-ref">PDCalibration</span></a>). As a result some algorithms have been deprecated, and will likely be removed entirely in the next release. See below for more details.</p></li>
<li><p>The cropping/region of interest selection for Calibration/Focusing is now chosen only on the <a class="reference internal" href="../../interfaces/diffraction/Engineering%20Diffraction.html#ui-engineering-calibration"><span class="std std-ref">Calibration tab</span></a>, to avoid confusion and duplication of input.</p></li>
<li><p>The region of interest for Calibration/Focusing can now be selected with a user-supplied custom calibration file.</p></li>
<li><p>The Focused Run Files input box defaults to the last runs focused on the <a class="reference internal" href="../../interfaces/diffraction/Engineering%20Diffraction.html#ui-engineering-focus"><span class="std std-ref">Focus tab</span></a>, even if multiple runs were focussed.</p></li>
<li><p>The full calibration setting now has a default value consisting of the path to the <code class="docutils literal notranslate"><span class="pre">ENGINX_full_instrument_calibration_193749.nxs</span> <span class="pre">file</span></code>.</p></li>
<li><p>StartX and EndX for fitting region in <a class="reference internal" href="../../interfaces/diffraction/Engineering%20Diffraction.html#ui-engineering-fitting"><span class="std std-ref">Fitting tab</span></a> can be manually entered in the fit browser.</p></li>
</ul>
</section>
<section id="id3">
<h3><a class="toc-backref" href="#id16" role="doc-backlink">Bugfixes</a><a class="headerlink" href="#id3" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Sequential fitting in the <a class="reference internal" href="../../interfaces/diffraction/Engineering%20Diffraction.html#engineering-diffraction-ref"><span class="std std-ref">Engineering Diffraction interface</span></a> now uses the output of the last successful fit (as opposed to the previous fit) as the initial parameters for the next fit.</p></li>
<li><p>If the user saves a project having previously opened and closed the <a class="reference internal" href="../../interfaces/diffraction/Engineering%20Diffraction.html#engineering-diffraction-ref"><span class="std std-ref">Engineering Diffraction interface</span></a>, loading the project will not re-open the interface.</p></li>
<li><p>The help button on the <a class="reference internal" href="../../interfaces/diffraction/Engineering%20Diffraction.html#engineering-diffraction-ref"><span class="std std-ref">Engineering Diffraction interface</span></a> points to the correct page, having been broken in the last release.</p></li>
<li><p>Using the Clear button on the Workspace widget while using the <a class="reference internal" href="../../interfaces/diffraction/Engineering%20Diffraction.html#ui-engineering-fitting"><span class="std std-ref">Fitting tab</span></a> no longer causes errors when you try to load runs back in.</p></li>
<li><p>On the <a class="reference internal" href="../../interfaces/diffraction/Engineering%20Diffraction.html#ui-engineering-fitting"><span class="std std-ref">Fitting tab</span></a> of the <a class="reference internal" href="../../interfaces/diffraction/Engineering%20Diffraction.html#engineering-diffraction-ref"><span class="std std-ref">Engineering Diffraction interface</span></a> the background can be inspected whether the background subtraction box is checked or not.</p></li>
<li><p>Prevent crash when invalid arguments passed to background subtraction algorithm (<a class="reference internal" href="../../algorithms/EnggEstimateFocussedBackground-v1.html#algm-enggestimatefocussedbackground"><span class="std std-ref">EnggEstimateFocussedBackground</span></a>) in the <a class="reference internal" href="../../interfaces/diffraction/Engineering%20Diffraction.html#ui-engineering-fitting"><span class="std std-ref">Fitting tab</span></a> of the <a class="reference internal" href="../../interfaces/diffraction/Engineering%20Diffraction.html#engineering-diffraction-ref"><span class="std std-ref">Engineering Diffraction interface</span></a>.</p></li>
</ul>
</section>
<section id="id4">
<h3><a class="toc-backref" href="#id17" role="doc-backlink">Deprecation</a><a class="headerlink" href="#id4" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>The replacement of workflows for Calibration and Focusing in the <a class="reference internal" href="../../interfaces/diffraction/Engineering%20Diffraction.html#engineering-diffraction-ref"><span class="std std-ref">Engineering Diffraction interface</span></a> and EnginX scripts means the following algorithms have been deprecated, and will likely be removed entirely in the next release:</p>
<ul>
<li><p><a class="reference internal" href="../../algorithms/EnggCalibrate-v1.html#algm-enggcalibrate"><span class="std std-ref">EnggCalibrate</span></a></p></li>
<li><p><a class="reference internal" href="../../algorithms/EnggCalibrateFull-v1.html#algm-enggcalibratefull"><span class="std std-ref">EnggCalibrateFull</span></a></p></li>
<li><p><a class="reference internal" href="../../algorithms/EnggFocus-v1.html#algm-enggfocus"><span class="std std-ref">EnggFocus</span></a></p></li>
<li><p><a class="reference internal" href="../../algorithms/EnggVanadiumCorrections-v1.html#algm-enggvanadiumcorrections"><span class="std std-ref">EnggVanadiumCorrections</span></a>.</p></li>
</ul>
</li>
</ul>
</section>
</section>
<section id="single-crystal-diffraction">
<h2><a class="toc-backref" href="#id18" role="doc-backlink">Single Crystal Diffraction</a><a class="headerlink" href="#single-crystal-diffraction" title="Permalink to this heading">¶</a></h2>
<section id="id5">
<h3><a class="toc-backref" href="#id19" role="doc-backlink">New features</a><a class="headerlink" href="#id5" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>New algorithm <a class="reference internal" href="../../algorithms/ApplyInstrumentToPeaks-v1.html#algm-applyinstrumenttopeaks"><span class="std std-ref">ApplyInstrumentToPeaks</span></a> to update the instrument of peaks within a PeaksWorkspace.</p></li>
<li><p>New algorithm <a class="reference internal" href="../../algorithms/ConvertPeaksWorkspace-v1.html#algm-convertpeaksworkspace"><span class="std std-ref">ConvertPeaksWorkspace</span></a> for quick conversion between PeaksWorkspace and LeanElasticPeaksWorkspace.</p></li>
<li><p>New algorithm <a class="reference internal" href="../../algorithms/FindGlobalBMatrix-v1.html#algm-findglobalbmatrix"><span class="std std-ref">FindGlobalBMatrix</span></a> that refines common lattice parameters across peak workspaces from multiple runs with a different U matrix (which encodes the orientation) per run.</p></li>
<li><p>New algorithm <a class="reference internal" href="../../algorithms/HB3AIntegrateDetectorPeaks-v1.html#algm-hb3aintegratedetectorpeaks"><span class="std std-ref">HB3AIntegrateDetectorPeaks</span></a> for integrating four-circle data from HB3A in detector space using simple cuboid integration with and without fitted background.</p></li>
<li><p>New plotting script that provides diagnostic plots of <a class="reference internal" href="../../algorithms/SCDCalibratePanels-v2.html#algm-scdcalibratepanels-v2"><span class="std std-ref">SCDCalibratePanels</span></a> on a per panel/bank basis.</p></li>
<li><p>Exposed <a class="reference internal" href="../../api/python/mantid/api/IPeak.html#mantid.api.IPeak.getCol" title="mantid.api.IPeak.getCol"><code class="xref py py-meth docutils literal notranslate"><span class="pre">mantid.api.IPeak.getCol()</span></code></a> and <a class="reference internal" href="../../api/python/mantid/api/IPeak.html#mantid.api.IPeak.getRow" title="mantid.api.IPeak.getRow"><code class="xref py py-meth docutils literal notranslate"><span class="pre">mantid.api.IPeak.getRow()</span></code></a> to python.</p></li>
<li><p>New definition file for D19 ILL instrument added.</p></li>
</ul>
</section>
<section id="id6">
<h3><a class="toc-backref" href="#id20" role="doc-backlink">Improvements</a><a class="headerlink" href="#id6" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Existing <a class="reference internal" href="../../interfaces/direct/DGS%20Planner.html#dgsplanner-ref"><span class="std std-ref">DGSPlanner</span></a> expanded to support WAND².</p></li>
<li><p>Existing algorithm <a class="reference internal" href="../../algorithms/IntegrateEllipsoids-v1.html#algm-integrateellipsoids-v1"><span class="std std-ref">IntegrateEllipsoids</span></a> now can use a different integrator for satellite peaks.</p></li>
<li><p>New option in <a class="reference internal" href="../../algorithms/IntegrateEllipsoids-v1.html#algm-integrateellipsoids-v1"><span class="std std-ref">IntegrateEllipsoids</span></a> to share Bragg peak background with satellite peaks.</p></li>
<li><p>Existing algorithm <a class="reference internal" href="../../algorithms/MaskPeaksWorkspace-v1.html#algm-maskpeaksworkspace-v1"><span class="std std-ref">MaskPeaksWorkspace</span></a> now also supports tube-type detectors used at the CORELLI instrument.</p></li>
<li><p>Improvements to <a class="reference internal" href="../../algorithms/SCDCalibratePanels-v2.html#algm-scdcalibratepanels-v2"><span class="std std-ref">SCDCalibratePanels</span></a> including</p>
<ul>
<li><p>major interface update</p></li>
<li><p>enabling the calibration of T0 and sample position</p></li>
<li><p>fine control of bank rotation calibration</p></li>
<li><p>better calibration of panel orientation for flat panel detectors</p></li>
<li><p>retains the value of small optimization results instead of zeroing them.</p></li>
</ul>
</li>
<li><p>Find detector in peaks will check which detector is closer when dealing with peak-in-gap situation for tube-type detectors.</p></li>
</ul>
</section>
<section id="id7">
<h3><a class="toc-backref" href="#id21" role="doc-backlink">Bugfixes</a><a class="headerlink" href="#id7" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="../../algorithms/IndexPeaks-v1.html#algm-indexpeaks"><span class="std std-ref">IndexPeaks</span></a> can now index peaks in a PeaksWorkspace with only a single run without optimising the UB (i.e. it is now possible to set <code class="docutils literal notranslate"><span class="pre">CommonUBForAll=True</span></code> in this instance).</p></li>
<li><p>Expanded the Q space search radius in DetectorSearcher to avoid missing peaks when using <a class="reference internal" href="../../algorithms/PredictPeaks-v1.html#algm-predictpeaks"><span class="std std-ref">PredictPeaks</span></a>.</p></li>
</ul>
<p><a class="reference internal" href="index.html#v6-2-0"><span class="std std-ref">Release 6.2.0</span></a></p>
</section>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="index.html" title="Previous Chapter: Mantid 6.2.0 Release Notes"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Mantid 6.2.0 ...</span>
    </a>
  </li>
  <li>
    <a href="direct_geometry.html" title="Next Chapter: Direct Geometry Changes"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Direct Geomet... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>