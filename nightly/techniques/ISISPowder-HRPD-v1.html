<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>ISIS Powder Diffraction Scripts - HRPD Reference</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="ISIS Powder Diffraction Scripts" href="ISISPowder-Index-v1.html" />
    <link rel="prev" title="ISIS Powder Diffraction Scripts - GEM Reference" href="ISISPowder-GEM-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.5</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://docs.mantidproject.org/nightly/">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Techniques</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">ISIS Powder Diffraction Scripts - HRPD Reference</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="isis-powder-diffraction-scripts-hrpd-reference">
<span id="isis-powder-diffraction-hrpd-ref"></span><h1>ISIS Powder Diffraction Scripts - HRPD Reference<a class="headerlink" href="#isis-powder-diffraction-scripts-hrpd-reference" title="Permalink to this heading">¶</a></h1>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#creating-an-hrpd-object" id="id5">Creating an HRPD Object</a></p>
<ul>
<li><p><a class="reference internal" href="#example" id="id6">Example</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#methods" id="id7">Methods</a></p>
<ul>
<li><p><a class="reference internal" href="#create-vanadium" id="id8">create_vanadium</a></p>
<ul>
<li><p><a class="reference internal" href="#id1" id="id9">Example</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#focus" id="id10">focus</a></p>
<ul>
<li><p><a class="reference internal" href="#id2" id="id11">Example</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#set-sample" id="id12">set_sample</a></p>
<ul>
<li><p><a class="reference internal" href="#id3" id="id13">Example</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#calibration-mapping-file" id="id14">Calibration Mapping File</a></p></li>
<li><p><a class="reference internal" href="#parameters" id="id15">Parameters</a></p>
<ul>
<li><p><a class="reference internal" href="#calibration-directory" id="id16">calibration_directory</a></p></li>
<li><p><a class="reference internal" href="#calibration-mapping-file-hrpd-isis-powder-diffraction-ref" id="id17">calibration_mapping_file</a></p></li>
<li><p><a class="reference internal" href="#config-file" id="id18">config_file</a></p></li>
<li><p><a class="reference internal" href="#do-absorb-corrections" id="id19">do_absorb_corrections</a></p></li>
<li><p><a class="reference internal" href="#first-cycle-run-no" id="id20">first_cycle_run_no</a></p></li>
<li><p><a class="reference internal" href="#multiple-scattering" id="id21">multiple_scattering</a></p></li>
<li><p><a class="reference internal" href="#output-directory" id="id22">output_directory</a></p></li>
<li><p><a class="reference internal" href="#run-number" id="id23">run_number</a></p></li>
<li><p><a class="reference internal" href="#sample-empty" id="id24">sample_empty</a></p></li>
<li><p><a class="reference internal" href="#sample-empty-scale" id="id25">sample_empty_scale</a></p></li>
<li><p><a class="reference internal" href="#suffix" id="id26">suffix</a></p></li>
<li><p><a class="reference internal" href="#subtract-empty-instrument" id="id27">subtract_empty_instrument</a></p></li>
<li><p><a class="reference internal" href="#do-solid-angle-corrections" id="id28">do_solid_angle_corrections</a></p></li>
<li><p><a class="reference internal" href="#user-name" id="id29">user_name</a></p></li>
<li><p><a class="reference internal" href="#vanadium-normalisation" id="id30">vanadium_normalisation</a></p></li>
<li><p><a class="reference internal" href="#window" id="id31">window</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#advanced-parameters" id="id32">Advanced Parameters</a></p>
<ul>
<li><p><a class="reference internal" href="#focused-bin-widths" id="id33">focused_bin_widths</a></p></li>
<li><p><a class="reference internal" href="#focused-cropping-values" id="id34">focused_cropping_values</a></p></li>
<li><p><a class="reference internal" href="#grouping-file-name" id="id35">grouping_file_name</a></p></li>
<li><p><a class="reference internal" href="#nxs-filename" id="id36">nxs_filename</a></p></li>
<li><p><a class="reference internal" href="#gss-filename" id="id37">gss_filename</a></p></li>
<li><p><a class="reference internal" href="#dat-files-directory" id="id38">dat_files_directory</a></p></li>
<li><p><a class="reference internal" href="#tof-xye-filename" id="id39">tof_xye_filename</a></p></li>
<li><p><a class="reference internal" href="#dspacing-xye-filename" id="id40">dspacing_xye_filename</a></p></li>
<li><p><a class="reference internal" href="#mode" id="id41">mode</a></p></li>
<li><p><a class="reference internal" href="#spline-coefficient" id="id42">spline_coefficient</a></p></li>
<li><p><a class="reference internal" href="#vanadium-tof-cropping" id="id43">vanadium_tof_cropping</a></p></li>
<li><p><a class="reference internal" href="#vanadium-sample-details" id="id44">Vanadium Sample details</a></p>
<ul>
<li><p><a class="reference internal" href="#chemical-formula" id="id45">chemical_formula</a></p></li>
<li><p><a class="reference internal" href="#cylinder-position" id="id46">cylinder_position</a></p></li>
<li><p><a class="reference internal" href="#cylinder-sample-height" id="id47">cylinder_sample_height</a></p></li>
<li><p><a class="reference internal" href="#cylinder-sample-radius" id="id48">cylinder_sample_radius</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
<section id="creating-an-hrpd-object">
<span id="creating-hrpd-object-isis-powder-diffraction-ref"></span><h2><a class="toc-backref" href="#id5" role="doc-backlink">Creating an HRPD Object</a><a class="headerlink" href="#creating-an-hrpd-object" title="Permalink to this heading">¶</a></h2>
<p>This method assumes you are familiar with the concept of objects in Python.
If not more details can be read here: <a class="reference internal" href="ISISPowder-Tutorials.html#intro-to-objects-isis-powder-diffraction-ref"><span class="std std-ref">A quick introduction to objects</span></a></p>
<p>To create an HRPD object the following parameters are required:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#calibration-directory-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">calibration_directory</span></a></p></li>
<li><p><a class="reference internal" href="#output-directory-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">output_directory</span></a></p></li>
<li><p><a class="reference internal" href="#user-name-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">user_name</span></a></p></li>
</ul>
<p>Optionally a configuration file may be specified if one exists using
the following parameter:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#config-file-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">config_file</span></a></p></li>
</ul>
<p>See <a class="reference internal" href="ISISPowder-Tutorials.html#configuration-files-isis-powder-diffraction-ref"><span class="std std-ref">Using configuration files</span></a> for more
details on YAML configuration files.</p>
<section id="example">
<h3><a class="toc-backref" href="#id6" role="doc-backlink">Example</a><a class="headerlink" href="#example" title="Permalink to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">isis_powder</span> <span class="kn">import</span> <span class="n">HRPD</span>

<span class="n">calibration_dir</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;C:\path\to\calibration_dir&quot;</span>
<span class="n">output_dir</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;C:\path\to\output_dir&quot;</span>

<span class="n">hrpd_example</span> <span class="o">=</span> <span class="n">hrpd</span><span class="o">.</span><span class="n">HRPD</span><span class="p">(</span><span class="n">calibration_directory</span><span class="o">=</span><span class="n">calibration_dir</span><span class="p">,</span>
                         <span class="n">output_directory</span><span class="o">=</span><span class="n">output_dir</span><span class="p">,</span>
                         <span class="n">user_name</span><span class="o">=</span><span class="s2">&quot;user&#39;s name&quot;</span><span class="p">)</span>

<span class="c1"># Optionally we could provide a configuration file like so</span>
<span class="n">config_file_path</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;C:\path\to\config_file.yaml&quot;</span>
<span class="n">hrpd_example</span> <span class="o">=</span> <span class="n">hrpd</span><span class="o">.</span><span class="n">HRPD</span><span class="p">(</span><span class="n">config_file</span><span class="o">=</span><span class="n">config_file_path</span><span class="p">,</span>
                         <span class="n">user_name</span><span class="o">=</span><span class="s2">&quot;user&#39;s name&quot;</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="methods">
<h2><a class="toc-backref" href="#id7" role="doc-backlink">Methods</a><a class="headerlink" href="#methods" title="Permalink to this heading">¶</a></h2>
<p>The following methods can be executed on an HRPD object:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#create-vanadium-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">create_vanadium</span></a></p></li>
<li><p><a class="reference internal" href="#focus-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">focus</span></a></p></li>
<li><p><a class="reference internal" href="#set-sample-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">set_sample</span></a></p></li>
</ul>
<section id="create-vanadium">
<span id="create-vanadium-hrpd-isis-powder-diffraction-ref"></span><h3><a class="toc-backref" href="#id8" role="doc-backlink">create_vanadium</a><a class="headerlink" href="#create-vanadium" title="Permalink to this heading">¶</a></h3>
<p>The <em>create_vanadium</em> method allows a user to process a vanadium
run. Whilst processing the vanadium run, the scripts can apply any
corrections the user enables and will spline the resulting
workspace(s) for later focusing.</p>
<p>On HRPD the following parameters are required when executing
<em>create_vanadium</em>:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#calibration-mapping-file-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">calibration_mapping_file</span></a></p></li>
<li><p><a class="reference internal" href="#do-absorb-corrections-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">do_absorb_corrections</span></a></p></li>
<li><p><a class="reference internal" href="#first-cycle-run-no-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">first_cycle_run_no</span></a></p></li>
<li><p><a class="reference internal" href="#window-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">window</span></a></p></li>
</ul>
<p>If <a class="reference internal" href="#do-absorb-corrections-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">do_absorb_corrections</span></a> is set to
<strong>True</strong> the following parameter is required in addition to the above:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#multiple-scattering-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">multiple_scattering</span></a></p></li>
</ul>
<p>The following parameter may optionally be passed:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#mode-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">mode</span></a></p></li>
<li><p><a class="reference internal" href="#do-solid-angle-corrections-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">do_solid_angle_corrections</span></a></p></li>
</ul>
<section id="id1">
<h4><a class="toc-backref" href="#id9" role="doc-backlink">Example</a><a class="headerlink" href="#id1" title="Permalink to this heading">¶</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">cal_mapping_file</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;C:\path\to\cal_mapping.yaml&quot;</span>

<span class="n">hrpd_example</span><span class="o">.</span><span class="n">create_vanadium</span><span class="p">(</span><span class="n">calibration_mapping_file</span><span class="o">=</span><span class="n">cal_mapping_file</span><span class="p">,</span>
                             <span class="n">first_cycle_run_no</span><span class="o">=</span><span class="mi">66058</span><span class="p">,</span> <span class="n">window</span><span class="o">=</span><span class="s2">&quot;10-110&quot;</span><span class="p">,</span>
                             <span class="n">do_absorb_correction</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                             <span class="n">multiple_scattering</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="focus">
<span id="focus-hrpd-isis-powder-diffraction-ref"></span><h3><a class="toc-backref" href="#id10" role="doc-backlink">focus</a><a class="headerlink" href="#focus" title="Permalink to this heading">¶</a></h3>
<p>The <em>focus</em> method processes the user-specified run(s). It aligns,
focuses and optionally applies corrections if the user has requested
them.</p>
<p>On HRPD the following parameters are required when executing <em>focus</em></p>
<ul class="simple">
<li><p><a class="reference internal" href="#calibration-mapping-file-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">calibration_mapping_file</span></a></p></li>
<li><p><a class="reference internal" href="#do-absorb-corrections-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">do_absorb_corrections</span></a></p></li>
<li><p><a class="reference internal" href="#run-number-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">run_number</span></a></p></li>
<li><p><a class="reference internal" href="#vanadium-normalisation-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">vanadium_normalisation</span></a></p></li>
<li><p><a class="reference internal" href="#window-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">window</span></a></p></li>
</ul>
<p>The following parameters may optionally be passed:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#mode-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">mode</span></a></p></li>
<li><p><a class="reference internal" href="#sample-empty-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">sample_empty</span></a></p></li>
<li><p><a class="reference internal" href="#suffix-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">suffix</span></a></p></li>
<li><p><a class="reference internal" href="#subtract-empty-instrument-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">subtract_empty_instrument</span></a></p></li>
<li><p><a class="reference internal" href="#do-solid-angle-corrections-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">do_solid_angle_corrections</span></a></p></li>
</ul>
<p>If <a class="reference internal" href="#do-absorb-corrections-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">do_absorb_corrections</span></a> is set to
<strong>True</strong> the following parameter is required in addition to the above:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#multiple-scattering-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">multiple_scattering</span></a></p></li>
</ul>
<p>If <a class="reference internal" href="#sample-empty-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">sample_empty</span></a> is set then
the following parameter is required in addition to the above:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#sample-empty-scale-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">sample_empty_scale</span></a></p></li>
</ul>
<section id="id2">
<h4><a class="toc-backref" href="#id11" role="doc-backlink">Example</a><a class="headerlink" href="#id2" title="Permalink to this heading">¶</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">cal_mapping_file</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;C:\path\to\cal_mapping.yaml&quot;</span>

<span class="n">hrpd_example</span><span class="o">.</span><span class="n">focus</span><span class="p">(</span><span class="n">run_number</span><span class="o">=</span><span class="mi">66845</span><span class="p">,</span> <span class="n">calibration_mapping_file</span><span class="o">=</span><span class="n">cal_mapping_file</span><span class="p">,</span>
                   <span class="n">vanadium_normalisation</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">do_absorb_corrections</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                   <span class="n">sample_empty</span><span class="o">=</span><span class="mi">66829</span><span class="p">,</span> <span class="n">sample_empty_scale</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                   <span class="n">multiple_scattering</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">window</span><span class="o">=</span><span class="s2">&quot;10-110&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="set-sample">
<span id="set-sample-hrpd-isis-powder-diffraction-ref"></span><h3><a class="toc-backref" href="#id12" role="doc-backlink">set_sample</a><a class="headerlink" href="#set-sample" title="Permalink to this heading">¶</a></h3>
<p>The <em>set_sample</em> method allows a user to specify a SampleDetails
object which contains the sample properties used when
<a class="reference internal" href="#do-absorb-corrections-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">do_absorb_corrections</span></a> is
<strong>True</strong> in <a class="reference internal" href="#focus-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">focus</span></a>.</p>
<p>For more details on the SampleDetails object and how to set it see:
<a class="reference internal" href="ISISPowder-SampleDetails-v1.html#isis-powder-diffraction-sampledetails-ref"><span class="std std-ref">ISIS Powder Diffraction Scripts - SampleDetails Reference</span></a>.</p>
<p>The following parameter is required when calling <em>set_sample</em>.</p>
<ul class="simple">
<li><p><em>sample</em> - This must be a SampleDetails object with the material set
already.</p></li>
</ul>
<section id="id3">
<h4><a class="toc-backref" href="#id13" role="doc-backlink">Example</a><a class="headerlink" href="#id3" title="Permalink to this heading">¶</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sample_obj</span> <span class="o">=</span> <span class="n">SampleDetails</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="n">sample_obj</span><span class="o">.</span><span class="n">set_material</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>

<span class="n">hrpd_example</span><span class="o">.</span><span class="n">set_sample</span><span class="p">(</span><span class="n">sample</span><span class="o">=</span><span class="n">sample_obj</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="calibration-mapping-file">
<span id="calibration-mapping-hrpd-isis-powder-diffraction-ref"></span><h2><a class="toc-backref" href="#id14" role="doc-backlink">Calibration Mapping File</a><a class="headerlink" href="#calibration-mapping-file" title="Permalink to this heading">¶</a></h2>
<p>The calibration mapping file holds the mapping between run numbers,
current label, offset filename and the empty and vanadium numbers.</p>
<p>For more details on the calibration mapping file see:
<a class="reference internal" href="ISISPowder-Tutorials.html#cycle-mapping-files-isis-powder-diffraction-ref"><span class="std std-ref">Cycle mapping files</span></a></p>
<p>The layout on HRPD should look as follows for each block, substituting
the example values for appropriate ones.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="nt">1-100</span><span class="p">:</span><span class="w"></span>
<span class="linenos"> 2</span><span class="w">  </span><span class="s">&quot;coupled&quot;</span><span class="p p-Indicator">:</span><span class="w"></span>
<span class="linenos"> 3</span><span class="w">    </span><span class="s">&quot;10-110&quot;</span><span class="p p-Indicator">:</span><span class="w"></span>
<span class="linenos"> 4</span><span class="w">      </span><span class="nt">vanadium_run_numbers</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;1&quot;</span><span class="w"></span>
<span class="linenos"> 5</span><span class="w">      </span><span class="nt">empty_run_numbers</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;2&quot;</span><span class="w"></span>
<span class="linenos"> 6</span><span class="w">  </span><span class="s">&quot;decoupled&quot;</span><span class="p p-Indicator">:</span><span class="w"></span>
<span class="linenos"> 7</span><span class="w">    </span><span class="s">&quot;100-200&quot;</span><span class="p p-Indicator">:</span><span class="w"></span>
<span class="linenos"> 8</span><span class="w">      </span><span class="nt">vanadium_run_numbers</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;3&quot;</span><span class="w"></span>
<span class="linenos"> 9</span><span class="w">      </span><span class="nt">empty_run_numbers</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;4&quot;</span><span class="w"></span>
<span class="linenos">10</span><span class="w">  </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;1_1&quot;</span><span class="w"></span>
<span class="linenos">11</span><span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">offset_file_name &quot;offset_file.cal&quot;</span><span class="w"></span>
</pre></div>
</div>
<p>Lines 4 and 5 in this example set the vanadium and empty run numbers
for a time-of-flight window of 10-110 in a coupled run. Lines 7 and 8
set the vanadium &amp; empty for tof window of 100-200 on a decoupled run.</p>
</section>
<section id="parameters">
<h2><a class="toc-backref" href="#id15" role="doc-backlink">Parameters</a><a class="headerlink" href="#parameters" title="Permalink to this heading">¶</a></h2>
<p>The following parameters for HRPD are intended for regular use when
using the ISIS Powder scripts.</p>
<section id="calibration-directory">
<span id="calibration-directory-hrpd-isis-powder-diffraction-ref"></span><h3><a class="toc-backref" href="#id16" role="doc-backlink">calibration_directory</a><a class="headerlink" href="#calibration-directory" title="Permalink to this heading">¶</a></h3>
<p>This parameter should be the full path to the calibration folder.
Within the folder the following should be present:</p>
<ul class="simple">
<li><p>Grouping .cal file (see:
<a class="reference internal" href="#grouping-file-name-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">grouping_file_name</span></a>)</p></li>
<li><p>Folder(s) with the label name specified in mapping file (e.g. “1_1”)</p></li>
<li><p>Inside each folder should be the offset file with name specified in
mapping file</p></li>
</ul>
<p>The script will also save out vanadium splines into the relevant label
folder which are subsequently loaded and used within the
<a class="reference internal" href="#focus-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">focus</span></a> method.</p>
<p>Example Input:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">hrpd_example</span> <span class="o">=</span> <span class="n">HRPD</span><span class="p">(</span><span class="n">calibration_directory</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;C:\path\to\calibration_dir&quot;</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="calibration-mapping-file-hrpd-isis-powder-diffraction-ref">
<span id="id4"></span><h3><a class="toc-backref" href="#id17" role="doc-backlink">calibration_mapping_file</a><a class="headerlink" href="#calibration-mapping-file-hrpd-isis-powder-diffraction-ref" title="Permalink to this heading">¶</a></h3>
<p>This parameter gives the full path to the YAML file containing the
calibration mapping. For more details on this file see:
<a class="reference internal" href="#calibration-mapping-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">Calibration Mapping File</span></a></p>
<p><em>Note: this should be the full path to the file including extension</em></p>
<p>Example Input:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">hrpd_example</span> <span class="o">=</span>
<span class="n">HRPD</span><span class="p">(</span><span class="n">calibration_mapping_file</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;C:\path\to\file\calibration_mapping.yaml&quot;</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="config-file">
<span id="config-file-hrpd-isis-powder-diffraction-ref"></span><h3><a class="toc-backref" href="#id18" role="doc-backlink">config_file</a><a class="headerlink" href="#config-file" title="Permalink to this heading">¶</a></h3>
<p>The full path to the YAML configuration file. This file is described
in detail here:
<a class="reference internal" href="ISISPowder-Tutorials.html#configuration-files-isis-powder-diffraction-ref"><span class="std std-ref">Using configuration files</span></a>.  It is
recommended to set this parameter at object creation instead of when
executing a method as it will warn if any parameters are overridden in
the scripting window.</p>
<p><em>Note: This should be the full path to the file including extension</em></p>
<p>Example Input:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">hrpd_example</span> <span class="o">=</span> <span class="n">HRPD</span><span class="p">(</span><span class="n">config_file</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;C:\path\to\file\configuration.yaml&quot;</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="do-absorb-corrections">
<span id="do-absorb-corrections-hrpd-isis-powder-diffraction-ref"></span><h3><a class="toc-backref" href="#id19" role="doc-backlink">do_absorb_corrections</a><a class="headerlink" href="#do-absorb-corrections" title="Permalink to this heading">¶</a></h3>
<p>Indicates whether to perform absorption corrections in
<a class="reference internal" href="#create-vanadium-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">create_vanadium</span></a> and
<a class="reference internal" href="#focus-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">focus</span></a>. In
<a class="reference internal" href="#focus-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">focus</span></a> the sample details must
be set first with <a class="reference internal" href="#set-sample-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">set_sample</span></a>.</p>
<p>Accepted values are <strong>True</strong> or <strong>False</strong>.</p>
<p><em>Note: If this is set to ‘True’</em>
<a class="reference internal" href="#multiple-scattering-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">multiple_scattering</span></a> <em>must be
set</em></p>
<p>Example Input:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">hrpd_example</span><span class="o">.</span><span class="n">create_vanadium</span><span class="p">(</span><span class="n">do_absorb_corrections</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
<span class="c1"># Or (this assumes sample details have already been set)</span>
<span class="n">hrpd_example</span><span class="o">.</span><span class="n">focus</span><span class="p">(</span><span class="n">do_absorb_corrections</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="first-cycle-run-no">
<span id="first-cycle-run-no-hrpd-isis-powder-diffraction-ref"></span><h3><a class="toc-backref" href="#id20" role="doc-backlink">first_cycle_run_no</a><a class="headerlink" href="#first-cycle-run-no" title="Permalink to this heading">¶</a></h3>
<p>Indicates a run from the current cycle to use when calling
<a class="reference internal" href="#create-vanadium-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">create_vanadium</span></a>. This does not
have to be the first run of the cycle or the run number corresponding
to the vanadium. However it must be in the correct cycle according to
<a class="reference internal" href="#calibration-mapping-file-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">calibration_mapping_file</span></a>.</p>
<p>Example Input:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># In this example assume we mean a cycle with run numbers 100-200</span>
<span class="n">hrpd_example</span><span class="o">.</span><span class="n">create_vanadium</span><span class="p">(</span><span class="n">first_cycle_run_no</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="multiple-scattering">
<span id="multiple-scattering-hrpd-isis-powder-diffraction-ref"></span><h3><a class="toc-backref" href="#id21" role="doc-backlink">multiple_scattering</a><a class="headerlink" href="#multiple-scattering" title="Permalink to this heading">¶</a></h3>
<p>Indicates whether to account for the effects of multiple scattering
when calculating absorption corrections. if
<a class="reference internal" href="#do-absorb-corrections-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">do_absorb_corrections</span></a> is set
to <strong>True</strong> then this parameter must be set.</p>
<p>Accepted values are <strong>True</strong> or <strong>False</strong>.</p>
<p><em>Note: Calculating multiple scattering effects will add a considerable
amount to the time it takes to run your script</em></p>
<p>Example Input:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">hrpd_example</span><span class="o">.</span><span class="n">create_vanadium</span><span class="p">(</span><span class="n">multiple_scattering</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
<span class="c1"># Or</span>
<span class="n">hrpd_example</span><span class="o">.</span><span class="n">focus</span><span class="p">(</span><span class="n">multiple_scattering</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="output-directory">
<span id="output-directory-hrpd-isis-powder-diffraction-ref"></span><h3><a class="toc-backref" href="#id22" role="doc-backlink">output_directory</a><a class="headerlink" href="#output-directory" title="Permalink to this heading">¶</a></h3>
<p>Specifies the path to the output directory to save processed files
into. The script will automatically create a folder with the label
determined from the
<a class="reference internal" href="#calibration-mapping-file-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">calibration_mapping_file</span></a> and
within that create another folder for the current
<a class="reference internal" href="ISISPowder-Polaris-v1.html#user-name-polaris-isis-powder-diffraction-ref"><span class="std std-ref">user_name</span></a>. NXS and GSAS
files are saved here automatically.</p>
<p>Example Input:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">hrpd_example</span> <span class="o">=</span> <span class="n">hrpd</span><span class="o">.</span><span class="n">HRPD</span><span class="p">(</span><span class="n">output_directory</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;C:\path\to\output_dir&quot;</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="run-number">
<span id="run-number-hrpd-isis-powder-diffraction-ref"></span><h3><a class="toc-backref" href="#id23" role="doc-backlink">run_number</a><a class="headerlink" href="#run-number" title="Permalink to this heading">¶</a></h3>
<p>Specifies the run number(s) to process when calling the
<a class="reference internal" href="#focus-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">focus</span></a> method.</p>
<p>This parameter accepts a single value or a range
of values with the following syntax:</p>
<p><strong>-</strong> : Indicates a range of runs inclusive
(e.g. <em>1-10</em> would process 1, 2, 3….8, 9, 10)</p>
<p><strong>,</strong> : Indicates a gap between runs
(e.g. <em>1, 3, 5, 7</em> would process run numbers 1, 3, 5, 7)</p>
<p>These can be combined like so:
<em>1-3, 5, 8-10</em> would process run numbers 1, 2, 3, 5, 8, 9, 10.</p>
<p>Example Input:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Process run number 1, 3, 5, 6, 7</span>
<span class="n">hrpd_example</span><span class="o">.</span><span class="n">focus</span><span class="p">(</span><span class="n">run_number</span><span class="o">=</span><span class="s2">&quot;1, 3, 5-7&quot;</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
<span class="c1"># Or just a single run</span>
<span class="n">hrpd_example</span><span class="o">.</span><span class="n">focus</span><span class="p">(</span><span class="n">run_number</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="sample-empty">
<span id="sample-empty-hrpd-isis-powder-diffraction-ref"></span><h3><a class="toc-backref" href="#id24" role="doc-backlink">sample_empty</a><a class="headerlink" href="#sample-empty" title="Permalink to this heading">¶</a></h3>
<p><em>Optional</em></p>
<p>This parameter specifies a/several sample empty run(s) to subtract
from the data when running
<a class="reference internal" href="#focus-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">focus</span></a>. If multiple runs are
specified, they will be summed before being subtracted from the data.</p>
<p>This input uses the same syntax as
<a class="reference internal" href="#run-number-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">run_number</span></a>.</p>
<p><em>Note: If this is set to anything other than</em> <strong>False</strong>,
<a class="reference internal" href="#sample-empty-scale-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">sample_empty_scale</span></a> <em>must also
be specified</em></p>
<p>Example Input:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Our sample empty is a single number</span>
<span class="n">hrpd_example</span><span class="o">.</span><span class="n">focus</span><span class="p">(</span><span class="n">sample_empty</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
<span class="c1"># Or a range of numbers</span>
<span class="n">hrpd_example</span><span class="o">.</span><span class="n">focus</span><span class="p">(</span><span class="n">sample_empty</span><span class="o">=</span><span class="s2">&quot;100-110&quot;</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="sample-empty-scale">
<span id="sample-empty-scale-hrpd-isis-powder-diffraction-ref"></span><h3><a class="toc-backref" href="#id25" role="doc-backlink">sample_empty_scale</a><a class="headerlink" href="#sample-empty-scale" title="Permalink to this heading">¶</a></h3>
<p>Required if <a class="reference internal" href="#sample-empty-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">sample_empty</span></a> is set to
anything other than <strong>False</strong>.</p>
<p>Sets a factor to scale the sample empty run(s) by before
subtracting. This value is multiplied after summing the empty runs and
before subtracting the empty from the data set. For more details see
<a class="reference internal" href="../algorithms/Scale-v1.html#algm-scale-v1"><span class="std std-ref">Scale</span></a>.</p>
<p>Example Input:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Scale sample empty to 90% of original</span>
<span class="n">hrpd_example</span><span class="o">.</span><span class="n">focus</span><span class="p">(</span><span class="n">sample_empty_scale</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="suffix">
<span id="suffix-hrpd-isis-powder-diffraction-ref"></span><h3><a class="toc-backref" href="#id26" role="doc-backlink">suffix</a><a class="headerlink" href="#suffix" title="Permalink to this heading">¶</a></h3>
<p><em>Optional</em></p>
<p>This parameter specifies a suffix to append the names of output files
during a focus.</p>
<p>Example Input:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">hrpd_example</span><span class="o">.</span><span class="n">focus</span><span class="p">(</span><span class="n">suffix</span><span class="o">=</span><span class="s2">&quot;-corr&quot;</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="subtract-empty-instrument">
<span id="subtract-empty-instrument-hrpd-isis-powder-diffraction-ref"></span><h3><a class="toc-backref" href="#id27" role="doc-backlink">subtract_empty_instrument</a><a class="headerlink" href="#subtract-empty-instrument" title="Permalink to this heading">¶</a></h3>
<p><em>Optional</em></p>
<p>Indicates whether or not to subtract an empty run decided by the
- <a class="reference internal" href="#calibration-mapping-file-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">calibration_mapping_file</span></a>, defaults to false.</p>
<p>Example Input</p>
<p>..code-block:: python</p>
<blockquote>
<div><p>hrpd_example.focus(subtract_empty_instrument=True, …)</p>
</div></blockquote>
</section>
<section id="do-solid-angle-corrections">
<span id="do-solid-angle-corrections-hrpd-isis-powder-diffraction-ref"></span><h3><a class="toc-backref" href="#id28" role="doc-backlink">do_solid_angle_corrections</a><a class="headerlink" href="#do-solid-angle-corrections" title="Permalink to this heading">¶</a></h3>
<p><em>optional</em></p>
<p>Indicates whether or not to run solid angle corrections,
on a vanadium this creaes the correction file as well as dividing by it,
on focus this attempts to load in the correction file and then divides by it.</p>
<p>Example Input</p>
<p>..code-block:: python</p>
<blockquote>
<div><p>hrpd_example.create_vanadium(do_solid_angle_corrections=True, …)
hrpd_example.focus(do_solid_angle_corrections=True, …)</p>
</div></blockquote>
</section>
<section id="user-name">
<span id="user-name-hrpd-isis-powder-diffraction-ref"></span><h3><a class="toc-backref" href="#id29" role="doc-backlink">user_name</a><a class="headerlink" href="#user-name" title="Permalink to this heading">¶</a></h3>
<p>Specifies the name of the current user when creating a new HRPD
object. This is only used when saving data to sort data into
respective user folders.
See <a class="reference internal" href="#output-directory-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">output_directory</span></a> for more
details.</p>
<p>Example Input:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">hrpd_example</span> <span class="o">=</span> <span class="n">HRPD</span><span class="p">(</span><span class="n">user_name</span><span class="o">=</span><span class="s2">&quot;Mantid&quot;</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="vanadium-normalisation">
<span id="vanadium-normalisation-hrpd-isis-powder-diffraction-ref"></span><h3><a class="toc-backref" href="#id30" role="doc-backlink">vanadium_normalisation</a><a class="headerlink" href="#vanadium-normalisation" title="Permalink to this heading">¶</a></h3>
<p>Indicates whether to divide the focused workspace within
<a class="reference internal" href="#focus-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">focus</span></a> method.</p>
<p>This requires a vanadium to have been previously created using
<a class="reference internal" href="#create-vanadium-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">create_vanadium</span></a>.</p>
<p>Accepted value are <strong>True</strong> or <strong>False</strong>.</p>
<p>Example Input:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">hrpd_example</span><span class="o">.</span><span class="n">focus</span><span class="p">(</span><span class="n">do_van_normalisation</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="window">
<span id="window-hrpd-isis-powder-diffraction-ref"></span><h3><a class="toc-backref" href="#id31" role="doc-backlink">window</a><a class="headerlink" href="#window" title="Permalink to this heading">¶</a></h3>
<p>The time-of-flight window to use in the
<a class="reference internal" href="#create-vanadium-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">create_vanadium</span></a> and
<a class="reference internal" href="#focus-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">focus</span></a> methods. This determines
which vanadium and empty run numbers to use while processing.</p>
<p>Accepted values are <strong>10-110</strong>, <strong>30-130</strong> or <strong>100-200</strong>.</p>
<p>Example Input:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">hrpd_example</span><span class="o">.</span><span class="n">create_vanadium</span><span class="p">(</span><span class="n">window</span><span class="o">=</span><span class="s2">&quot;100-200&quot;</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
<span class="c1"># Or</span>
<span class="n">hrpd_example</span><span class="o">.</span><span class="n">focus</span><span class="p">(</span><span class="n">window</span><span class="o">=</span><span class="s2">&quot;10-110&quot;</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="advanced-parameters">
<h2><a class="toc-backref" href="#id32" role="doc-backlink">Advanced Parameters</a><a class="headerlink" href="#advanced-parameters" title="Permalink to this heading">¶</a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>These values are not intended to be changed and should
reflect optimal defaults for the instrument. For more
details please read:
<a class="reference internal" href="ISISPowder-Tutorials.html#instrument-advanced-properties-isis-powder-diffraction-ref"><span class="std std-ref">Instrument advanced properties</span></a></p>
<p>This section is mainly intended to act as reference for
the current settings distributed with Mantid</p>
</div>
<p>Changing any values in the advanced configuration file will require
the user to restart Mantid in order for the new values to take effect.
Please read
<a class="reference internal" href="ISISPowder-Tutorials.html#instrument-advanced-properties-isis-powder-diffraction-ref"><span class="std std-ref">Instrument advanced properties</span></a>
before changing values in the advanced configuration file.</p>
<section id="focused-bin-widths">
<h3><a class="toc-backref" href="#id33" role="doc-backlink">focused_bin_widths</a><a class="headerlink" href="#focused-bin-widths" title="Permalink to this heading">¶</a></h3>
<p>The dt-upon-t binning for the focused data.</p>
<p>On HRPD this is set to the following:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">focused_bin_widths</span> <span class="o">=</span> <span class="p">[</span>
      <span class="o">-</span><span class="mf">0.0003</span><span class="p">,</span>  <span class="c1"># Bank 1</span>
      <span class="o">-</span><span class="mf">0.0007</span><span class="p">,</span>  <span class="c1"># Bank 2</span>
      <span class="o">-</span><span class="mf">0.0012</span>   <span class="c1"># Bank 3</span>
<span class="p">]</span>
</pre></div>
</div>
</section>
<section id="focused-cropping-values">
<h3><a class="toc-backref" href="#id34" role="doc-backlink">focused_cropping_values</a><a class="headerlink" href="#focused-cropping-values" title="Permalink to this heading">¶</a></h3>
<p>Cropping windows for the three banks once data has been focused.</p>
<p>On HRPD this is set to the following:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># window = &quot;10-50&quot;</span>
<span class="n">focused_cropping_values</span> <span class="o">=</span> <span class="p">[</span>
      <span class="p">(</span><span class="mf">1.2e4</span><span class="p">,</span> <span class="mf">4.99e4</span><span class="p">),</span>  <span class="c1"># Bank 1</span>
      <span class="p">(</span><span class="mf">1.2e4</span><span class="p">,</span> <span class="mf">4.99e4</span><span class="p">),</span>  <span class="c1"># Bank 2</span>
      <span class="p">(</span><span class="mf">1.2e4</span><span class="p">,</span> <span class="mf">4.99e4</span><span class="p">),</span>  <span class="c1"># Bank 3</span>
<span class="p">]</span>

<span class="c1"># window = &quot;10-110&quot;</span>
<span class="n">focused_cropping_values</span> <span class="o">=</span> <span class="p">[</span>
      <span class="p">(</span><span class="mf">1e4</span><span class="p">,</span> <span class="mf">1.1e5</span><span class="p">),</span>    <span class="c1"># Bank 1</span>
      <span class="p">(</span><span class="mf">1e4</span><span class="p">,</span> <span class="mf">1.2e5</span><span class="p">),</span>    <span class="c1"># Bank 2</span>
      <span class="p">(</span><span class="mf">1.1e4</span><span class="p">,</span> <span class="mf">1.15e5</span><span class="p">)</span>  <span class="c1"># Bank 3</span>
<span class="p">]</span>

<span class="c1"># window = &quot;30-130&quot;</span>
<span class="n">focused_cropping_values</span> <span class="o">=</span> <span class="p">[</span>
      <span class="p">(</span><span class="mf">3e4</span><span class="p">,</span> <span class="mf">1.3e5</span><span class="p">),</span>      <span class="c1"># Bank 1</span>
      <span class="p">(</span><span class="mf">2.84e4</span><span class="p">,</span> <span class="mf">1.42e5</span><span class="p">),</span>  <span class="c1"># Bank 2</span>
      <span class="p">(</span><span class="mf">3e4</span><span class="p">,</span> <span class="mf">1.37e5</span><span class="p">)</span>      <span class="c1"># Bank 3</span>
<span class="p">]</span>

<span class="c1"># window = &quot;100-200&quot;</span>
<span class="n">focused_cropping_values</span> <span class="o">=</span> <span class="p">[</span>
      <span class="p">(</span><span class="mf">1e5</span><span class="p">,</span> <span class="mf">2.02e5</span><span class="p">),</span>    <span class="c1"># Bank 1</span>
      <span class="p">(</span><span class="mf">9.6e4</span><span class="p">,</span> <span class="mf">2.18e5</span><span class="p">),</span>  <span class="c1"># Bank 2</span>
      <span class="p">(</span><span class="mf">1e5</span><span class="p">,</span> <span class="mf">2.11e5</span><span class="p">)</span>     <span class="c1"># Bank 3</span>
<span class="p">]</span>

<span class="c1"># window = &quot;180-280&quot;</span>
<span class="n">focused_cropping_values</span> <span class="o">=</span> <span class="p">[</span>
      <span class="p">(</span><span class="mf">1.86e5</span><span class="p">,</span> <span class="mf">2.8e5</span><span class="p">),</span>   <span class="c1"># Bank 1</span>
      <span class="p">(</span><span class="mf">1.8e5</span><span class="p">,</span> <span class="mf">2.798e5</span><span class="p">),</span>  <span class="c1"># Bank 2</span>
      <span class="p">(</span><span class="mf">1.9e5</span><span class="p">,</span> <span class="mf">2.795e5</span><span class="p">),</span>  <span class="c1"># Bank 3</span>
<span class="p">]</span>
</pre></div>
</div>
</section>
<section id="grouping-file-name">
<span id="grouping-file-name-hrpd-isis-powder-diffraction-ref"></span><h3><a class="toc-backref" href="#id35" role="doc-backlink">grouping_file_name</a><a class="headerlink" href="#grouping-file-name" title="Permalink to this heading">¶</a></h3>
<p>The name of the grouping calibration file which is located within the
top level of the
<a class="reference internal" href="#calibration-directory-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">calibration_directory</span></a>.</p>
<p>The grouping file determines the mapping from detector ID to bank, and
is used when focusing the spectra into banks.</p>
<p>On HRPD this is set to the following:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">grouping_file_name</span> <span class="o">=</span> <span class="s2">&quot;hrpd_new_072_01_corr.cal&quot;</span>
</pre></div>
</div>
</section>
<section id="nxs-filename">
<span id="nxs-filename-hrpd-isis-powder-diffraction-ref"></span><h3><a class="toc-backref" href="#id36" role="doc-backlink">nxs_filename</a><a class="headerlink" href="#nxs-filename" title="Permalink to this heading">¶</a></h3>
<p>A template for the filename of the generated NeXus file.</p>
</section>
<section id="gss-filename">
<span id="gss-filename-hrpd-isis-powder-diffraction-ref"></span><h3><a class="toc-backref" href="#id37" role="doc-backlink">gss_filename</a><a class="headerlink" href="#gss-filename" title="Permalink to this heading">¶</a></h3>
<p>A template for the filename of the generated GSAS file.</p>
</section>
<section id="dat-files-directory">
<span id="dat-files-directory-hrpd-isis-powder-diffraction-ref"></span><h3><a class="toc-backref" href="#id38" role="doc-backlink">dat_files_directory</a><a class="headerlink" href="#dat-files-directory" title="Permalink to this heading">¶</a></h3>
<p>The subdirectory of the output directory where the .dat files are saved</p>
</section>
<section id="tof-xye-filename">
<span id="tof-xye-filename-hrpd-isis-powder-diffraction-ref"></span><h3><a class="toc-backref" href="#id39" role="doc-backlink">tof_xye_filename</a><a class="headerlink" href="#tof-xye-filename" title="Permalink to this heading">¶</a></h3>
<p>A template for the filename of the generated TOF XYE file.</p>
</section>
<section id="dspacing-xye-filename">
<span id="dspacing-xye-filename-hrpd-isis-powder-diffraction-ref"></span><h3><a class="toc-backref" href="#id40" role="doc-backlink">dspacing_xye_filename</a><a class="headerlink" href="#dspacing-xye-filename" title="Permalink to this heading">¶</a></h3>
<p>A template for the filename of the generated dSpacing XYE file.</p>
</section>
<section id="mode">
<span id="mode-hrpd-isis-powder-diffraction-ref"></span><h3><a class="toc-backref" href="#id41" role="doc-backlink">mode</a><a class="headerlink" href="#mode" title="Permalink to this heading">¶</a></h3>
<p>Indicates the coupling mode of the runs in
<a class="reference internal" href="#create-vanadium-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">create_vanadium</span></a> and
<a class="reference internal" href="#focus-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">focus</span></a>.</p>
<p>Accepted values are <strong>coupled</strong> and <strong>decoupled</strong>.</p>
<p>On HRPD this is set to the following:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">mode</span> <span class="o">=</span> <span class="s2">&quot;coupled&quot;</span>
</pre></div>
</div>
</section>
<section id="spline-coefficient">
<h3><a class="toc-backref" href="#id42" role="doc-backlink">spline_coefficient</a><a class="headerlink" href="#spline-coefficient" title="Permalink to this heading">¶</a></h3>
<p>The spline coefficient to use after processing the vanadium in
<a class="reference internal" href="#create-vanadium-hrpd-isis-powder-diffraction-ref"><span class="std std-ref">create_vanadium</span></a> method. For
more details see: <a class="reference internal" href="../algorithms/SplineBackground-v1.html#algm-splinebackground"><span class="std std-ref">SplineBackground</span></a></p>
<p><em>Note that if this value is changed ‘create_vanadium’ will need to be
called again.</em></p>
<p>On HRPD this is set to the following:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">spline_coefficient</span> <span class="o">=</span> <span class="mi">70</span>
</pre></div>
</div>
</section>
<section id="vanadium-tof-cropping">
<h3><a class="toc-backref" href="#id43" role="doc-backlink">vanadium_tof_cropping</a><a class="headerlink" href="#vanadium-tof-cropping" title="Permalink to this heading">¶</a></h3>
<p>The cropping window for the Vanadium sample.</p>
<p>On HRPD this is set to the following:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># window = &quot;10-50&quot;</span>
<span class="n">vanadium_tof_cropping</span> <span class="o">=</span> <span class="p">(</span><span class="mf">1.1e4</span><span class="p">,</span> <span class="mf">5e4</span><span class="p">)</span>

<span class="c1"># window = &quot;10-110&quot;</span>
<span class="n">vanadium_tof_cropping</span> <span class="o">=</span> <span class="p">(</span><span class="mf">1e4</span><span class="p">,</span> <span class="mf">1.2e5</span><span class="p">)</span>

<span class="c1"># window = &quot;30-130&quot;</span>
<span class="n">vanadium_tof_cropping</span> <span class="o">=</span> <span class="p">(</span><span class="mf">3e4</span><span class="p">,</span> <span class="mf">1.4e5</span><span class="p">)</span>

<span class="c1"># window = &quot;100-200&quot;</span>
<span class="n">vanadium_tof_cropping</span> <span class="o">=</span> <span class="p">(</span><span class="mf">1e5</span><span class="p">,</span> <span class="mf">2.15e5</span><span class="p">)</span>

<span class="c1"># window = &quot;180-280&quot;</span>
<span class="n">vanadium_tof_cropping</span> <span class="o">=</span> <span class="p">(</span><span class="mf">1.8e5</span><span class="p">,</span> <span class="mf">2.8e5</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="vanadium-sample-details">
<h3><a class="toc-backref" href="#id44" role="doc-backlink">Vanadium Sample details</a><a class="headerlink" href="#vanadium-sample-details" title="Permalink to this heading">¶</a></h3>
<section id="chemical-formula">
<h4><a class="toc-backref" href="#id45" role="doc-backlink">chemical_formula</a><a class="headerlink" href="#chemical-formula" title="Permalink to this heading">¶</a></h4>
<p>The chemical formula for the Vanadium rod.</p>
<p>On HRPD this is, predictably, set to the following:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">chemical_formula</span> <span class="o">=</span> <span class="s2">&quot;V&quot;</span>
</pre></div>
</div>
</section>
<section id="cylinder-position">
<h4><a class="toc-backref" href="#id46" role="doc-backlink">cylinder_position</a><a class="headerlink" href="#cylinder-position" title="Permalink to this heading">¶</a></h4>
<p>The position of the Vanadium rod in [x, y, z]</p>
<p>On HRPD this is set to the following:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">cylinder_position</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="cylinder-sample-height">
<h4><a class="toc-backref" href="#id47" role="doc-backlink">cylinder_sample_height</a><a class="headerlink" href="#cylinder-sample-height" title="Permalink to this heading">¶</a></h4>
<p>The height of the Vanadium rod.</p>
<p>On HRPD this is set to the following:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">cylinder_sample_height</span> <span class="o">=</span> <span class="mf">2.0</span>
</pre></div>
</div>
</section>
<section id="cylinder-sample-radius">
<h4><a class="toc-backref" href="#id48" role="doc-backlink">cylinder_sample_radius</a><a class="headerlink" href="#cylinder-sample-radius" title="Permalink to this heading">¶</a></h4>
<p>The radius of the Vanadium rod.</p>
<p>On HRPD this is set to the following:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">cylinder_sample_radius</span> <span class="o">=</span> <span class="mf">2.0</span>
</pre></div>
</div>
<p><strong>Category</strong>: <a class="reference external" href="categories/Techniques.html">Techniques</a></p>
</section>
</section>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="ISISPowder-GEM-v1.html" title="Previous Chapter: ISIS Powder Diffraction Scripts - GEM Reference"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; ISIS Powder D...</span>
    </a>
  </li>
  <li>
    <a href="ISISPowder-Index-v1.html" title="Next Chapter: ISIS Powder Diffraction Scripts"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">ISIS Powder D... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>