<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>ISIS Powder - Tutorials</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="ISIS Powder Diffraction Scripts Workflow Diagrams" href="ISISPowder-Workflows-v1.html" />
    <link rel="prev" title="ISIS Powder Diffraction Scripts - SampleDetails Reference" href="ISISPowder-SampleDetails-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.5</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://www.mantidproject.org">Home</a></li>
                <li><a href="https://download.mantidproject.org">Download</a></li>
                <li><a href="https://docs.mantidproject.org">Documentation</a></li>
                <li><a href="https://www.mantidproject.org/contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Techniques</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">ISIS Powder - Tutorials</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="isis-powder-tutorials">
<span id="isis-powder-diffraction-tutorials-ref"></span><h1>ISIS Powder - Tutorials<a class="headerlink" href="#isis-powder-tutorials" title="Permalink to this heading">¶</a></h1>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#introduction" id="id1">Introduction</a></p>
<ul>
<li><p><a class="reference internal" href="#obtaining-tutorial-data" id="id2">Obtaining tutorial data</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#setting-up" id="id3">Setting up</a></p>
<ul>
<li><p><a class="reference internal" href="#copying-instrument-example-files" id="id4">Copying instrument example files</a></p></li>
<li><p><a class="reference internal" href="#importing-the-instrument" id="id5">Importing the instrument</a></p></li>
<li><p><a class="reference internal" href="#a-quick-introduction-to-objects" id="id6">A quick introduction to objects</a></p></li>
<li><p><a class="reference internal" href="#paths-to-the-required-files" id="id7">Paths to the required files</a></p></li>
<li><p><a class="reference internal" href="#creating-the-instrument-object" id="id8">Creating the instrument object</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#focusing-first-data-set" id="id9">Focusing first data set</a></p>
<ul>
<li><p><a class="reference internal" href="#how-objects-hold-state-in-isis-powder" id="id10">How objects hold state in ISIS Powder</a></p></li>
<li><p><a class="reference internal" href="#creating-the-vanadium-run" id="id11">Creating the vanadium run</a></p></li>
<li><p><a class="reference internal" href="#focusing-a-data-set" id="id12">Focusing a data set</a></p></li>
<li><p><a class="reference internal" href="#output-files" id="id13">Output files</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#using-configuration-files" id="id14">Using configuration files</a></p>
<ul>
<li><p><a class="reference internal" href="#creating-a-configuration-file" id="id15">Creating a configuration file</a></p></li>
<li><p><a class="reference internal" href="#using-the-configuration-file" id="id16">Using the configuration file</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#cycle-mapping-files" id="id17">Cycle mapping files</a></p>
<ul>
<li><p><a class="reference internal" href="#examples" id="id18">Examples</a></p></li>
<li><p><a class="reference internal" href="#run-numbers" id="id19">Run numbers</a></p></li>
<li><p><a class="reference internal" href="#relation-to-calibration-directory" id="id20">Relation to calibration directory</a></p></li>
<li><p><a class="reference internal" href="#changing-mid-cycle" id="id21">Changing mid-cycle</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#processing-intermediate-files" id="id22">Processing intermediate files</a></p></li>
<li><p><a class="reference internal" href="#absorption-corrections-on-sample" id="id23">Absorption corrections on sample</a></p>
<ul>
<li><p><a class="reference internal" href="#create-sampledetails-object" id="id24">Create SampleDetails object</a></p></li>
<li><p><a class="reference internal" href="#setting-the-material-details" id="id25">Setting the material details</a></p></li>
<li><p><a class="reference internal" href="#setting-material-properties" id="id26">Setting material properties</a></p></li>
<li><p><a class="reference internal" href="#using-the-new-sampledetails-object" id="id27">Using the new SampleDetails object</a></p></li>
<li><p><a class="reference internal" href="#changing-sample-properties" id="id28">Changing sample properties</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#setting-beam-parameters" id="id29">Setting beam parameters</a></p></li>
<li><p><a class="reference internal" href="#instrument-advanced-properties" id="id30">Instrument advanced properties</a></p></li>
</ul>
</nav>
<section id="introduction">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">Introduction</a><a class="headerlink" href="#introduction" title="Permalink to this heading">¶</a></h2>
<p>These tutorials assume you have read, understood and
completed the steps detailed at the following links:</p>
<ul class="simple">
<li><p><a class="reference internal" href="ISISPowder-Index-v1.html#script-param-overview-isis-powder-diffraction-ref"><span class="std std-ref">General Information</span></a></p></li>
<li><p><a class="reference internal" href="ISISPowder-Index-v1.html#prerequisites-isis-powder-diffraction-ref"><span class="std std-ref">Prerequisites</span></a></p></li>
</ul>
<p>For these examples we will be using an arbitrary instrument,
and any differences between other instruments will be
clearly documented.</p>
<section id="obtaining-tutorial-data">
<span id="obtaining-example-data-isis-powder-diffraction-ref"></span><h3><a class="toc-backref" href="#id2" role="doc-backlink">Obtaining tutorial data</a><a class="headerlink" href="#obtaining-tutorial-data" title="Permalink to this heading">¶</a></h3>
<p>These tutorials will use the data found in the
ISIS example data sets. The data sets can be downloaded
from the <a class="reference external" href="https://download.mantidproject.org/">Mantid download page</a>,
under <em>Sample datasets</em> - <em>ISIS</em>. Users may also use their own
data instead however results will differ. Some additional
configuration may also be required which is explained in later tutorials.</p>
</section>
</section>
<section id="setting-up">
<span id="setup-tutorials-isis-powder-diffraction-ref"></span><h2><a class="toc-backref" href="#id3" role="doc-backlink">Setting up</a><a class="headerlink" href="#setting-up" title="Permalink to this heading">¶</a></h2>
<p>This tutorial will help you setup the ISIS Powder
diffraction scripts for your instrument. It assumes
no prior knowledge or usage of the scripts and a fresh install of Mantid.</p>
<section id="copying-instrument-example-files">
<span id="copying-example-files-isis-powder-diffraction-ref"></span><h3><a class="toc-backref" href="#id4" role="doc-backlink">Copying instrument example files</a><a class="headerlink" href="#copying-instrument-example-files" title="Permalink to this heading">¶</a></h3>
<p>Open your Mantid install location, by default this
will be <cite>C:\MantidInstall</cite> on Windows, <cite>/opt/Mantid</cite> on Linux, and <cite>/Applications/MantidWorkbench.app/</cite> on OSX.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In Finder on OSX to see files inside the MantidWorkbench application you
need to right click on the MantidWorkbench application then choose “Show Package
Contents”</p>
</div>
<p>Open <em>scripts</em> &gt; <em>Diffraction</em> &gt; <em>isis_powder</em>.
In these tutorials we will be using Polaris examples and data
however you may set-up a different instrument.</p>
<p>Open <em>polaris_routines</em> (or <em>‘instName’_routines</em>), there will
be a folder called <em>Examples</em>. Copy the contents (all files and folders)
within the <em>Examples</em> folder to a known location.</p>
</section>
<section id="importing-the-instrument">
<h3><a class="toc-backref" href="#id5" role="doc-backlink">Importing the instrument</a><a class="headerlink" href="#importing-the-instrument" title="Permalink to this heading">¶</a></h3>
<p>Open up Mantid, then go to the scripting window by either pressing
<strong>F3</strong> or going to <em>View</em> - <em>Script Window</em></p>
<p>First we need to import the instrument to be able to use it. If
you are using a different instrument substitute Polaris for your
instrument name:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Note this IS case sensitive</span>
<span class="kn">from</span> <span class="nn">isis_powder</span> <span class="kn">import</span> <span class="n">Polaris</span>
</pre></div>
</div>
</section>
<section id="a-quick-introduction-to-objects">
<span id="intro-to-objects-isis-powder-diffraction-ref"></span><h3><a class="toc-backref" href="#id6" role="doc-backlink">A quick introduction to objects</a><a class="headerlink" href="#a-quick-introduction-to-objects" title="Permalink to this heading">¶</a></h3>
<p><em>This section is for script writers who are not familiar or comfortable
with object orientation. If you feel comfortable with the concept of
objects holding state you may skip onto the next section.</em></p>
<p>The ISIS Powder scripts use objects to hold a state, an object is
best illustrated with the below example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">blue_duck</span> <span class="o">=</span> <span class="n">Duck</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s2">&quot;Blue&quot;</span><span class="p">)</span>
<span class="n">red_duck</span> <span class="o">=</span> <span class="n">Duck</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s2">&quot;Rubber duck&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>On lines 1 and 2 we create a new duck object. Each
object has a name we choose (in this case <code class="docutils literal notranslate"><span class="pre">blue_duck</span></code> and
<code class="docutils literal notranslate"><span class="pre">red_duck</span></code>) and a separate state, but the actions we
can perform on each are the same. For example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">blue_duck</span><span class="o">.</span><span class="n">feed</span><span class="p">()</span>
</pre></div>
</div>
<p>We now have fed <code class="docutils literal notranslate"><span class="pre">blue_duck</span></code> so its state will have changed so it is no longer
hungry. However the <code class="docutils literal notranslate"><span class="pre">red_duck</span></code> has not changed at all so its state
is still hungry in this example.</p>
<p>Because objects have their own state you can create multiple objects
in your script to perform different actions, such as processing half
your data with one set of options and the other half of the data
with another set of options.</p>
</section>
<section id="paths-to-the-required-files">
<span id="paths-to-setup-files-isis-powder-diffraction-ref"></span><h3><a class="toc-backref" href="#id7" role="doc-backlink">Paths to the required files</a><a class="headerlink" href="#paths-to-the-required-files" title="Permalink to this heading">¶</a></h3>
<p>Navigate back to the files copied from this section of the
tutorial <a class="reference internal" href="#copying-example-files-isis-powder-diffraction-ref"><span class="std std-ref">Copying instrument example files</span></a>.
There should be two files and a folder. If you are using the
ISIS example data set
(see <a class="reference internal" href="#obtaining-example-data-isis-powder-diffraction-ref"><span class="std std-ref">Obtaining tutorial data</span></a>)
you will not need to modify anything at this point.</p>
<p>If you are not using the ISIS example data set you will need to
modify your calibration directory and cycle mapping as detailed
here: <a class="reference internal" href="#cycle-mapping-files-isis-powder-diffraction-ref"><span class="std std-ref">Cycle mapping files</span></a></p>
<p>Take notes of the following paths as we will need them later:</p>
<ul class="simple">
<li><p>The path to the folder you are currently in</p></li>
<li><p>The name of the ‘calibration’ folder</p></li>
<li><p>The name of the cycle mapping file</p></li>
</ul>
<p>For example in the POLARIS example folder these filenames will be:</p>
<ul class="simple">
<li><p>Name of ‘calibration’ folder: <strong>Calibration</strong></p></li>
<li><p>Name of cycle mapping file: <strong>polaris_cycle_map_example.YAML</strong>
-  <em>Note</em>: you may not have file extensions showing, in that case you
will see ‘polaris_cycle_map_example’ and need to insert
<strong>.YAML</strong> after the filename</p></li>
</ul>
</section>
<section id="creating-the-instrument-object">
<span id="creating-inst-object-isis-powder-diffraction-ref"></span><h3><a class="toc-backref" href="#id8" role="doc-backlink">Creating the instrument object</a><a class="headerlink" href="#creating-the-instrument-object" title="Permalink to this heading">¶</a></h3>
<p>Having introduced objects in:
<a class="reference internal" href="#intro-to-objects-isis-powder-diffraction-ref"><span class="std std-ref">A quick introduction to objects</span></a> we can now
go ahead and create an instrument object.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">isis_powder</span> <span class="kn">import</span> <span class="n">Polaris</span>

<span class="c1"># This name is arbitrary</span>
<span class="n">a_pol_obj</span> <span class="o">=</span> <span class="n">Polaris</span><span class="p">()</span>
</pre></div>
</div>
<p>If you try to run this code the script will complain whenever it
comes across a parameter it requires but has not been set.
The following parameters must be set for all instruments:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">user_name</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">calibration_directory</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">output_directory</span></code></p></li>
</ul>
<p>There will also be additional instrument specific parameters required,
a list of these can be found in the relevant instrument reference:
<a class="reference internal" href="ISISPowder-Index-v1.html#instrument-doc-links-isis-powder-diffraction-ref"><span class="std std-ref">Instrument Reference</span></a> for example
all instruments require a cycle mapping file. On HRPD, GEM and POLARIS
this is called the <code class="docutils literal notranslate"><span class="pre">calibration_mapping_file</span></code>, on PEARL this is the
<code class="docutils literal notranslate"><span class="pre">calibration_config_path</span></code>.</p>
<p>Using the above information we can start to populate the required
parameters (see <a class="reference internal" href="#paths-to-setup-files-isis-powder-diffraction-ref"><span class="std std-ref">Paths to the required files</span></a>
for where these paths came from):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">isis_powder</span> <span class="kn">import</span> <span class="n">Polaris</span>

<span class="n">a_pol_obj</span> <span class="o">=</span> <span class="n">Polaris</span><span class="p">(</span><span class="n">user_name</span><span class="o">=</span><span class="s2">&quot;Your name here&quot;</span><span class="p">,</span>
                    <span class="n">calibration_directory</span><span class="o">=*</span><span class="n">Path</span> <span class="n">to</span> <span class="n">calibration</span> <span class="n">directory</span><span class="o">*</span><span class="p">,</span>
                    <span class="n">calibration_config_path</span><span class="o">=*</span><span class="n">Path</span> <span class="n">to</span> <span class="n">folder</span><span class="o">*</span>\\<span class="o">*</span><span class="n">cycle</span> <span class="n">mapping</span> <span class="n">name</span><span class="o">.</span><span class="n">YAML</span><span class="o">*</span><span class="p">,</span>
                    <span class="o">....</span><span class="n">etc</span><span class="o">.</span><span class="p">)</span>
</pre></div>
</div>
<p>Each time we execute the code it will inform us if a parameter is
required at that point and we have forgotten to enter it. When you see
<code class="docutils literal notranslate"><span class="pre">Script</span> <span class="pre">execution</span> <span class="pre">finished</span></code> it means we have enough information to
create the instrument object.</p>
<p>In the next tutorial we will focus a vanadium run and use that to
focus a standard sample.</p>
</section>
</section>
<section id="focusing-first-data-set">
<h2><a class="toc-backref" href="#id9" role="doc-backlink">Focusing first data set</a><a class="headerlink" href="#focusing-first-data-set" title="Permalink to this heading">¶</a></h2>
<p>This tutorial assumes you have followed the steps in the previous
tutorial <a class="reference internal" href="#setup-tutorials-isis-powder-diffraction-ref"><span class="std std-ref">Setting up</span></a> and
have created an instrument object successfully.</p>
<p>We now have an object for the instrument we specified, if you followed
the previous tutorial this will be a Polaris object.
These objects have methods we can access using their <code class="docutils literal notranslate"><span class="pre">.</span></code> operator.
We will use this to create a vanadium run on Polaris:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span>  <span class="kn">from</span> <span class="nn">isis_powder</span> <span class="kn">import</span> <span class="n">Polaris</span>
<span class="linenos">2</span>
<span class="linenos">3</span>  <span class="n">a_pol_obj</span> <span class="o">=</span> <span class="n">Polaris</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="linenos">4</span>  <span class="n">a_pol_obj</span><span class="o">.</span><span class="n">create_vanadium</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>On line 4 we call the <code class="docutils literal notranslate"><span class="pre">create_vanadium</span></code> method on the Polaris object.
All instruments will have this method however the parameters they
accept and require are bespoke. Parameters can be
found for each individual instrument in the reference document:
<a class="reference internal" href="ISISPowder-Index-v1.html#instrument-doc-links-isis-powder-diffraction-ref"><span class="std std-ref">Instrument Reference</span></a></p>
<section id="how-objects-hold-state-in-isis-powder">
<span id="how-objects-hold-state-isis-powder-diffraction-ref"></span><h3><a class="toc-backref" href="#id10" role="doc-backlink">How objects hold state in ISIS Powder</a><a class="headerlink" href="#how-objects-hold-state-in-isis-powder" title="Permalink to this heading">¶</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This is NOT relevant for PEARL. PEARL scientists should
refer to <a class="reference internal" href="ISISPowder-Pearl-v1.html#state-for-pearl-isis-powder-diffraction-ref"><span class="std std-ref">How the PEARL object holds state</span></a></p>
</div>
<p>Additionally as the objects hold state we can set a parameter
anywhere. For example on Polaris the <code class="docutils literal notranslate"><span class="pre">mode</span></code> parameter indicates
the chopper state for this/these run(s). This can either be set
when we create the object like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">isis_powder</span> <span class="kn">import</span> <span class="n">Polaris</span>

<span class="n">a_pol_obj</span> <span class="o">=</span> <span class="n">Polaris</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;PDF&quot;</span><span class="p">,</span> <span class="o">....</span><span class="p">)</span>
<span class="n">a_pol_obj</span><span class="o">.</span><span class="n">create_vanadium</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>Or set whilst calling a method like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">isis_powder</span> <span class="kn">import</span> <span class="n">Polaris</span>

<span class="n">a_pol_obj</span> <span class="o">=</span> <span class="n">Polaris</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="n">a_pol_obj</span><span class="o">.</span><span class="n">create_vanadium</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;PDF&quot;</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>Both of the above are equivalent. Additionally if we change the value
the scripts will warn us. This can be demonstrated with the following
example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">isis_powder</span> <span class="kn">import</span> <span class="n">Polaris</span>

<span class="n">a_pol_obj</span> <span class="o">=</span> <span class="n">Polaris</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;PDF&quot;</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>

<span class="c1"># The following line will warn us we changed the chopper</span>
<span class="c1"># status from PDF to Rietveld. It will also remain</span>
<span class="c1"># in Rietveld mode from now on till we change it again</span>
<span class="n">a_pol_obj</span><span class="o">.</span><span class="n">create_vanadium</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;Rietveld&quot;</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>

<span class="c1"># Mode is still Rietveld on the following line</span>
<span class="n">a_pol_obj</span><span class="o">.</span><span class="n">create_vanadium</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>For these reasons it is recommended to create multiple objects
when you need to switch between different settings within a script:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">isis_powder</span> <span class="kn">import</span> <span class="n">Polaris</span>

<span class="n">pol_PDF</span> <span class="o">=</span> <span class="n">Polaris</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;PDF&quot;</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
<span class="n">pol_Rietveld</span> <span class="o">=</span> <span class="n">Polaris</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;Rietveld&quot;</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>

<span class="c1"># Runs with the chopper set to PDF mode:</span>
<span class="n">pol_PDF</span><span class="o">.</span><span class="n">create_vanadium</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="c1"># Runs with the chopper set to Rietveld mode:</span>
<span class="n">pol_Rietveld</span><span class="o">.</span><span class="n">create_vanadium</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="creating-the-vanadium-run">
<span id="creating-first-vanadium-run-isis-powder-diffraction-ref"></span><h3><a class="toc-backref" href="#id11" role="doc-backlink">Creating the vanadium run</a><a class="headerlink" href="#creating-the-vanadium-run" title="Permalink to this heading">¶</a></h3>
<p>Because of the way objects hold state in ISIS Powder
(see: <a class="reference internal" href="#how-objects-hold-state-isis-powder-diffraction-ref"><span class="std std-ref">How objects hold state in ISIS Powder</span></a>)
it is up to the reader of this tutorial where they set different
parameters.</p>
<p>As previously mentioned each instrument has bespoke parameters
and can be found in the individual instrument reference document:
<a class="reference internal" href="ISISPowder-Index-v1.html#instrument-doc-links-isis-powder-diffraction-ref"><span class="std std-ref">Instrument Reference</span></a></p>
<p>Additionally as noted previously this tutorial assumes the user
is using the example ISIS data set (
see: <a class="reference internal" href="#obtaining-example-data-isis-powder-diffraction-ref"><span class="std std-ref">Obtaining tutorial data</span></a>).
If they are not they will need to setup their cycle mapping to their
data detailed here: <a class="reference internal" href="#cycle-mapping-files-isis-powder-diffraction-ref"><span class="std std-ref">Cycle mapping files</span></a></p>
<p>For Polaris we require the following parameters in addition to the
parameters discussed to create the object (see
<a class="reference internal" href="#creating-inst-object-isis-powder-diffraction-ref"><span class="std std-ref">Creating the instrument object</span></a>):</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">do_absorb_corrections</span></code> - Indicates whether to account for absorption when processing
the vanadium data. It is recommended to have this set to <code class="docutils literal notranslate"><span class="pre">True</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">first_cycle_run_no</span></code> - Used to determine which cycle to create a vanadium for.
For example on a cycle with runs 100-120 this value can be any value from 100-120
(e.g. 111)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mode</span></code> - Indicates what the chopper state was for this run</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">multiple_scattering</span></code> - Indicates whether to account for the effects of
multiple scattering. For the tutorial it is highly recommended to set this to <code class="docutils literal notranslate"><span class="pre">False</span></code>
as it will increase the script run time from seconds to 10-30 minutes.</p></li>
</ul>
<p><em>Note: Due to the complexity of the Polaris instrument definition it will take
Mantid up to 10 minutes to load your first data set for this instrument.</em></p>
<p>As we will be later focusing run number 98533 we can use that to ensure
the correct cycle is selected for the <code class="docutils literal notranslate"><span class="pre">first_cycle_run_no</span></code> input.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">isis_powder</span> <span class="kn">import</span> <span class="n">Polaris</span>

<span class="c1"># This should be set from the previous tutorial.</span>
<span class="n">a_pol_obj</span> <span class="o">=</span> <span class="n">Polaris</span><span class="p">(</span><span class="o">....</span><span class="p">)</span>
<span class="n">a_pol_obj</span><span class="o">.</span><span class="n">create_vanadium</span><span class="p">(</span><span class="n">first_cycle_run_no</span><span class="o">=</span><span class="mi">98533</span><span class="p">,</span>
                          <span class="n">do_absorb_corrections</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                          <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;Rietveld&quot;</span><span class="p">,</span>
                          <span class="n">multiple_scattering</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p>Executing the above should now successfully process the vanadium run,
you should have two resulting workspaces for the vanadium run in
dSpacing and TOF. Additionally there will be another workspace containing
the splines which will be used when focusing future data.</p>
</section>
<section id="focusing-a-data-set">
<span id="focusing-data-isis-powder-diffraction-ref"></span><h3><a class="toc-backref" href="#id12" role="doc-backlink">Focusing a data set</a><a class="headerlink" href="#focusing-a-data-set" title="Permalink to this heading">¶</a></h3>
<p>Having successfully processed a vanadium run (see:
<a class="reference internal" href="#creating-first-vanadium-run-isis-powder-diffraction-ref"><span class="std std-ref">Creating the vanadium run</span></a>)
we are now able to focus a data set. For this tutorial we will
be focusing a sample of Silicon.</p>
<p><em>It is highly recommended to create a separate script file for
focusing data, this ensures the vanadium is not reprocessed
every time data is focused.</em></p>
<p>To focus data we can call the <code class="docutils literal notranslate"><span class="pre">focus</span></code> method present on all
instruments. As previously mentioned each instrument has
bespoke parameters, these can be found in the individual
instrument reference document:
<a class="reference internal" href="ISISPowder-Index-v1.html#instrument-doc-links-isis-powder-diffraction-ref"><span class="std std-ref">Instrument Reference</span></a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">isis_powder</span> <span class="kn">import</span> <span class="n">Polaris</span>
<span class="c1"># This should be set from the previous tutorial.</span>
<span class="n">a_pol_obj</span> <span class="o">=</span> <span class="n">Polaris</span><span class="p">(</span><span class="o">....</span><span class="p">)</span>

<span class="n">a_pol_obj</span><span class="o">.</span><span class="n">focus</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>To focus the Si sample included in the ISIS data set we
require the following parameters:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">do_absorb_corrections</span></code> - This will be covered in a later tutorial.
It determines whether to perform sample absorption corrections on
instruments which support this correction. For this tutorial please
ensure it is set to <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">do_van_normalisation</span></code> - Determines whether to divide the data
set by the processed vanadium splines. This should be set to
<code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">input_mode</span></code> - Some instruments will not have this
(in which case the data will always be summed). Acceptable values
are <code class="docutils literal notranslate"><span class="pre">&quot;Individual&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;Summed&quot;</span></code>. When set to individual each run
will be loaded and processed separately, in summed all runs specified
will be summed.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mode</span></code> - Indicates what the chopper state was for this run (eg
<code class="docutils literal notranslate"><span class="pre">&quot;Rietveld&quot;</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">run_number</span></code> - The run number or range of run numbers. This can
either be a string or integer (plain number). For example
<code class="docutils literal notranslate"><span class="pre">&quot;100-105,</span> <span class="pre">107,</span> <span class="pre">109-111&quot;</span></code> will process
100, 101, 102…, 105, 107, 109, 110, 111.</p></li>
</ul>
<p>For this tutorial the run number will be 98533, and <code class="docutils literal notranslate"><span class="pre">input_mode</span></code>
will not affect the result as it is a single run. Additionally in
the example data you could focus 98534 (YAG sample) too.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">isis_powder</span> <span class="kn">import</span> <span class="n">Polaris</span>

<span class="c1"># This should be set from the previous tutorial.</span>
<span class="n">a_pol_obj</span> <span class="o">=</span> <span class="n">Polaris</span><span class="p">(</span><span class="o">....</span><span class="p">)</span>
<span class="n">a_pol_obj</span><span class="o">.</span><span class="n">focus</span><span class="p">(</span><span class="n">input_mode</span><span class="o">=</span><span class="s2">&quot;Individual&quot;</span><span class="p">,</span> <span class="n">run_number</span><span class="o">=</span><span class="mi">98533</span><span class="p">,</span>
                <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;Rietveld&quot;</span><span class="p">,</span>
                <span class="n">do_absorb_corrections</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                <span class="n">do_van_normalisation</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>This will now process the data and produce two workspace groups
for the results in dSpacing and TOF in addition to another group
containing the spline(s) used whilst processing the data.</p>
<p>Congratulations you have now focused a data set using ISIS Powder.</p>
</section>
<section id="output-files">
<span id="output-folder-isis-powder-diffraction-ref"></span><h3><a class="toc-backref" href="#id13" role="doc-backlink">Output files</a><a class="headerlink" href="#output-files" title="Permalink to this heading">¶</a></h3>
<p>After focusing the data it is saved in a variety of formats which
suits the instrument. These can be found in the user specified
output directory. The scripts will automatically create the
label for the current cycle (covered in additional detail later
<a class="reference internal" href="#cycle-mapping-files-isis-powder-diffraction-ref"><span class="std std-ref">Cycle mapping files</span></a>).</p>
<p>Within the label folder a new folder will be created or used
matching the <code class="docutils literal notranslate"><span class="pre">user_name</span></code> specified. Within that folder will
be the output data in the various formats that is used on
that instrument to perform data analysis.</p>
</section>
</section>
<section id="using-configuration-files">
<span id="configuration-files-isis-powder-diffraction-ref"></span><h2><a class="toc-backref" href="#id14" role="doc-backlink">Using configuration files</a><a class="headerlink" href="#using-configuration-files" title="Permalink to this heading">¶</a></h2>
<p>This tutorial assumes you have successfully created an instrument
object as described here: <a class="reference internal" href="#creating-inst-object-isis-powder-diffraction-ref"><span class="std std-ref">Creating the instrument object</span></a>.</p>
<p>You have probably noticed that a lot of the parameters set do not
change whenever you create an instrument object and a warning
is emitted stating you are not using a configuration file.</p>
<p>The rational behind a configuration file is to move settings which
rarely change but are machine specific to a separate file you can
load in instead. For example the output directory or calibration
directory do not change often.</p>
<section id="creating-a-configuration-file">
<h3><a class="toc-backref" href="#id15" role="doc-backlink">Creating a configuration file</a><a class="headerlink" href="#creating-a-configuration-file" title="Permalink to this heading">¶</a></h3>
<p>Navigate back to the files copied from the example folder (see:
<a class="reference internal" href="#copying-example-files-isis-powder-diffraction-ref"><span class="std std-ref">Copying instrument example files</span></a>). There is
a file we have not been using which will be named along the lines of
<em>‘inst’_config_example.YAML</em>.</p>
<p>This will come pre-configured with some examples of how parameters are
set in the files. The names always match parameter names which
can be found in the instrument reference documentation:
<a class="reference internal" href="ISISPowder-Index-v1.html#instrument-doc-links-isis-powder-diffraction-ref"><span class="std std-ref">Instrument Reference</span></a></p>
<p>For example if we currently have the output directory as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">isis_powder</span> <span class="kn">import</span> <span class="n">Polaris</span>

<span class="c1"># Note the r before &quot; avoids us having to put \\</span>
<span class="n">a_pol_obj</span> <span class="o">=</span> <span class="n">Polaris</span><span class="p">(</span><span class="n">output_directory</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;C:\path\to\your\output_dir&quot;</span><span class="p">,</span> <span class="o">....</span><span class="p">)</span>
</pre></div>
</div>
<p>We can instead move it to the YAML file so it reads as follows:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># YAML FILE:</span><span class="w"></span>
<span class="c1"># Note the single quotes on a path in a YAML file</span><span class="w"></span>
<span class="nt">output_directory</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;C:\path\to\your\output_dir&#39;</span><span class="w"></span>
</pre></div>
</div>
<p>Additionally we can move parameters which should be defaults into
the same file too:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1">#YAML FILE:</span><span class="w"></span>
<span class="nt">output_directory</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;C:\path\to\your\output_dir&#39;</span><span class="w"></span>
<span class="nt">do_van_normalisation</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span><span class="w"></span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Within the YAML files the most recent value also takes precedence.
So if <code class="docutils literal notranslate"><span class="pre">user_name</span></code> appeared twice the value closest
to the bottom will be used. This is implementation specific and
should not be relied on. Users should strive to ensure each key - value
pair appears once to avoid confusion.</p>
</div>
</section>
<section id="using-the-configuration-file">
<h3><a class="toc-backref" href="#id16" role="doc-backlink">Using the configuration file</a><a class="headerlink" href="#using-the-configuration-file" title="Permalink to this heading">¶</a></h3>
<p>You will need to make a note of the full path to the configuration
file. Note that the filename entered must end with .YAML (even if it
is not shown when browsing the files on your OS).</p>
<p>Setting the configuration file from the previous example we
now have a default output directory and perform vanadium normalisation
by default too.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">isis_powder</span> <span class="kn">import</span> <span class="n">Polaris</span>

<span class="n">config_file_path</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;C:\path\to\your\config_file.YAML&quot;</span>
<span class="n">a_pol_obj</span> <span class="o">=</span> <span class="n">Polaris</span><span class="p">(</span><span class="n">config_file</span><span class="o">=</span><span class="n">config_file_path</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
<span class="c1"># Will now divide by the vanadium run by default as this was</span>
<span class="c1"># set in the configuration file</span>
<span class="n">a_pol_obj</span><span class="o">.</span><span class="n">focus</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>Any property set in the configuration file can be overridden. So
if you require a different output directory for a specific script
you can still use the original configuration file.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">isis_powder</span> <span class="kn">import</span> <span class="n">Polaris</span>

<span class="n">config_file_path</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;C:\path\to\your\config_file.YAML&quot;</span>

<span class="c1"># Output directory changed to our own output directory,</span>
<span class="c1"># and warning emitted informing us this has happened</span>
<span class="n">a_pol_obj</span> <span class="o">=</span> <span class="n">Polaris</span><span class="p">(</span><span class="n">config_file</span><span class="o">=</span><span class="n">config_file_path</span><span class="p">,</span>
                    <span class="n">output_dir</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;C:\path\to\new\output_dir&quot;</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>

<span class="c1"># As the object has a state it will still be set to our custom</span>
<span class="c1"># output directory here (instead of configuration one) without</span>
<span class="c1"># restating it</span>
<span class="n">a_pol_obj</span><span class="o">.</span><span class="n">focus</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>It is recommended instrument scientists move optimal defaults
(such as performing vanadium normalisation) into a configuration
file which the scripts use.</p>
</section>
</section>
<section id="cycle-mapping-files">
<span id="cycle-mapping-files-isis-powder-diffraction-ref"></span><h2><a class="toc-backref" href="#id17" role="doc-backlink">Cycle mapping files</a><a class="headerlink" href="#cycle-mapping-files" title="Permalink to this heading">¶</a></h2>
<p>The cycle mapping file is used to hold various details about the current
and past cycles. These details include the empty and vanadium run number(s),
current label and offset filename.</p>
<p>The <em>label</em> is used to separate output data into its various cycle numbers,
Mantid will correctly handle the cycle on input data. The goal of the label
is to ensure runs end up in the output folder the user wants them in,
regardless of which cycle ISIS is on.</p>
<section id="examples">
<h3><a class="toc-backref" href="#id18" role="doc-backlink">Examples</a><a class="headerlink" href="#examples" title="Permalink to this heading">¶</a></h3>
<p>These examples explain the layout and concept of YAML files. For
instrument specific examples please look at the individual
instrument reference document:
<a class="reference internal" href="ISISPowder-Index-v1.html#instrument-doc-links-isis-powder-diffraction-ref"><span class="std std-ref">Instrument Reference</span></a> for
an example specific to your instrument.</p>
<p>The simplest example of the calibration file is used on Pearl as the
empty, label and vanadium are the same regardless of mode.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># This is the layout used on PEARL</span><span class="w"></span>
<span class="c1"># NB this example is not representative of actual run numbers</span><span class="w"></span>
<span class="nt">123-200</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="c1"># Notice how the indentation changes to indicate it belongs</span><span class="w"></span>
<span class="w">  </span><span class="c1"># to this section</span><span class="w"></span>
<span class="w">  </span><span class="nt">label </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;1_2&quot;</span><span class="w"></span>
<span class="w">  </span><span class="nt">vanadium_run_numbers </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;150&quot;</span><span class="w"></span>
<span class="w">  </span><span class="nt">empty_run_numbers </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;160&quot;</span><span class="w"></span>
<span class="w">  </span><span class="nt">offset_file_name </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;pearl_offset_1_2.cal&quot;</span><span class="w"></span>
</pre></div>
</div>
<p>On GEM the two chopper modes <code class="docutils literal notranslate"><span class="pre">&quot;PDF&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;&quot;Rietveld&quot;&quot;</span></code> affect the
empty and vanadium run numbers used. In this case the additional
indentation underneath the respective mode is used.</p>
<p>Fields can be left blank until a later date
if runs in different modes have not been collected yet.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># This is the layout used on GEM</span><span class="w"></span>
<span class="c1"># NB this example is not representative of actual run numbers</span><span class="w"></span>
<span class="nt">123-200</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;1_2&quot;</span><span class="w"></span>
<span class="w">    </span><span class="nt">offset_file_name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;offsets.cal&quot;</span><span class="w"></span>
<span class="w">    </span><span class="nt">PDF</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="c1"># Blank entries are allowed provided we do not try to run in PDF mode</span><span class="w"></span>
<span class="w">        </span><span class="nt">vanadium_run_numbers</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="w"></span>
<span class="w">        </span><span class="nt">empty_run_numbers</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="w"></span>
<span class="w">    </span><span class="c1"># Notice it is not case sensitive</span><span class="w"></span>
<span class="w">    </span><span class="nt">rietveld</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="c1"># The indentation indicates these are for Rietveld mode</span><span class="w"></span>
<span class="w">        </span><span class="nt">vanadium_run_numbers</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;130&quot;</span><span class="w"></span>
<span class="w">        </span><span class="nt">empty_run_numbers</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;131&quot;</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="run-numbers">
<h3><a class="toc-backref" href="#id19" role="doc-backlink">Run numbers</a><a class="headerlink" href="#run-numbers" title="Permalink to this heading">¶</a></h3>
<p>The run numbers for a cycle use the same syntax as the run number field.
You can specify ranges of runs, have gaps or individual runs. For example
<code class="docutils literal notranslate"><span class="pre">&quot;100-103,</span> <span class="pre">105&quot;</span></code> will specify runs 100, 101, 102, 103 and 105.</p>
<p>The mapping also allows unbounded runs, this is useful for a cycle that
is in progress as the final run number of a cycle is unknown</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">1-122</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">label </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;1_1&quot;</span><span class="w"></span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">...</span><span class="w"></span>

<span class="nt">123-</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">label </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;1_2&quot;</span><span class="w"></span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">...</span><span class="w"></span>
</pre></div>
</div>
<p>All runs from 1-122 inclusive will go use the details associated with label
<code class="docutils literal notranslate"><span class="pre">1_1</span></code>, whilst any runs after 123 will use label <code class="docutils literal notranslate"><span class="pre">1_2</span></code>. These values also
have validation to ensure that there is only one unbounded range and no values
come after the starting interval. For example in the above example adding a section
for runs <code class="docutils literal notranslate"><span class="pre">200-</span></code> or <code class="docutils literal notranslate"><span class="pre">200-210</span></code> would fail validation.</p>
</section>
<section id="relation-to-calibration-directory">
<h3><a class="toc-backref" href="#id20" role="doc-backlink">Relation to calibration directory</a><a class="headerlink" href="#relation-to-calibration-directory" title="Permalink to this heading">¶</a></h3>
<p>The user specified calibration directory directly relates to a cycle mapping
file. After writing or adapting a cycle mapping file for your instrument
you must update the calibration directory. Using the cycle mapping from Peal:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># NB this example is not representative of actual run numbers</span><span class="w"></span>
<span class="nt">123-200</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">label </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;1_2&quot;</span><span class="w"></span>
<span class="w">  </span><span class="nt">vanadium_run_numbers </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;150&quot;</span><span class="w"></span>
<span class="w">  </span><span class="nt">empty_run_numbers </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;160&quot;</span><span class="w"></span>
<span class="w">  </span><span class="nt">offset_file_name </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;pearl_offset_1_2.cal&quot;</span><span class="w"></span>
</pre></div>
</div>
<p>The relevant fields from the cycle mapping are the <code class="docutils literal notranslate"><span class="pre">label</span></code> and
<code class="docutils literal notranslate"><span class="pre">offset_file_name</span></code>. Within the calibration directory a folder
with the <code class="docutils literal notranslate"><span class="pre">label</span></code> name must exist. <code class="docutils literal notranslate"><span class="pre">offset_file_name</span></code> must either
be the name of a cal file within that folder, or the full path to a
cal file elsewhere.</p>
<p>In this example we need a folder within the calibration
directory called <em>1_2</em> which holds a
cal file called <em>pearl_offset_1_2.cal</em>.</p>
</section>
<section id="changing-mid-cycle">
<h3><a class="toc-backref" href="#id21" role="doc-backlink">Changing mid-cycle</a><a class="headerlink" href="#changing-mid-cycle" title="Permalink to this heading">¶</a></h3>
<p>The splines of the processed vanadium uses the run number
and offset file name as a fingerprint to uniquely identify
it. Because of this we can have two sets of details corresponding
to the same cycle.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># NB this example is not representative of actual run numbers</span><span class="w"></span>
<span class="nt">123-150</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">label </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;1_2&quot;</span><span class="w"></span>
<span class="w">  </span><span class="nt">vanadium_run_numbers </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;150&quot;</span><span class="w"></span>
<span class="w">  </span><span class="nt">empty_run_numbers </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;152&quot;</span><span class="w"></span>
<span class="w">  </span><span class="nt">offset_file_name </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;pearl_offset_1_2.cal&quot;</span><span class="w"></span>

<span class="nt">151-200</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">label </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;1_2&quot;</span><span class="w"></span>
<span class="w">  </span><span class="c1"># Notice the changed details for runs 151 onwards</span><span class="w"></span>
<span class="w">  </span><span class="nt">vanadium_run_numbers </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;170&quot;</span><span class="w"></span>
<span class="w">  </span><span class="nt">empty_run_numbers </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;160&quot;</span><span class="w"></span>
<span class="w">  </span><span class="nt">offset_file_name </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;pearl_offset_1_2-second.cal&quot;</span><span class="w"></span>
</pre></div>
</div>
</section>
</section>
<section id="processing-intermediate-files">
<h2><a class="toc-backref" href="#id22" role="doc-backlink">Processing intermediate files</a><a class="headerlink" href="#processing-intermediate-files" title="Permalink to this heading">¶</a></h2>
<p>The scripts also support processing intermediate files. This
tutorial assumes you have successfully focused data
previously as detailed here: <a class="reference internal" href="#focusing-data-isis-powder-diffraction-ref"><span class="std std-ref">Focusing a data set</span></a>.</p>
<p>To process intermediate runs for example <em>.s01</em> or <em>.s02</em> files
you must ensure the user directories are setup to
include the folder where these files are located.</p>
<p>The instructions for this can be found here:
<a class="reference internal" href="ISISPowder-Index-v1.html#prerequisites-isis-powder-diffraction-ref"><span class="std std-ref">Prerequisites</span></a>.
<em>Note: The ‘Search Data Archive’ option will not locate
intermediate runs as only completed runs are published to the data archive.</em></p>
<p>To indicate the extension to process the <code class="docutils literal notranslate"><span class="pre">file_ext</span></code> can be specified
like so:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">isis_powder</span> <span class="kn">import</span> <span class="n">Polaris</span>

<span class="n">a_pol_obj</span> <span class="o">=</span> <span class="n">Polaris</span><span class="p">(</span><span class="o">....</span><span class="p">)</span>

<span class="n">a_pol_obj</span><span class="o">.</span><span class="n">focus</span><span class="p">(</span><span class="n">file_ext</span><span class="o">=</span><span class="s2">&quot;s01&quot;</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
<span class="c1"># Or</span>
<span class="n">a_pol_obj</span><span class="o">.</span><span class="n">focus</span><span class="p">(</span><span class="n">file_ext</span><span class="o">=</span><span class="s2">&quot;.s01&quot;</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>This will locate a .s01 file for that run number and focus
it like a normal run. The output filename will also reflect that
this is a partial file. For run number 123 and file extension s01
the output filename will be <em>s01&lt;InstrumentName&gt;123.nxs</em>.
This allows users to easily distinguish between full runs and
partial runs in the output folder. (For more details about the
output folder see <a class="reference internal" href="#output-folder-isis-powder-diffraction-ref"><span class="std std-ref">Output files</span></a>)</p>
</section>
<section id="absorption-corrections-on-sample">
<h2><a class="toc-backref" href="#id23" role="doc-backlink">Absorption corrections on sample</a><a class="headerlink" href="#absorption-corrections-on-sample" title="Permalink to this heading">¶</a></h2>
<p>This tutorial assumes you have successfully focused data
previously as detailed here: <a class="reference internal" href="#focusing-data-isis-powder-diffraction-ref"><span class="std std-ref">Focusing a data set</span></a>.</p>
<p>To perform absorption corrections on a sample we must first specify
the chemical properties of the sample by creating a sample properties
object. (See <a class="reference internal" href="#intro-to-objects-isis-powder-diffraction-ref"><span class="std std-ref">A quick introduction to objects</span></a>.)</p>
<p><em>Note</em>: Not all instruments support sample absorption corrections.
Please check the instrument reference:
<a class="reference internal" href="ISISPowder-Index-v1.html#instrument-doc-links-isis-powder-diffraction-ref"><span class="std std-ref">Instrument Reference</span></a>. If the
instrument has a <code class="docutils literal notranslate"><span class="pre">set_sample_details</span></code> method it supports sample
absorption corrections</p>
<section id="create-sampledetails-object">
<span id="create-sampledetails-isis-powder-diffraction-ref"></span><h3><a class="toc-backref" href="#id24" role="doc-backlink">Create SampleDetails object</a><a class="headerlink" href="#create-sampledetails-object" title="Permalink to this heading">¶</a></h3>
<p>First we need to import the sample details object from ISIS Powder.
The properties required when creating a SampleDetails
object is the geometry of the sample.</p>
<p><strong>Note: this assumes a cylinder geometry</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">height</span></code> - Cylinder height</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code> - Cylinder radius</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">center</span></code> - List of x, y, z positions of the cylinder</p></li>
</ul>
<p>For more details see <a class="reference internal" href="../algorithms/SetSample-v1.html#algm-setsample-v1"><span class="std std-ref">SetSample v1</span></a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">isis_powder</span> <span class="kn">import</span> <span class="n">Polaris</span><span class="p">,</span> <span class="n">SampleDetails</span>

<span class="c1"># Creates a cylinder of height 3.0, radius 2.0</span>
<span class="c1"># at position 0, 1, 2 (x, y, z)</span>
<span class="n">position</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>

<span class="c1"># Create a new sample details object</span>
<span class="n">my_sample</span> <span class="o">=</span> <span class="n">SampleDetails</span><span class="p">(</span><span class="n">height</span><span class="o">=</span><span class="mf">3.0</span><span class="p">,</span> <span class="n">radius</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">center</span><span class="o">=</span><span class="n">position</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="setting-the-material-details">
<span id="set-material-sampledetails-isis-powder-diffraction-ref"></span><h3><a class="toc-backref" href="#id25" role="doc-backlink">Setting the material details</a><a class="headerlink" href="#setting-the-material-details" title="Permalink to this heading">¶</a></h3>
<p>Having set the sample geometry we can now set the chemical
material and optionally the number density. If the chemical
formula is not a single element the number density must be
entered as it cannot be calculated.</p>
<p>For accepted syntax of chemical formulas see
<a class="reference internal" href="../algorithms/SetSampleMaterial-v1.html#algm-setsamplematerial-v1"><span class="std std-ref">SetSampleMaterial v1</span></a>. Specifically the section
on specifying chemical composition if you are using isotopes.
This will allow Mantid to automatically calculate the properties
except for number density.</p>
<p><em>The material must be set before absorption corrections can
be calculated for a sample.</em></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">...</span> <span class="n">snip</span> <span class="kn">from</span> <span class="nn">previous</span> <span class="n">example</span> <span class="o">...</span>
<span class="n">my_sample</span> <span class="o">=</span> <span class="n">SampleDetails</span><span class="p">(</span><span class="n">height</span><span class="o">=</span><span class="mf">3.0</span><span class="p">,</span> <span class="n">radius</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">center</span><span class="o">=</span><span class="n">position</span><span class="p">)</span>

<span class="n">my_sample</span><span class="o">.</span><span class="n">set_material</span><span class="p">(</span><span class="n">chemical_formula</span><span class="o">=</span><span class="s2">&quot;V&quot;</span><span class="p">)</span>
<span class="c1"># OR</span>
<span class="n">my_sample</span><span class="o">.</span><span class="n">set_material</span><span class="p">(</span><span class="n">chemical_formula</span><span class="o">=</span><span class="s2">&quot;VNb&quot;</span><span class="p">,</span> <span class="n">number_density</span><span class="o">=</span><span class="mi">123</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="setting-material-properties">
<h3><a class="toc-backref" href="#id26" role="doc-backlink">Setting material properties</a><a class="headerlink" href="#setting-material-properties" title="Permalink to this heading">¶</a></h3>
<p>Advanced material properties can be optionally set instead of letting
Mantid calculate them. These properties are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">absorption_cross_section</span></code> - Absorption Cross Section</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">scattering_cross_section</span></code> - Scattering Cross Section</p></li>
</ul>
<p><em>Note: This is purely optional and Mantid will calculate these
values based on the chemical formula entered if this is not set</em></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">...</span> <span class="n">snip</span> <span class="kn">from</span> <span class="nn">previous</span> <span class="n">example</span> <span class="o">...</span>
<span class="n">my_sample</span> <span class="o">=</span> <span class="n">SampleDetails</span><span class="p">(</span><span class="n">height</span><span class="o">=</span><span class="mf">3.0</span><span class="p">,</span> <span class="n">radius</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">center</span><span class="o">=</span><span class="n">position</span><span class="p">)</span>
<span class="n">my_sample</span><span class="o">.</span><span class="n">set_material</span><span class="p">(</span><span class="n">chemical_formula</span><span class="o">=</span><span class="s2">&quot;VNb&quot;</span><span class="p">,</span> <span class="n">number_density</span><span class="o">=</span><span class="mi">123</span><span class="p">)</span>

<span class="c1"># Setting individual properties:</span>
<span class="n">my_sample</span><span class="o">.</span><span class="n">set_material_properties</span><span class="p">(</span><span class="n">absorption_cross_section</span><span class="o">=</span><span class="mi">123</span><span class="p">,</span>
                                  <span class="n">scattering_cross_section</span><span class="o">=</span><span class="mi">456</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="using-the-new-sampledetails-object">
<h3><a class="toc-backref" href="#id27" role="doc-backlink">Using the new SampleDetails object</a><a class="headerlink" href="#using-the-new-sampledetails-object" title="Permalink to this heading">¶</a></h3>
<p>Having created a new SampleDetails object
(<a class="reference internal" href="#create-sampledetails-isis-powder-diffraction-ref"><span class="std std-ref">Create SampleDetails object</span></a>) and then
set the chemical material (<a class="reference internal" href="#set-material-sampledetails-isis-powder-diffraction-ref"><span class="std std-ref">Setting the material details</span></a>)
we can instruct the scripts to use these details whilst focusing.</p>
<p>This is done by calling <code class="docutils literal notranslate"><span class="pre">set_sample_details</span></code> on the instrument object,
this will then use those sample details each time absorption corrections
are applied to the sample. (See <a class="reference internal" href="#how-objects-hold-state-isis-powder-diffraction-ref"><span class="std std-ref">How objects hold state in ISIS Powder</span></a>)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">isis_powder</span> <span class="kn">import</span> <span class="n">Polaris</span><span class="p">,</span> <span class="n">SampleDetails</span>
<span class="o">...</span> <span class="n">snip</span> <span class="kn">from</span> <span class="nn">previous</span> <span class="n">examples</span> <span class="o">...</span>
<span class="n">my_sample</span> <span class="o">=</span> <span class="n">SampleDetails</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="n">my_sample</span><span class="o">.</span><span class="n">set_material</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>

<span class="n">polaris_obj</span> <span class="o">=</span> <span class="n">Polaris</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="n">polaris_obj</span><span class="o">.</span><span class="n">set_sample_details</span><span class="p">(</span><span class="n">sample</span><span class="o">=</span><span class="n">my_sample</span><span class="p">)</span>

<span class="c1"># Indicate we want to perform sample absorption corrections whilst focusing</span>
<span class="n">polaris_obj</span><span class="o">.</span><span class="n">focus</span><span class="p">(</span><span class="n">do_absorb_corrections</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="changing-sample-properties">
<h3><a class="toc-backref" href="#id28" role="doc-backlink">Changing sample properties</a><a class="headerlink" href="#changing-sample-properties" title="Permalink to this heading">¶</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This method is not recommended for changing multiple samples.
Instead it is recommended you create a new sample details object
if you need to change properties mid way through a script.
See <a class="reference internal" href="#create-sampledetails-isis-powder-diffraction-ref"><span class="std std-ref">Create SampleDetails object</span></a>
and <a class="reference internal" href="#intro-to-objects-isis-powder-diffraction-ref"><span class="std std-ref">A quick introduction to objects</span></a>.</p>
</div>
<p><em>Note: The geometry of a sample cannot be changed without creating a new
sample details object</em></p>
<p>Once you have set a material by calling <code class="docutils literal notranslate"><span class="pre">set_material</span></code> or set
the properties by calling <code class="docutils literal notranslate"><span class="pre">set_material_properties</span></code> you will
not be able to change (or set) these details without first
resetting the object. This is to enforce the sample properties
being set only once so that users are guaranteed of the state.</p>
<p>If you wish to change the chemical material or its advanced properties
without creating a new sample details object you can call
<code class="docutils literal notranslate"><span class="pre">reset_sample_material</span></code>. This will reset <strong>all</strong> details (i.e
advanced properties and chemical properties)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">isis_powder</span> <span class="kn">import</span> <span class="n">Polaris</span><span class="p">,</span> <span class="n">SampleDetails</span>

<span class="n">my_sample</span> <span class="o">=</span> <span class="n">SampleDetails</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="n">my_sample</span><span class="o">.</span><span class="n">set_material</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>

<span class="c1"># Next line will throw as it has already been set once</span>
<span class="n">my_sample</span><span class="o">.</span><span class="n">set_material</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="c1"># This is still ok as its first time</span>
<span class="n">my_sample</span><span class="o">.</span><span class="n">set_material_properties</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>

<span class="c1"># Reset material</span>
<span class="n">my_sample</span><span class="o">.</span><span class="n">reset_sample_material</span><span class="p">()</span>
<span class="c1"># Now allowed as object does not have a chemical formula associated</span>
<span class="n">my_sample</span><span class="o">.</span><span class="n">set_material</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="setting-beam-parameters">
<span id="set-beam-parameters-ref"></span><h2><a class="toc-backref" href="#id29" role="doc-backlink">Setting beam parameters</a><a class="headerlink" href="#setting-beam-parameters" title="Permalink to this heading">¶</a></h2>
<p>The beam width and height can be set for the instrument.
These are then used for total scattering corrections.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">isis_powder</span> <span class="kn">import</span> <span class="n">Polaris</span>
<span class="n">polaris_obj</span> <span class="o">=</span> <span class="n">Polaris</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="n">polaris</span><span class="o">.</span><span class="n">obj</span><span class="o">.</span><span class="n">set_beam_parameters</span><span class="p">(</span><span class="n">height</span><span class="o">=</span><span class="mf">1.23</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span><span class="mi">56</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="instrument-advanced-properties">
<span id="instrument-advanced-properties-isis-powder-diffraction-ref"></span><h2><a class="toc-backref" href="#id30" role="doc-backlink">Instrument advanced properties</a><a class="headerlink" href="#instrument-advanced-properties" title="Permalink to this heading">¶</a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This section is intended for instrument scientists.
The advanced configuration distributed with Mantid
use optimal values for each instrument and
should not be changed unless you understand what you
are doing.</p>
</div>
<p><em>Note</em>: Parameters should not be changed in the advanced configuration
for a few runs. If you require a set of values to be changed for a range
of runs (such as the cropping values) please set the value in the scripting
window or configuration file instead
(see: <a class="reference internal" href="#configuration-files-isis-powder-diffraction-ref"><span class="std std-ref">Using configuration files</span></a>).</p>
<p>The advanced configuration file provides optimal defaults for
an instrument and applies to all runs unless otherwise specified. If
this file is modified Mantid will <strong>not</strong> remove it on uninstall or
reinstall, or upgrade. <em>(Note: This behavior is not guaranteed and
should not be relied on)</em></p>
<p>It is highly recommended you read the instrument reference
found here: <a class="reference internal" href="ISISPowder-Index-v1.html#instrument-doc-links-isis-powder-diffraction-ref"><span class="std std-ref">Instrument Reference</span></a>
to understand the purpose of each property and the effect changing
it may have.</p>
<p><strong>If you change any values in your advanced properties file could
you please forward the new value to the Mantid development team
to ensure this new value is distributed in future versions of Mantid</strong></p>
<p>For the purposes of testing a parameter can be overridden at
script runtime. The hierarchy of scripts is:
<em>scripting window</em> &gt; <em>config file</em> &gt; <em>advanced config</em>.
In other words a value set in the configuration file will
override one found in the advanced configuration file.
A value set in the scripting window will override one
found in the configuration file.</p>
<p>A warning will always be emitted when a value is overridden
so that the user is fully aware when this is happening.</p>
<p>For example to test a different spline coefficient value</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">isis_powder</span> <span class="kn">import</span> <span class="n">Polaris</span>

<span class="n">a_pol_obj</span> <span class="o">=</span> <span class="n">Polaris</span><span class="p">(</span><span class="n">spline_coefficient</span><span class="o">=</span><span class="mi">80</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
<span class="n">a_pol_obj</span><span class="o">.</span><span class="n">create_vanadium</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>This will create a new vanadium run with the spline coefficient
set to 80. Note that until create_vanadium is run again
in this example any future data will implicitly use the
splines with a coefficient of 80.</p>
<p>If you wish to change or view the advanced configuration files
these can be found under
<em>MantidInstall</em>/scripts/diffraction/isis_powder/<strong>inst</strong> _routines
and will be called <strong>inst</strong> _advanced_config.py</p>
<p>If you change a value within the advanced config file you will
need to restart Mantid for it to take effect. If you are happy
with the new value please ensure you forward it on to the Mantid
development team to be distributed in future versions.</p>
<p><strong>Category</strong>: <a class="reference external" href="categories/Techniques.html">Techniques</a></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="ISISPowder-SampleDetails-v1.html" title="Previous Chapter: ISIS Powder Diffraction Scripts - SampleDetails Reference"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; ISIS Powder D...</span>
    </a>
  </li>
  <li>
    <a href="ISISPowder-Workflows-v1.html" title="Next Chapter: ISIS Powder Diffraction Scripts Workflow Diagrams"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">ISIS Powder D... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>