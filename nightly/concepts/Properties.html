<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Properties</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Properties File" href="PropertiesFile.html" />
    <link rel="prev" title="Project Recovery" href="ProjectRecovery.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.5</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://docs.mantidproject.org/nightly/">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Concepts</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">Properties</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="properties">
<span id="id1"></span><h1>Properties<a class="headerlink" href="#properties" title="Permalink to this heading">¶</a></h1>
<p>Properties in Mantid are the mechanism by which we pass parameters into
<a class="reference internal" href="Algorithm.html#algorithm"><span class="std std-ref">algorithms</span></a>. There are a number of different types of
properties, and these are described below.</p>
<section id="types-of-properties">
<h2>Types of Properties<a class="headerlink" href="#types-of-properties" title="Permalink to this heading">¶</a></h2>
<section id="single-value-properties">
<h3>Single Value Properties<a class="headerlink" href="#single-value-properties" title="Permalink to this heading">¶</a></h3>
<p>This is the simplest type of property, which is essentially a name-value
pair. Currently, single value properties of type integer (<code class="docutils literal notranslate"><span class="pre">int</span></code>),
floating point (<code class="docutils literal notranslate"><span class="pre">double</span></code>), string (<code class="docutils literal notranslate"><span class="pre">std::string</span></code>) and boolean
(<code class="docutils literal notranslate"><span class="pre">bool</span></code>) are supported. .</p>
</section>
<section id="array-properties">
<h3>Array Properties<a class="headerlink" href="#array-properties" title="Permalink to this heading">¶</a></h3>
<p>Sometimes, a multi-element parameter may be required (a list of spectra
to process, for example). This is achieved using an
ArrayProperty
(which is actually a PropertyWithValue - see above - of type
std::vector). It can be created in a number of ways:</p>
<ul class="simple">
<li><p>As an empty vector: <code class="docutils literal notranslate"><span class="pre">ArrayProperty&lt;double&gt;(&quot;PropertyName&quot;);</span></code></p></li>
<li><p>By passing in an existing vector:
<code class="docutils literal notranslate"><span class="pre">ArrayProperty&lt;double&gt;(&quot;PropertyName&quot;,myStdVecOfDoubles);</span></code></p></li>
<li><p>By passing in a string of comma-separated values:
<code class="docutils literal notranslate"><span class="pre">ArrayProperty&lt;int&gt;(&quot;PropertyName&quot;,&quot;1,2,3,4&quot;);</span></code></p></li>
</ul>
<p>A validator (see below) argument can optionally be appended to all of
these options.</p>
<p>An ArrayProperty can be declared in a algorithm as follows:</p>
<p><code class="docutils literal notranslate"><span class="pre">declareProperty(std::make_unique&lt;ArrayProperty&gt;</span></code><code class="docutils literal notranslate"><span class="pre">(...));</span></code></p>
<p>(note the use of <code class="docutils literal notranslate"><span class="pre">std::make_unique</span></code> rather than <code class="docutils literal notranslate"><span class="pre">new</span></code>, as the algorithm takes
ownership of the property)</p>
<p>or, if creating using an already existing vector:</p>
<p><code class="docutils literal notranslate"><span class="pre">declareProperty(&quot;PropertyName&quot;,myVector);</span></code></p>
</section>
<section id="file-properties">
<h3>File Properties<a class="headerlink" href="#file-properties" title="Permalink to this heading">¶</a></h3>
<p>There are two file properties: <code class="docutils literal notranslate"><span class="pre">FileProperty</span></code> and <code class="docutils literal notranslate"><span class="pre">MultipleFileProperty</span></code>.
These properties are for capturing and holding the path and filenames to
external file (s). File properties have a FileAction property that
controls it’s purpose and behaviour.</p>
<p>Save :to specify a file to write to, the file may or may not exist
OptionalSave :to specify a file to write to but an empty string is
allowed here which will be passed to the algorithm
Load :to specify a file to open for reading, the file must exist
OptionalLoad :to specify a file to read but the file doesn’t have to
exist</p>
<p>If the file property is has a FileAction of Load as is given a relative
path (such as “input.txt” or “\data\input.txt” as its value it will
search for matching files in this order:</p>
<p>Note, that <code class="docutils literal notranslate"><span class="pre">MultipleFileProperty</span></code> supports only Load (default) and OptionalLoad actions.</p>
<ol class="arabic simple">
<li><p>The current directory</p></li>
<li><p>The entries in order from the datasearch.directories entry in the
<a class="reference internal" href="PropertiesFile.html#properties-file"><span class="std std-ref">Properties File</span></a></p></li>
</ol>
<p>If the file property is has a FileAction of Save as is given a relative
path (such as “input.txt” or “\data\input.txt” as its value it will
assume that path starts from the location defined in the
defaultsave.directory entry in the <a class="reference internal" href="PropertiesFile.html#properties-file"><span class="std std-ref">Properties File</span></a>.</p>
<p>A FileProperty can be declared in a algorithm as follows:</p>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">declareProperty(new Kernel::FileProperty(&quot;Filename&quot;,&quot;&quot;,</span></code></div>
<div class="line">``  Kernel::FileProperty::Load), “Descriptive text”);``</div>
</div>
<p>or for saving a file providing a suggested extension</p>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">declareProperty(new Kernel::FileProperty(&quot;Filename&quot;,&quot;&quot;,</span></code></div>
<div class="line">``  Kernel::FileProperty::Save, ``</div>
<div class="line">``  std::vector``<code class="docutils literal notranslate"><span class="pre">(1,&quot;cal&quot;)), &quot;Descriptive text&quot;);</span></code></div>
</div>
</section>
<section id="workspace-properties">
<h3>Workspace Properties<a class="headerlink" href="#workspace-properties" title="Permalink to this heading">¶</a></h3>
<p>Properties for holding <a class="reference internal" href="Workspace.html#workspace"><span class="std std-ref">workspaces</span></a> are more complicated,
in that they need to hold links both to the workspace name (in the
<a class="reference internal" href="AnalysisDataService.html#analysis-data-service"><span class="std std-ref">Analysis Data Service</span></a>) and the workspace
itself. When setting or retrieving the value as a string (i.e. using the
<code class="docutils literal notranslate"><span class="pre">setValue</span></code> or <code class="docutils literal notranslate"><span class="pre">value</span></code> methods) you are interacting with the
workspace’s name; other methods interact with a <a class="reference internal" href="SharedPointer.html#shared-pointer"><span class="std std-ref">shared
pointer</span></a> to the workspace.</p>
<p>The syntax to declare a WorkspaceProperty
in an algorithm is:</p>
<p><code class="docutils literal notranslate"><span class="pre">declareProperty(std::make_unique&lt;WorkspaceProperty&lt;&gt;&gt;(&quot;PropertyName&quot;,&quot;WorkspaceName&quot;,direction));</span></code></p>
<p>In this case, the direction (see below) must be explicitly declared. An
optional <a class="reference internal" href="#properties-validators"><span class="std std-ref">validator</span></a> may also be appended to
the above declaration.</p>
<p>Note that the algorithm takes ownership of the property, and that it is
passed in as a <code class="docutils literal notranslate"><span class="pre">unique_ptr</span></code> rather than creating it with <code class="docutils literal notranslate"><span class="pre">new</span></code>.</p>
</section>
</section>
<section id="other-property-properties">
<h2>Other ‘Property Properties’<a class="headerlink" href="#other-property-properties" title="Permalink to this heading">¶</a></h2>
<section id="default-values">
<h3>Default values<a class="headerlink" href="#default-values" title="Permalink to this heading">¶</a></h3>
<p>If a property is empty</p>
<ul class="simple">
<li><p>in a GUI algorithm call, then the property’s default value is used
(if there is any)</p></li>
<li><p>in a Python API call, then the property’s value is left empty.</p></li>
</ul>
</section>
<section id="direction">
<span id="properties-directions"></span><h3>Direction<a class="headerlink" href="#direction" title="Permalink to this heading">¶</a></h3>
<p>All properties have a direction. They can be input or output properties,
or both. The default is always input. Technically, these are a C++ enum,
which can have the following values:</p>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">Mantid::Kernel::Direction::Input</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">Mantid::Kernel::Direction::Output</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">Mantid::Kernel::Direction::InOut</span></code></div>
</div>
<p>This is what should be passed in when a direction argument is required.
The InOut option is principally used by workspace properties, when a
single workspace is to be input and manipulated by as algorithm rather
than a new one created to store the result.</p>
</section>
<section id="validators">
<span id="properties-validators"></span><h3>Validators<a class="headerlink" href="#validators" title="Permalink to this heading">¶</a></h3>
<p>A validator is an external object that is used to verify that the value
of a property is suitable for a particular algorithm. If no validator is
given, then the property can have any value (of the correct type).
Validators are checked immediately before an algorithm is executed, when
the value of a property is set (which will fail if it doesn’t pass the
validator) and through the GUI interface to an algorithm.</p>
<p>The validators currently included in Mantid are:</p>
<ul class="simple">
<li><p>BoundedValidator - restricts a numeric property to a particular
range.</p></li>
<li><p>MandatoryValidator - requires that a string or array property not be
empty.</p></li>
<li><p>ListValidator - restricts a string property to one of a particular
set of values.</p></li>
<li><p>FileValidator - ensures that a file (given as a string property)
exists (used internally by the FileProperty).</p></li>
<li><p>MultiFileValidator - ensures that each file in a given list exists
(used internally by the MultipleFileProperty).</p></li>
</ul>
<p>In addition, there are a number of validators specifically for use with
Workspace properties:</p>
<ul class="simple">
<li><p>InstrumentValidator - checks that the workspace has an Instrument
object.</p></li>
<li><p>WorkspaceUnitValidator - checks that the workspace has a specified
unit.</p></li>
<li><p>HistogramValidator - requires that the workspace contains histogram
data (or not).</p></li>
<li><p>RawCountValidator - requires that the workspace data is raw counts.</p></li>
<li><p>CommonBinsValidator - checks that all spectra in a workspace have the
same bins.</p></li>
<li><p>EqualBinSizesValidator - checks that all bins in each spectrum are equally
sized, up to a given tolerance.</p></li>
<li><p>SpectraAxisValidator - checks that the axis of the workspace contains
spectra numbers.</p></li>
<li><p>NumericAxisValidator - checks that the axis of the workspace contains
numeric data.</p></li>
<li><p>CompositeValidator - enables combination of more that one of the
above validators for the same WorkspaceProperty.</p></li>
</ul>
<p>In addition to the above, if used, Workspace properties also have a
built in validator that requires that input workspaces exist and are of
the correct type and that output workspaces have a name set.</p>
<p>For more details on using validators, see the PropertyAlgorithm
example or the full documentation for the individual validators (linked
above).</p>
<p>Writing your own validator is relatively straightforward - it simply has
to implement the IValidator interface.</p>
<p><strong>Category</strong>: <a class="reference external" href="../api/python/mantid/api/categories/Concepts.html">Concepts</a></p>
</section>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="ProjectRecovery.html" title="Previous Chapter: Project Recovery"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Project Recovery</span>
    </a>
  </li>
  <li>
    <a href="PropertiesFile.html" title="Next Chapter: Properties File"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Properties File &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>