<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>CalFile</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Engineering Calibration" href="EngineeringCalibration.html" />
    <link rel="prev" title="After Tube Calibration" href="AfterTubeCalibration.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.5</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://docs.mantidproject.org/nightly/">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="../index.html" >Concepts</a> &#187;</li>
          
            <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">Calibration</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">CalFile</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="calfile">
<span id="id1"></span><h1>CalFile<a class="headerlink" href="#calfile" title="Permalink to this heading">¶</a></h1>
<section id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Permalink to this heading">¶</a></h2>
<p>The CalFile is a calibration file originally created for use in the
Ariel powder diffraction data reduction package.</p>
<p>Files using this format with the .cal extension are still used by
several algorithms in Mantid.</p>
</section>
<section id="file-format">
<h2>File Format<a class="headerlink" href="#file-format" title="Permalink to this heading">¶</a></h2>
<p>The file is a simple text file with the following format</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#  number  UDET  offset  select  group
   0        611  0.0000000  1    0
   1        612  0.0000000  1    0
   2        601  0.0000000  0    0
            ...
  19     101001 -0.0497075  1    2
  20     101002 -0.3515893  1    2
  21     101003 -0.2803879  0    2
            ...
 349     201001  0.0525040  1    3
 350     201002  0.0538936  1    3
 351     201003  0.0535027  1    3
            ...
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">number</span></code>: ignored</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UDET</span></code>: detector ID</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">offset</span></code>: calibration offset used in <a class="reference internal" href="../../algorithms/AlignDetectors-v1.html#algm-aligndetectors"><span class="std std-ref">AlignDetectors</span></a>. Comes from the <code class="docutils literal notranslate"><span class="pre">OffsetsWorkspace</span></code>, or 0.0
if none is given.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">select</span></code>: 1 if selected (use the pixel). Comes from the <code class="docutils literal notranslate"><span class="pre">MaskWorkspace</span></code>,
or 1 if none is given.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">group</span></code>: what group to focus to in
<a class="reference internal" href="../../algorithms/DiffractionFocussing-v2.html#algm-diffractionfocussing"><span class="std std-ref">DiffractionFocussing</span></a>. Comes from the
<code class="docutils literal notranslate"><span class="pre">GroupingWorkspace</span></code>, or 1 if none is given. Setting the group
as 0 specifies the detector as not to be grouped, effectively masking it.</p></li>
</ul>
<p>See <a class="reference internal" href="PowderDiffractionCalibration.html#powder-diffraction-calibration"><span class="std std-ref">here</span></a> for information on
CalFile in the greater context of time-of-flight powder diffraction
calibration.</p>
</section>
<section id="related-algorithms">
<h2>Related algorithms<a class="headerlink" href="#related-algorithms" title="Permalink to this heading">¶</a></h2>
<p>In addition to algorithms mentioned in <a class="reference internal" href="PowderDiffractionCalibration.html#powder-diffraction-calibration"><span class="std std-ref">powder diffraction calibration</span></a> there are some algorithms specifically for CalFiles.</p>
<section id="loading-and-saving-calfiles">
<h3>Loading and saving CalFiles<a class="headerlink" href="#loading-and-saving-calfiles" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="../../algorithms/LoadCalFile-v1.html#algm-loadcalfile"><span class="std std-ref">LoadCalFile</span></a> will load the CalFile into separate offset, masking and grouping workspaces.</p></li>
<li><p><a class="reference internal" href="../../algorithms/SaveCalFile-v1.html#algm-savecalfile"><span class="std std-ref">SaveCalFile</span></a> will save a CalFile from separate offset, masking and grouping workspaces.</p></li>
<li><p><a class="reference internal" href="../../algorithms/MaskWorkspaceToCalFile-v1.html#algm-maskworkspacetocalfile"><span class="std std-ref">MaskWorkspaceToCalFile</span></a> will save a mask workspace as a CalFile.</p></li>
<li><p><a class="reference internal" href="../../algorithms/ReadGroupsFromFile-v1.html#algm-readgroupsfromfile"><span class="std std-ref">ReadGroupsFromFile</span></a> Reads the groups from a CalFile, and output a 2D workspace containing on the Y-axis the values of the Group each detector belongs to. This is used to visualize the grouping scheme for powder diffractometers.</p></li>
</ul>
</section>
<section id="creating-calfiles">
<h3>Creating CalFiles<a class="headerlink" href="#creating-calfiles" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="../../algorithms/CreateCalFileByNames-v1.html#algm-createcalfilebynames"><span class="std std-ref">CreateCalFileByNames</span></a> will create a CalFile with the grouping column set according to a list of bank names.</p></li>
<li><p><a class="reference internal" href="../../algorithms/CreateDummyCalFile-v1.html#algm-createdummycalfile"><span class="std std-ref">CreateDummyCalFile</span></a> creates a CalFile from a workspace. All of the offsets will be zero, and the pixels will be all grouped into one group.</p></li>
</ul>
</section>
<section id="merging-calfiles">
<h3>Merging CalFiles<a class="headerlink" href="#merging-calfiles" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="../../algorithms/MergeCalFiles-v1.html#algm-mergecalfiles"><span class="std std-ref">MergeCalFiles</span></a> combines the data contained in two CalFiles, based on the selections offsets, selections and groups can be merged. The matching rows are determined by UDET. Any unmatched records are added at the end of the file.</p></li>
</ul>
<p><strong>Category</strong>: <a class="reference external" href="../categories/Calibration.html">Calibration</a></p>
</section>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="AfterTubeCalibration.html" title="Previous Chapter: After Tube Calibration"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; After Tube Ca...</span>
    </a>
  </li>
  <li>
    <a href="EngineeringCalibration.html" title="Next Chapter: Engineering Calibration"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Engineering C... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>