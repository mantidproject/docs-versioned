<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Diffraction Calibration Workspace</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css?v=fadd4351" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=77160d70" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script src="../_static/documentation_options.js?v=770b529d"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Dynamic Factory" href="DynamicFactory.html" />
    <link rel="prev" title="DetectorInfo" href="DetectorInfo.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.10</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://www.mantidproject.org">Home</a></li>
                <li><a href="https://download.mantidproject.org">Download</a></li>
                <li><a href="https://docs.mantidproject.org">Documentation</a></li>
                <li><a href="https://www.mantidproject.org/contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Concepts</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">Diffraction Calibration Workspace</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="diffraction-calibration-workspace">
<span id="diffractioncalibrationworkspace"></span><h1>Diffraction Calibration Workspace<a class="headerlink" href="#diffraction-calibration-workspace" title="Link to this heading">¶</a></h1>
<p>The calibration workspace contains information to convert data to/from
time-of-flight and d-space using the <a class="reference external" href="https://subversion.xor.aps.anl.gov/trac/pyGSAS">GSAS</a> parameters
<code class="docutils literal notranslate"><span class="pre">DIFC</span></code>, <code class="docutils literal notranslate"><span class="pre">DIFA</span></code>, <code class="docutils literal notranslate"><span class="pre">TZERO</span></code>.  The workspace itself is a
<a class="reference internal" href="TableWorkspaces.html#table-workspaces"><span class="std std-ref">TableWorkspace</span></a> with the columns</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>name</p></th>
<th class="head"><p>type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>detid</p></td>
<td><p>int32</p></td>
</tr>
<tr class="row-odd"><td><p>difc</p></td>
<td><p>double</p></td>
</tr>
<tr class="row-even"><td><p>difa</p></td>
<td><p>double</p></td>
</tr>
<tr class="row-odd"><td><p>tzero</p></td>
<td><p>double</p></td>
</tr>
</tbody>
</table>
<p>The order of the rows and columns will not matter to algorithms that
use the workspace. Algorithms that create the <a class="reference internal" href="TableWorkspaces.html#table-workspaces"><span class="std std-ref">TableWorkspace</span></a> will use this column order with the rows sorted by
<code class="docutils literal notranslate"><span class="pre">detid</span></code> (smallest first). Any missing column, other than <code class="docutils literal notranslate"><span class="pre">detid</span></code>,
will be assumed to be all zeros.</p>
</section>
<section id="diffraction-calibration-file">
<h1>Diffraction Calibration File<a class="headerlink" href="#diffraction-calibration-file" title="Link to this heading">¶</a></h1>
<p>Stored in <a class="reference external" href="http://www.hdfgroup.org/">HDF5</a> using as simple a
<a class="reference external" href="Nexusfile">nexus-style</a> format to allow for external programs to
read/write them without excessive effort. Missing values will be
assumed to be zero. The data will be stored as multiple parallel
1-dimensional arrays (of length <code class="docutils literal notranslate"><span class="pre">n</span></code>) as described below. In addition
there will be sufficient information to denote which instrument
geometry file to use. This geometry will only be used for plotting the
various parameters on an instrument view.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">calibration</span></code> [with attribute <code class="docutils literal notranslate"><span class="pre">NX_class=NXentry</span></code>]</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">instrument</span></code> [with attribute <code class="docutils literal notranslate"><span class="pre">NX_class=NXinstrument</span></code>]</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">name</span></code> (e.g. NOMAD)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">instrument_source</span></code> (e.g. NOMAD_Definition.xml or NOMAD_Definition_20120701-20120731.xml)</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">difc</span></code> (double array)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">difa</span></code> (double array)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tzero</span></code> (double array)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">detid</span></code> (int32 array)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dasid</span></code> (int32 array) not used. The pixel number in prenexus files.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">group</span></code> (int32 array) 1 being smallest number. 0 will set to not use. This can be used in addition to</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">use</span></code> (int32 array) <code class="docutils literal notranslate"><span class="pre">0=false</span></code> and <code class="docutils literal notranslate"><span class="pre">1=true</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">offset</span></code> (double array) not used. Value of the legacy calibration file.</p></li>
</ul>
</li>
</ul>
<p>The <cite>group</cite> information will still be extracted into separate <cite>GroupingWorkspace</cite> and <cite>MaskWorkspace</cite>.</p>
<p><strong>Category</strong>: <a class="reference external" href="../api/python/mantid/api/categories/Concepts.html">Concepts</a></p>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="DetectorInfo.html" title="Previous Chapter: DetectorInfo"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; DetectorInfo</span>
    </a>
  </li>
  <li>
    <a href="DynamicFactory.html" title="Next Chapter: Dynamic Factory"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Dynamic Factory &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>