<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Instrument Parameter File</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css?v=fadd4351" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=77160d70" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script src="../_static/documentation_options.js?v=770b529d"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Listening on Kafka Live Streams" href="KafkaLiveStreams.html" />
    <link rel="prev" title="Instrument Definition File" href="InstrumentDefinitionFile.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.10</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://www.mantidproject.org">Home</a></li>
                <li><a href="https://download.mantidproject.org">Download</a></li>
                <li><a href="https://docs.mantidproject.org">Documentation</a></li>
                <li><a href="https://www.mantidproject.org/contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Concepts</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">Instrument Parameter File</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="instrument-parameter-file">
<span id="instrumentparameterfile"></span><h1>Instrument Parameter File<a class="headerlink" href="#instrument-parameter-file" title="Link to this heading">¶</a></h1>
<section id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Link to this heading">¶</a></h2>
<p>Instrument parameter files are files complimentary to <a class="reference internal" href="InstrumentDefinitionFile.html#instrumentdefinitionfile"><span class="std std-ref">Instrument Definition Files (IDFs)</span></a> that are used to store information about an instrument that may change on a regular basis i.e. parameters not related to the geometry of an instrument. By storing the data outside of the <a class="reference internal" href="InstrumentDefinitionFile.html#instrumentdefinitionfile"><span class="std std-ref">IDF</span></a>, it makes it easier to locate and change parameters, as well as keeping the length of the <a class="reference internal" href="InstrumentDefinitionFile.html#instrumentdefinitionfile"><span class="std std-ref">IDF</span></a> to a minimum.</p>
</section>
<section id="creating-a-parameter-file">
<h2>Creating a Parameter File<a class="headerlink" href="#creating-a-parameter-file" title="Link to this heading">¶</a></h2>
<section id="using-a-schema">
<h3>Using a Schema<a class="headerlink" href="#using-a-schema" title="Link to this heading">¶</a></h3>
<p>To create a parameters file it is advisable to consult the parameter file schema, located in your mantid directory at mantidcodeinstrumentSchemaParameterFileSchema.xsd. Set up your editing program to validate your XML file against this schema following <a class="reference internal" href="UsingXMLSchema.html#using-xml-schema"><span class="std std-ref">these instructions</span></a>. Once set up, the schema can be used to find any errors in the structure of your parameter file and suggest auto-fill options to help write your parameter file.</p>
</section>
<section id="general-structure">
<h3>General Structure<a class="headerlink" href="#general-structure" title="Link to this heading">¶</a></h3>
<p>The Instrument parameter files, like the <a class="reference internal" href="InstrumentDefinitionFile.html#instrumentdefinitionfile"><span class="std std-ref">IDFs</span></a>, are written in XML. They must contain a root element &lt;parameter-file&gt; with an attribute ‘name’ equal to the name of the instrument. Within the &lt;parameter-file&gt; element, goes all the rest of the information. To specify a parameter for a component defined the <a class="reference internal" href="InstrumentDefinitionFile.html#instrumentdefinitionfile"><span class="std std-ref">IDF</span></a>, use a &lt;component-link&gt; element with attribute ‘name’ equal to the name of the component. Within the &lt;component-link&gt; element, the various parameters can be defined mostly in the same way as described in the parameters section of the IDF Page. It is possible to also specify ‘visible’ attribute, which can used to define whether the parameter specified for the component is printed in the pick tab of the InstrumentViewer.
It is possible to set multiple values for a parameter, each one with a defined time range.
The below example shows some of the elements featured in IN10_silicon_111_Parameters.xml, slightly modified. It defines a parameter ‘analysis-type’ for the component IN10 i.e. the whole instrument. The component link is closed and then a new one is opened to define parameters for the component ‘silicon’.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;parameter-file</span><span class="w"> </span><span class="na">instrument=</span><span class="s">&quot;IN10&quot;</span><span class="w"> </span><span class="na">date=</span><span class="s">&quot;2010-07-15 00:00:00&quot;</span><span class="nt">&gt;</span>

<span class="w">  </span><span class="nt">&lt;component-link</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;IN10&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;parameter</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;analysis-type&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;string&quot;</span><span class="nt">&gt;</span>
<span class="w">      </span><span class="nt">&lt;value</span><span class="w"> </span><span class="na">val=</span><span class="s">&quot;spectroscopy&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/parameter&gt;</span>
<span class="w">  </span><span class="nt">&lt;/component-link&gt;</span>

<span class="w">  </span><span class="nt">&lt;component-link</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;silicon&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;parameter</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;Efixed&quot;</span><span class="w"> </span><span class="na">visible=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>
<span class="w">      </span><span class="nt">&lt;value</span><span class="w"> </span><span class="na">val=</span><span class="s">&quot;2.0&quot;</span><span class="w"> </span><span class="na">valid-to=</span><span class="s">&quot;2011-12-31T23:59:59&quot;</span><span class="nt">/&gt;</span>
<span class="w">      </span><span class="nt">&lt;value</span><span class="w"> </span><span class="na">val=</span><span class="s">&quot;2.082&quot;</span><span class="w"> </span><span class="na">valid-from=</span><span class="s">&quot;2012-01-01T00:00:00&quot;</span><span class="w"> </span><span class="na">valid-to=</span><span class="s">&quot;2012-12-31T23:59:59&quot;</span><span class="nt">/&gt;</span>
<span class="w">      </span><span class="nt">&lt;value</span><span class="w"> </span><span class="na">val=</span><span class="s">&quot;3.0&quot;</span><span class="w"> </span><span class="na">valid-from=</span><span class="s">&quot;2013-01-01T00:00:00&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/parameter&gt;</span>
<span class="w">  </span><span class="nt">&lt;/component-link&gt;</span>

<span class="nt">&lt;/parameter-file&gt;</span>
</pre></div>
</div>
</section>
<section id="naming-and-using-a-parameter-file">
<h3>Naming and Using a Parameter File<a class="headerlink" href="#naming-and-using-a-parameter-file" title="Link to this heading">¶</a></h3>
<p>There may be just one parameter file per instrument that is automatically included with name the form XXX_Parameters.xml, for instrument XXX in the instrument folder.</p>
<p>One can have several parameter files for an instrument:</p>
<ul class="simple">
<li><p>If the IDF is not in the instrument folder and there is another XXX_Parameters.xml in the same folder, this one in the same folder will be used instead of any parameter file in the instrument folder.</p></li>
<li><p>If you want one parameter file for your IDF file, name your IDF file XXX_Definition_Yyy.xml and the parameter file XXX_Parameters_Yyy.xml , where Yyy is any combination a characters you find appropriate. If your IDF file is not in the instrument folder, the parameter file can be in either the same folder or in the instrument folder, but it can only be in the instrument folder, if the same folder has no XXX_Parameters.xml or XXX_Parameters_Yyy.xml file.</p></li>
<li><p>If there is no XXX_Parameters_Yyy.xml file, XXX_Parameters.xml would be used.</p></li>
</ul>
<p>Also one can use a any parameter file by executing the <a class="reference internal" href="../algorithms/LoadParameterFile-v1.html#algm-loadparameterfile"><span class="std std-ref">LoadParameterFile</span></a> algorithm.</p>
<p>Work is planned to enable a parameter file to import one other parameter file. This will then enable duplication to be avoided in the parameter files.</p>
</section>
<section id="adding-parameters-at-run-time">
<h3>Adding Parameters at run time<a class="headerlink" href="#adding-parameters-at-run-time" title="Link to this heading">¶</a></h3>
<p>Since version 3.2 of Mantid the algorithm <a class="reference internal" href="../algorithms/SetInstrumentParameter-v1.html#algm-setinstrumentparameter"><span class="std std-ref">SetInstrumentParameter</span></a> allows you to create or replace instrument parameters for a particular workspace at run time.</p>
<p><strong>Category</strong>: <a class="reference external" href="../api/python/mantid/api/categories/Concepts.html">Concepts</a></p>
</section>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="InstrumentDefinitionFile.html" title="Previous Chapter: Instrument Definition File"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Instrument De...</span>
    </a>
  </li>
  <li>
    <a href="KafkaLiveStreams.html" title="Next Chapter: Listening on Kafka Live Streams"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Listening on ... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>