<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>SaveIsawPeaks v1</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css?v=fadd4351" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=77160d70" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script src="../_static/documentation_options.js?v=770b529d"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="SaveIsawQvector v1" href="SaveIsawQvector-v1.html" />
    <link rel="prev" title="SaveIsawDetCal v1" href="SaveIsawDetCal-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.10</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://www.mantidproject.org">Home</a></li>
                <li><a href="https://download.mantidproject.org">Download</a></li>
                <li><a href="https://docs.mantidproject.org">Documentation</a></li>
                <li><a href="https://www.mantidproject.org/contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Algorithms</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">SaveIsawPeaks v1</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="saveisawpeaks-v1">
<span id="algm-saveisawpeaks"></span><span id="algm-saveisawpeaks-v1"></span><h1>SaveIsawPeaks v1<a class="headerlink" href="#saveisawpeaks-v1" title="Link to this heading">¶</a></h1>
<nav class="contents local" id="table-of-contents">
<span id="index-0"></span><p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#summary" id="id1">Summary</a></p>
<ul>
<li><p><a class="reference internal" href="#see-also" id="id2">See Also</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#properties" id="id3">Properties</a></p></li>
<li><p><a class="reference internal" href="#description" id="id4">Description</a></p></li>
<li><p><a class="reference internal" href="#usage" id="id5">Usage</a></p>
<ul>
<li><p><a class="reference internal" href="#output" id="id6">Output</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#source" id="id7">Source</a></p></li>
</ul>
</nav>
<section id="summary">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">Summary</a><a class="headerlink" href="#summary" title="Link to this heading">¶</a></h2>
<p>Save a PeaksWorkspace to a ISAW-style ASCII .peaks file.</p>
<section id="see-also">
<h3><a class="toc-backref" href="#id2" role="doc-backlink">See Also</a><a class="headerlink" href="#see-also" title="Link to this heading">¶</a></h3>
<p><a class="reference internal" href="LoadIsawPeaks-v1.html#algm-loadisawpeaks"><span class="std std-ref">LoadIsawPeaks</span></a></p>
</section>
</section>
<section id="properties">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Properties</a><a class="headerlink" href="#properties" title="Link to this heading">¶</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Direction</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>InputWorkspace</p></td>
<td><p>Input</p></td>
<td><p>PeaksWorkspace</p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>An input PeaksWorkspace with an instrument.</p></td>
</tr>
<tr class="row-odd"><td><p>AppendFile</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>False</p></td>
<td><p>Append to file if true. If false, new file (default).</p></td>
</tr>
<tr class="row-even"><td><p>Filename</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>Path to an ISAW-style peaks or integrate file to save. Allowed extensions: [‘.peaks’, ‘.integrate’]</p></td>
</tr>
<tr class="row-odd"><td><p>ProfileWorkspace</p></td>
<td><p>Input</p></td>
<td><p><a class="reference internal" href="../concepts/Workspace2D.html#workspace2d"><span class="std std-ref">Workspace2D</span></a></p></td>
<td></td>
<td><p>An optional Workspace2D of profiles from integrating cylinder.</p></td>
</tr>
<tr class="row-even"><td><p>RenumberPeaks</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>False</p></td>
<td><p>If true, sequential peak numbers If false, keep original numbering (default).</p></td>
</tr>
</tbody>
</table>
</section>
<section id="description">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Description</a><a class="headerlink" href="#description" title="Link to this heading">¶</a></h2>
<p>Save a <a class="reference internal" href="../concepts/PeaksWorkspace.html#peaksworkspace"><span class="std std-ref">PeaksWorkspace</span></a> to a ISAW-style ASCII .peaks file.</p>
<p>The <a class="reference internal" href="../concepts/PeaksWorkspace.html#peaksworkspace"><span class="std std-ref">PeaksWorkspace</span></a> consists of individual Peaks, each of which has an individual PeakShape relating to the way the workspace has been integrated. The PeakShape information is not saved out in the ISAW peaks format. To save the full peak information, use the NeXus format <a class="reference internal" href="SaveNexus-v1.html#algm-savenexus"><span class="std std-ref">SaveNexus</span></a>.</p>
</section>
<section id="usage">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Usage</a><a class="headerlink" href="#usage" title="Link to this heading">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>

<span class="c1"># Prepare a PeaksWorkspace to save.</span>

<span class="c1"># Create a run workspace</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">()</span>
<span class="c1"># Create a peaks workspace</span>
<span class="n">pws</span> <span class="o">=</span> <span class="n">CreatePeaksWorkspace</span><span class="p">(</span><span class="n">ws</span><span class="p">)</span>

<span class="c1"># Add two peaks to the peaks workspace</span>
<span class="n">AddPeak</span><span class="p">(</span> <span class="n">pws</span><span class="p">,</span> <span class="n">ws</span><span class="p">,</span> <span class="n">TOF</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">DetectorID</span><span class="o">=</span><span class="mi">101</span><span class="p">,</span> <span class="n">Height</span><span class="o">=</span><span class="mi">1</span> <span class="p">)</span>
<span class="n">AddPeak</span><span class="p">(</span> <span class="n">pws</span><span class="p">,</span> <span class="n">ws</span><span class="p">,</span> <span class="n">TOF</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">DetectorID</span><span class="o">=</span><span class="mi">102</span><span class="p">,</span> <span class="n">Height</span><span class="o">=</span><span class="mi">2</span> <span class="p">)</span>
<span class="n">peak</span> <span class="o">=</span> <span class="n">pws</span><span class="o">.</span><span class="n">getPeak</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">setPeakNumber</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">peak</span> <span class="o">=</span> <span class="n">pws</span><span class="o">.</span><span class="n">getPeak</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">setPeakNumber</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>

<span class="c1"># Save the peaks workspace to a file in the user&#39;s home directory</span>
<span class="n">isawPeaksFilePath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s1">&#39;~/MantidUsageExample_ISawFile.peaks&#39;</span><span class="p">)</span>
<span class="n">SaveIsawPeaks</span><span class="p">(</span> <span class="n">pws</span><span class="p">,</span> <span class="n">isawPeaksFilePath</span> <span class="p">)</span>

<span class="c1"># Read the saved file back in</span>
<span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span> <span class="n">isawPeaksFilePath</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span> <span class="p">)</span>
<span class="n">file</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c1"># Print out 11 first lines of the peaks file, skipping line #8 because it&#39;s</span>
<span class="c1"># different on different systems and breaks tests</span>
<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">file</span><span class="p">[:</span><span class="mi">9</span><span class="p">]:</span>
    <span class="c1"># print the line stripping any ending white spaces</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">rstrip</span><span class="p">())</span>
<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">file</span><span class="p">[</span><span class="mi">10</span><span class="p">:</span><span class="mi">12</span><span class="p">]:</span>
    <span class="c1"># print the line stripping any ending white spaces</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">rstrip</span><span class="p">())</span>
</pre></div>
</div>
<section id="output">
<h3><a class="toc-backref" href="#id6" role="doc-backlink">Output</a><a class="headerlink" href="#output" title="Link to this heading">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Version: 2.0  Facility: Unknown  Instrument: basic_rect  Date: 1990-01-01T00:00:01
6         L1    T0_SHIFT
7  1000.0000       0.000
4 DETNUM  NROWS  NCOLS   WIDTH   HEIGHT   DEPTH   DETD   CenterX   CenterY   CenterZ    BaseX    BaseY    BaseZ      UpX      UpY      UpZ
5      1     10     10  8.0000  8.0000   0.2000 500.00    0.0000    0.0000  500.0000  1.00000  0.00000  0.00000  0.00000  1.00000  0.00000
5      2     10     10  8.0000  8.0000   0.2000 1000.00    0.0000    0.0000 1000.0000  1.00000  0.00000  0.00000  0.00000  1.00000  0.00000
0  NRUN DETNUM     CHI      PHI    OMEGA       MONCNT
1     0      1    0.00     0.00     0.00            0
2   SEQN    H    K    L     COL      ROW     CHAN        L2   2_THETA        AZ         WL         D      IPK       INTI    SIGI  RFLG
3      2    0    0    0    0.00     1.00      100   500.001   0.00160   1.57080   0.026374   16.4835        0       1.00    1.00   310
3      3    0    0    0    0.00     2.00      200   500.003   0.00320   1.57080   0.052747   16.4835        0       2.00    1.41   310
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/AlgorithmIndex.html">AlgorithmIndex</a> | <a class="reference external" href="categories/Crystal/DataHandling.html">Crystal\DataHandling</a> | <a class="reference external" href="categories/DataHandling/Isaw.html">DataHandling\Isaw</a></p>
</section>
</section>
<section id="source">
<h2><a class="toc-backref" href="#id7" role="doc-backlink">Source</a><a class="headerlink" href="#source" title="Link to this heading">¶</a></h2>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/1b00e0b0644260219c488cf4142569b296f21ab0/Framework/Crystal/inc/MantidCrystal/SaveIsawPeaks.h">SaveIsawPeaks.h</a></p>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/1b00e0b0644260219c488cf4142569b296f21ab0/Framework/Crystal/src/SaveIsawPeaks.cpp">SaveIsawPeaks.cpp</a></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="SaveIsawDetCal-v1.html" title="Previous Chapter: SaveIsawDetCal v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; SaveIsawDetCal v1</span>
    </a>
  </li>
  <li>
    <a href="SaveIsawQvector-v1.html" title="Next Chapter: SaveIsawQvector v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">SaveIsawQvector v1 &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>