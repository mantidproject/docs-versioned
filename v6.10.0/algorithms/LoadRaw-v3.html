<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>LoadRaw v3</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css?v=fadd4351" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=77160d70" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script src="../_static/documentation_options.js?v=770b529d"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="LoadRawBin0 v1" href="LoadRawBin0-v1.html" />
    <link rel="prev" title="LoadRKH v1" href="LoadRKH-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.10</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://www.mantidproject.org">Home</a></li>
                <li><a href="https://download.mantidproject.org">Download</a></li>
                <li><a href="https://docs.mantidproject.org">Documentation</a></li>
                <li><a href="https://www.mantidproject.org/contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Algorithms</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">LoadRaw v3</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="loadraw-v3">
<span id="algm-loadraw"></span><span id="algm-loadraw-v3"></span><h1>LoadRaw v3<a class="headerlink" href="#loadraw-v3" title="Link to this heading">¶</a></h1>
<nav class="contents local" id="table-of-contents">
<span id="index-0"></span><p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#summary" id="id1">Summary</a></p>
<ul>
<li><p><a class="reference internal" href="#see-also" id="id2">See Also</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#properties" id="id3">Properties</a></p></li>
<li><p><a class="reference internal" href="#description" id="id4">Description</a></p>
<ul>
<li><p><a class="reference internal" href="#optional-properties" id="id5">Optional properties</a></p></li>
<li><p><a class="reference internal" href="#multiperiod-data" id="id6">Multiperiod data</a></p></li>
<li><p><a class="reference internal" href="#subalgorithms-used" id="id7">Subalgorithms used</a></p></li>
<li><p><a class="reference internal" href="#alternate-data-stream" id="id8">Alternate Data Stream</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#previous-versions" id="id9">Previous Versions</a></p></li>
<li><p><a class="reference internal" href="#usage" id="id10">Usage</a></p></li>
<li><p><a class="reference internal" href="#source" id="id11">Source</a></p></li>
</ul>
</nav>
<section id="summary">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">Summary</a><a class="headerlink" href="#summary" title="Link to this heading">¶</a></h2>
<p>Loads a data file in ISIS  RAW format and stores it in a 2D workspace (Workspace2D class).</p>
<section id="see-also">
<h3><a class="toc-backref" href="#id2" role="doc-backlink">See Also</a><a class="headerlink" href="#see-also" title="Link to this heading">¶</a></h3>
<p><a class="reference internal" href="LoadVesuvio-v1.html#algm-loadvesuvio"><span class="std std-ref">LoadVesuvio</span></a>, <a class="reference internal" href="RawFileInfo-v1.html#algm-rawfileinfo"><span class="std std-ref">RawFileInfo</span></a>, <a class="reference internal" href="LoadSampleDetailsFromRaw-v1.html#algm-loadsampledetailsfromraw"><span class="std std-ref">LoadSampleDetailsFromRaw</span></a>, <a class="reference internal" href="LoadRawBin0-v1.html#algm-loadrawbin0"><span class="std std-ref">LoadRawBin0</span></a>, <a class="reference internal" href="LoadRawSpectrum0-v1.html#algm-loadrawspectrum0"><span class="std std-ref">LoadRawSpectrum0</span></a></p>
</section>
</section>
<section id="properties">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Properties</a><a class="headerlink" href="#properties" title="Link to this heading">¶</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Direction</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Filename</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>The name of the RAW file to read, including its full or relative path. The file extension must be .raw or .RAW (N.B. case sensitive if running on Linux). Allowed extensions: [‘.raw’, ‘.s*’, ‘.add’]</p></td>
</tr>
<tr class="row-odd"><td><p>OutputWorkspace</p></td>
<td><p>Output</p></td>
<td><p><a class="reference internal" href="../concepts/Workspace.html#workspace"><span class="std std-ref">Workspace</span></a></p></td>
<td><p><em>Mandatory</em></p></td>
<td><p>The name of the workspace that will be created, filled with the read-in data and stored in the Analysis Data Service. If the input RAW file contains multiple periods higher periods will be stored in separate workspaces called OutputWorkspace_PeriodNo.</p></td>
</tr>
<tr class="row-even"><td><p>Cache</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>If Slow</p></td>
<td><p>An option allowing the algorithm to cache a remote file on the local drive before loading. When “If Slow” is set the download speed is estimated and if is deemed as slow the file is cached. “Always” means always cache a remote file and “Never” - never cache. Allowed values: [‘If Slow’, ‘Always’, ‘Never’]</p></td>
</tr>
<tr class="row-odd"><td><p>LoadLogFiles</p></td>
<td><p>Input</p></td>
<td><p>boolean</p></td>
<td><p>True</p></td>
<td><p>Boolean option to load or skip log files. If this option is set all the log files associated with the selected raw file are loaded into workspace and can be displayed using right click  menu item Sample Logs…on the selected workspace. Note: If the log files contain motor positions, etc. that would affect the instrument geometry this option must be set to true for these adjustments to be applied to the instrument geometry.</p></td>
</tr>
<tr class="row-even"><td><p>SpectrumMin</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p>1</p></td>
<td><p>The index number of the first spectrum to read.  Only used if SpectrumMax is set.</p></td>
</tr>
<tr class="row-odd"><td><p>SpectrumMax</p></td>
<td><p>Input</p></td>
<td><p>number</p></td>
<td><p><em>Optional</em></p></td>
<td><p>The number of the last spectrum to read. Only used if explicitly set.</p></td>
</tr>
<tr class="row-even"><td><p>SpectrumList</p></td>
<td><p>Input</p></td>
<td><p>int list</p></td>
<td></td>
<td><p>A comma-separated list of individual spectra to read.  Only used if explicitly set.</p></td>
</tr>
<tr class="row-odd"><td><p>PeriodList</p></td>
<td><p>Input</p></td>
<td><p>int list</p></td>
<td></td>
<td><p>A comma-separated list of individual periods to read.  Only used if explicitly set.</p></td>
</tr>
<tr class="row-even"><td><p>LoadMonitors</p></td>
<td><p>Input</p></td>
<td><p>string</p></td>
<td><p>Include</p></td>
<td><p>Option to control the loading of monitors. Allowed options are Include,Exclude, Separate. Include:The default is Include option which loads the monitors into the output workspace. Exclude:The Exclude option excludes monitors from the output workspace. Separate:The Separate option loads monitors into a separate workspace called OutputWorkspace_monitor. Defined aliases: 1:  Equivalent to Separate. 0:  Equivalent to Exclude.  Allowed values: [‘Include’, ‘Exclude’, ‘Separate’]</p></td>
</tr>
</tbody>
</table>
</section>
<section id="description">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Description</a><a class="headerlink" href="#description" title="Link to this heading">¶</a></h2>
<p>The LoadRaw algorithm stores data from the <a class="reference internal" href="../concepts/RAWFile.html#raw-file"><span class="std std-ref">RAW file</span></a> in a
<a class="reference internal" href="../concepts/Workspace2D.html#workspace2d"><span class="std std-ref">Workspace2D</span></a>, which will naturally contain histogram
data with each spectrum going into a separate histogram. The time bin
boundaries (X values) will be common to all histograms and will have
their <a class="reference internal" href="../concepts/UnitFactory.html#unit-factory"><span class="std std-ref">units</span></a> set to time-of-flight. The Y values will contain
the counts and will be unit-less (i.e. no division by bin width or
normalisation of any kind). The errors, currently assumed Gaussian, will
be set to be the square root of the number of counts in the bin.</p>
<section id="optional-properties">
<h3><a class="toc-backref" href="#id5" role="doc-backlink">Optional properties</a><a class="headerlink" href="#optional-properties" title="Link to this heading">¶</a></h3>
<p>If only a portion of the data in the <a class="reference internal" href="../concepts/RAWFile.html#raw-file"><span class="std std-ref">RAW file</span></a> is
required, then the optional ‘spectrum’ properties can be set before
execution of the algorithm. Prior to loading of the data the values
provided are checked and the algorithm will fail if they are found to be
outside the limits of the dataset.</p>
</section>
<section id="multiperiod-data">
<h3><a class="toc-backref" href="#id6" role="doc-backlink">Multiperiod data</a><a class="headerlink" href="#multiperiod-data" title="Link to this heading">¶</a></h3>
<p>If the RAW file contains multiple periods of data this will be detected
and the different periods will be output as separate workspaces, which
after the first one will have the period number appended (e.g.
OutputWorkspace_period). Each workspace will share the same
<a class="reference internal" href="../concepts/Instrument.html#instrument"><span class="std std-ref">Instrument</span></a>, SpectraToDetectorMap and
<a class="reference internal" href="../api/python/mantid/api/Sample.html#mantid.api.Sample" title="mantid.api.Sample"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sample</span> <span class="pre">objects</span></code></a>. If the optional ‘spectrum’
properties are set for a multiperiod dataset, then they will ignored.</p>
<p>If PeriodList property isn’t empty then only periods listed there will be
loaded.</p>
</section>
<section id="subalgorithms-used">
<h3><a class="toc-backref" href="#id7" role="doc-backlink">Subalgorithms used</a><a class="headerlink" href="#subalgorithms-used" title="Link to this heading">¶</a></h3>
<p>LoadRaw runs the following algorithms as child algorithms to populate
aspects of the output <a class="reference internal" href="../concepts/Workspace.html#workspace"><span class="std std-ref">Workspace</span></a>:</p>
<ul class="simple">
<li><p><a class="reference internal" href="LoadInstrument-v1.html#algm-loadinstrument"><span class="std std-ref">LoadInstrument v1</span></a> - Looks for an instrument
definition file named XXX_Definition.xml, where XXX is the 3 letter
instrument prefix on the RAW filename, in the directory specified by
the “instrumentDefinition.directory” property given in the config
file (or, if not provided, in the relative path ../Instrument/). If
the instrument definition file is not found then the
<a class="reference internal" href="LoadInstrumentFromRaw-v1.html#algm-loadinstrumentfromraw"><span class="std std-ref">LoadInstrumentFromRaw v1</span></a> algorithm will be
run instead.</p></li>
<li><p><a class="reference internal" href="LoadMappingTable-v1.html#algm-loadmappingtable"><span class="std std-ref">LoadMappingTable v1</span></a> - To build up the mapping
between the spectrum numbers and the Detectors of the attached
<a class="reference internal" href="../concepts/Instrument.html#instrument"><span class="std std-ref">Instrument</span></a>.</p></li>
<li><p><a class="reference internal" href="LoadLog-v1.html#algm-loadlog"><span class="std std-ref">LoadLog v1</span></a> - Will look for any log files in the same
directory as the RAW file and load their data into the workspace’s
<a class="reference internal" href="../api/python/mantid/api/Sample.html#mantid.api.Sample" title="mantid.api.Sample"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sample</span> <span class="pre">objects</span></code></a>.</p></li>
</ul>
</section>
<section id="alternate-data-stream">
<h3><a class="toc-backref" href="#id8" role="doc-backlink">Alternate Data Stream</a><a class="headerlink" href="#alternate-data-stream" title="Link to this heading">¶</a></h3>
<p>RAW data files from the ISIS archive contain a second stream of data associated with
the same file object using the
<a class="reference external" href="https://en.wikipedia.org/wiki/Fork_(file_system)#Microsoft">NTFS Alternate Data Stream</a>
feature. The alternate stream can be accessed by appending <code class="docutils literal notranslate"><span class="pre">:checksum</span></code> to the filename
when opening the file. The stream stores MD5 checksums of all of the files associated with
the RAW file including log files and the corresponding ISIS NeXus file that can be loaded
with <a class="reference internal" href="LoadISISNexus-v2.html#algm-loadisisnexus-v2"><span class="std std-ref">LoadISISNexus</span></a>.
The following shows an example of the content found in the <code class="docutils literal notranslate"><span class="pre">:checksum</span></code> stream:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ad0bc56c4c556fa368565000f01e77f7</span> <span class="o">*</span><span class="n">IRIS00055132</span><span class="o">.</span><span class="n">log</span>
<span class="n">d5ace6dc7ac6c4365d48ee1f2906c6f4</span> <span class="o">*</span><span class="n">IRIS00055132</span><span class="o">.</span><span class="n">nxs</span>
<span class="mi">9</span><span class="n">c70ad392023515f775af3d3984882f3</span> <span class="o">*</span><span class="n">IRIS00055132</span><span class="o">.</span><span class="n">raw</span>
<span class="mi">66</span><span class="n">f74b6c0cc3eb497b92d4956ed8d6b5</span> <span class="o">*</span><span class="n">IRIS00055132_ICPdebug</span><span class="o">.</span><span class="n">txt</span>
<span class="n">e200aa65186b61e487175d5263b315aa</span> <span class="o">*</span><span class="n">IRIS00055132_ICPevent</span><span class="o">.</span><span class="n">txt</span>
<span class="mi">91</span><span class="n">be40aa4f54d050a9eb4abea394720e</span> <span class="o">*</span><span class="n">IRIS00055132_ICPstatus</span><span class="o">.</span><span class="n">txt</span>
<span class="mi">50</span><span class="n">aa2872110a9b862b01c6c83f8ce9a8</span> <span class="o">*</span><span class="n">IRIS00055132_Status</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
<p>The MD5 checksum of the RAW file itself is not affected by the presence of the alternate stream.
If the RAW file is copied to a filesystem that does not support the alternate stream then
the stream is dropped.</p>
</section>
</section>
<section id="previous-versions">
<h2><a class="toc-backref" href="#id9" role="doc-backlink">Previous Versions</a><a class="headerlink" href="#previous-versions" title="Link to this heading">¶</a></h2>
<p>LoadRaw version 1 and 2 are no longer available in Mantid. Version 3 has
been validated and in active use for several years, if you really need a
previous version of this algorithm you will need to use an earlier
version of Mantid.</p>
</section>
<section id="usage">
<h2><a class="toc-backref" href="#id10" role="doc-backlink">Usage</a><a class="headerlink" href="#usage" title="Link to this heading">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To run these usage examples please first download the
<a class="reference external" href="https://sourceforge.net/projects/mantid/files/Sample%20Data/UsageData.zip/download">usage data</a>,
and add these to your path.
In Mantid this is done using <a class="reference internal" href="../interfaces/framework/ManageUserDirectories.html#manageuserdirectories"><span class="std std-ref">Manage User Directories</span></a>.</p>
</div>
<p><strong>Example 1: using defaults</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load a RAW file using all defaults</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">Load</span><span class="p">(</span><span class="s1">&#39;HRP39180.RAW&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Workspace has </span><span class="si">{}</span><span class="s1"> spectra&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ws</span><span class="o">.</span><span class="n">getNumberHistograms</span><span class="p">()))</span>
<span class="c1"># Get a detector in histogram 1024 of the workspace</span>
<span class="n">detid</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">getSpectrum</span><span class="p">(</span><span class="mi">1024</span><span class="p">)</span><span class="o">.</span><span class="n">getDetectorIDs</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Is detector </span><span class="si">{}</span><span class="s1"> a monitor? </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">detid</span><span class="p">,</span> <span class="n">ws</span><span class="o">.</span><span class="n">getInstrument</span><span class="p">()</span><span class="o">.</span><span class="n">getDetector</span><span class="p">(</span><span class="n">detid</span><span class="p">)</span><span class="o">.</span><span class="n">isMonitor</span><span class="p">()))</span>

<span class="c1"># Get the Run object</span>
<span class="n">run</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Workspace contains </span><span class="si">{}</span><span class="s1"> logs&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">run</span><span class="o">.</span><span class="n">keys</span><span class="p">())))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Workspace has property INT1: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">run</span><span class="o">.</span><span class="n">hasProperty</span><span class="p">(</span><span class="s1">&#39;INT1&#39;</span><span class="p">)))</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Workspace has 2890 spectra
Is detector 1001 a monitor? True
Workspace contains 35 logs
Workspace has property INT1: True
</pre></div>
</div>
<p><strong>Example 2: load without the logs</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load a RAW file without the logs</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">Load</span><span class="p">(</span><span class="s1">&#39;HRP39180.RAW&#39;</span><span class="p">,</span><span class="n">LoadLogFiles</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Workspace has </span><span class="si">{}</span><span class="s1"> spectra&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ws</span><span class="o">.</span><span class="n">getNumberHistograms</span><span class="p">()))</span>
<span class="c1"># Get a detector in histogram 1024 of the workspace</span>
<span class="n">detid</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">getSpectrum</span><span class="p">(</span><span class="mi">1024</span><span class="p">)</span><span class="o">.</span><span class="n">getDetectorIDs</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Is detector </span><span class="si">{}</span><span class="s1"> a monitor? </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">detid</span><span class="p">,</span> <span class="n">ws</span><span class="o">.</span><span class="n">getInstrument</span><span class="p">()</span><span class="o">.</span><span class="n">getDetector</span><span class="p">(</span><span class="n">detid</span><span class="p">)</span><span class="o">.</span><span class="n">isMonitor</span><span class="p">()))</span>

<span class="c1"># Get the Run object</span>
<span class="n">run</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Workspace contains </span><span class="si">{}</span><span class="s1"> logs&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">run</span><span class="o">.</span><span class="n">keys</span><span class="p">())))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Workspace has property INT1: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">run</span><span class="o">.</span><span class="n">hasProperty</span><span class="p">(</span><span class="s1">&#39;INT1&#39;</span><span class="p">)))</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Workspace has 2890 spectra
Is detector 1001 a monitor? True
Workspace contains 29 logs
Workspace has property INT1: False
</pre></div>
</div>
<p><strong>Example 3: exclude monitors</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load a RAW file without the monitors</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">Load</span><span class="p">(</span><span class="s1">&#39;HRP39180.RAW&#39;</span><span class="p">,</span><span class="n">LoadMonitors</span><span class="o">=</span><span class="s1">&#39;Exclude&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Workspace has </span><span class="si">{}</span><span class="s1"> spectra&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ws</span><span class="o">.</span><span class="n">getNumberHistograms</span><span class="p">()))</span>
<span class="c1"># Get a detector in histogram 1024 of the workspace</span>
<span class="n">detid</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">getSpectrum</span><span class="p">(</span><span class="mi">1024</span><span class="p">)</span><span class="o">.</span><span class="n">getDetectorIDs</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Is detector </span><span class="si">{}</span><span class="s1"> a monitor? </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">detid</span><span class="p">,</span> <span class="n">ws</span><span class="o">.</span><span class="n">getInstrument</span><span class="p">()</span><span class="o">.</span><span class="n">getDetector</span><span class="p">(</span><span class="n">detid</span><span class="p">)</span><span class="o">.</span><span class="n">isMonitor</span><span class="p">()))</span>

<span class="c1"># Get the Run object</span>
<span class="n">run</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Workspace contains </span><span class="si">{}</span><span class="s1"> logs&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">run</span><span class="o">.</span><span class="n">keys</span><span class="p">())))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Workspace has property INT1: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">run</span><span class="o">.</span><span class="n">hasProperty</span><span class="p">(</span><span class="s1">&#39;INT1&#39;</span><span class="p">)))</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Workspace has 2888 spectra
Is detector 901000 a monitor? False
Workspace contains 35 logs
Workspace has property INT1: True
</pre></div>
</div>
<p><strong>Example 4: load monitors separately</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load a RAW file, load the monitors into a separate workspace</span>
<span class="n">dataws</span><span class="p">,</span><span class="n">monitorws</span> <span class="o">=</span> <span class="n">Load</span><span class="p">(</span><span class="s1">&#39;HRP39180.RAW&#39;</span><span class="p">,</span><span class="n">LoadMonitors</span><span class="o">=</span><span class="s1">&#39;Separate&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Data workspace has </span><span class="si">{}</span><span class="s1"> spectra&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">dataws</span><span class="o">.</span><span class="n">getNumberHistograms</span><span class="p">()))</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Monitor workspace has </span><span class="si">{}</span><span class="s1"> spectra&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">monitorws</span><span class="o">.</span><span class="n">getNumberHistograms</span><span class="p">()))</span>
<span class="c1"># Check that the detector in the first histogram of the monitor workspace is a monitor</span>
<span class="n">detid</span> <span class="o">=</span> <span class="n">monitorws</span><span class="o">.</span><span class="n">getSpectrum</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">getDetectorIDs</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Is detector </span><span class="si">{}</span><span class="s1"> a monitor? </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">detid</span><span class="p">,</span> <span class="n">monitorws</span><span class="o">.</span><span class="n">getInstrument</span><span class="p">()</span><span class="o">.</span><span class="n">getDetector</span><span class="p">(</span><span class="n">detid</span><span class="p">)</span><span class="o">.</span><span class="n">isMonitor</span><span class="p">()))</span>

<span class="c1"># Check that the detector in the second histogram of the monitor workspace is a monitor</span>
<span class="n">detid</span> <span class="o">=</span> <span class="n">monitorws</span><span class="o">.</span><span class="n">getSpectrum</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">getDetectorIDs</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Is detector </span><span class="si">{}</span><span class="s1"> a monitor? </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">detid</span><span class="p">,</span> <span class="n">monitorws</span><span class="o">.</span><span class="n">getInstrument</span><span class="p">()</span><span class="o">.</span><span class="n">getDetector</span><span class="p">(</span><span class="n">detid</span><span class="p">)</span><span class="o">.</span><span class="n">isMonitor</span><span class="p">()))</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Data workspace has 2888 spectra
Monitor workspace has 2 spectra
Is detector 1001 a monitor? True
Is detector 1002 a monitor? True
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/AlgorithmIndex.html">AlgorithmIndex</a> | <a class="reference external" href="categories/DataHandling/Raw.html">DataHandling\Raw</a></p>
</section>
<section id="source">
<h2><a class="toc-backref" href="#id11" role="doc-backlink">Source</a><a class="headerlink" href="#source" title="Link to this heading">¶</a></h2>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/1b00e0b0644260219c488cf4142569b296f21ab0/Framework/DataHandling/inc/MantidDataHandling/LoadRaw3.h">LoadRaw3.h</a></p>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/1b00e0b0644260219c488cf4142569b296f21ab0/Framework/DataHandling/src/LoadRaw3.cpp">LoadRaw3.cpp</a></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="LoadRKH-v1.html" title="Previous Chapter: LoadRKH v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; LoadRKH v1</span>
    </a>
  </li>
  <li>
    <a href="LoadRawBin0-v1.html" title="Next Chapter: LoadRawBin0 v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">LoadRawBin0 v1 &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>